<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The Vector Properties Dialog</title>
    
    <link rel="stylesheet" href="../../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-2.3.2/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/qgis-style.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-2.3.2/css/bootstrap-responsive.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '2.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/qgis-site.js"></script>
    <script type="text/javascript" src="../../../_static/bootstrap-2.3.2/js/bootstrap.min.js"></script>
    <link rel="shortcut icon" href="../../../_static/images/favicon.ico?1322140996"/>
    <link rel="top" title="" href="../../../index.html" />
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
    <meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>



    
  <div id="navbar" class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>

        <a class="brand" href="../index.html">QGIS Documentation Project</a>
        <span class="navbar-text pull-left"></span>
        
          <select id="languages">
  <!-- note on the options here: the 'title' string is to be translated in your
  language, but the element text is supposed to stay in native lang/txt -->
  <option value="en" title="English">English</option>
  <option value="de" title="German">Deutsch</option>
  <option value="fr" title="French">Français</option>
  <option value="it" title="Italian">Italiano</option>
</select>

<script>
    var currentPage = 'docs/user_manual/working_with_vector/vector_properties.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    // split index.html if currentUrl is ended by '/'
    var currentUrl = window.location.href;
    if (currentUrl.slice(-1) == '/' && currentPage.slice(-1) != '/'){
      var pages = currentPage.split('/');
      pages.pop();
      currentPage = pages.join('/') + '/';
    }
    $(document).ready(function(){
        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is the index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave
        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('This is an documentation error, please report back to QGIS devs.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        // TODO: links should come from conf.py
        // TODO: all template pages have the actual translation in sphinc.conf
        // IMPORTANT: space, -, _ etc replacing below must be 100% inline with
        // code in scripts/create_transifex_resources.sh !!
        // https://github.com/qgis/QGIS-Website/blob/master/scripts/create_transifex_resources.sh
        fix_translation_link = 'https://www.transifex.com/projects/p/qgis-documentation/translate/#' + 
            currentLang.slice(1) + currentPage.replace(/_/g, "-").replace(/ /g, "-").replace(/\//g, "_").replace(/\.html/g, "").replace(/\./g, "-")
        if ('/en/' != currentLang) {
            $('#fix_translation_link').attr('href', fix_translation_link);
        }
        fix_text_link = 'https://github.com/qgis/QGIS-Documentation/edit/master/source/' +
            currentPage.replace(/.html/g, ".rst")
        // TODO: only on rst pages, here a list of pages which are actual templates?
        if (true){
            $('#fix_text_link').attr('href', fix_text_link);
        }

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>
        
        <div class="nav-collapse collapse">
          <ul class="unstyled nav main-menu">
            <!--<li><a href="../../../site/about/index.html">Discover QGIS</a></li>
            <li><a href="../../../site/forusers/index.html">For Users</a></li>
            <li><a href="../../../site/getinvolved/index.html">Get Involved</a></li>
            <li><a href="../../index.html">Documentation</a></li>-->
            <li><a href="../../index.html">User Guide</a></li>
            <li>
          
<form class="navbar-search" action="../../../search.html" method="get">
  <input type="text" name="q" class="search-query" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </li>
          </ul>
        </div>
      </div>
    </div>
  </div>

    
    <div class="related">
       
      
      <ul>
        <li><a href="../index.html"></a> &raquo;</li> 
      </ul>
    </div>
    <div style="display:none;" class="container" id="nextprev" >
    
    
    </div>




    
        <div class="container">
            <div class="row">
      <div class="span4">
        <div id="sidebar" class="bs-sidenav well" data-spy="scroll">
<h3><a href="../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../preamble/conventions.html">Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/qgis_gui.html">KADAS GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ribbons/my_maps.html">Meine Karten</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ribbons/view.html">Ansicht</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ribbons/analysis.html">Analyse</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ribbons/draw.html">Zeichnen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ribbons/gps.html">GPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ribbons/mss.html">MSS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ribbons/settings.html">Einstellungen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ribbons/help.html">Hilfe</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendices/appendices.html">Appendix</a></li>
</ul>

        </div>
      </div>
                <div class="span8">
                    
                        
                            <p>.</p>
<div class="section" id="the-vector-properties-dialog">
<span id="vector-properties-dialog"></span><h1>The Vector Properties Dialog<a class="headerlink" href="#the-vector-properties-dialog" title="Permalink to this headline">¶</a></h1>
<p>TODO: wurde leicht abgeändert</p>
<p>The <em class="guilabel">Layer Properties</em> dialog for a vector layer provides information
about the layer, symbology settings and labeling options. If your vector layer
has been loaded from a PostgreSQL/PostGIS datastore, you can also alter the
underlying SQL for the layer by invoking the <em class="guilabel">Query Builder</em> dialog on
the <em class="guilabel">General</em> tab. To access the <em class="guilabel">Layer Properties</em> dialog,
double-click on a layer in the legend or right-click on the layer and select
<em class="menuselection">Properties</em> from the pop-up menu.</p>
<p><strong>Figure Vector Properties 1:</strong></p>
<div class="figure align-center" id="figure-vector-properties-1">
<img alt="../../../_images/vector_general_menu.png" src="../../../_images/vector_general_menu.png" />
<p class="caption">Vector Layer Properties Dialog <a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a></p>
</div>
<div class="section" id="style-menu">
<span id="vector-style-menu"></span><h2>Style Menu<a class="headerlink" href="#style-menu" title="Permalink to this headline">¶</a></h2>
<p>The Style menu provides you with a comprehensive tool for rendering and symbolizing your
vector data. You can use <em class="menuselection">Layer rendering ‣</em> tools that are common to
all vector data, as well as special symbolizing tools that were designed for the different kinds
of vector data.</p>
<div class="section" id="renderers">
<h3>Renderers<a class="headerlink" href="#renderers" title="Permalink to this headline">¶</a></h3>
<p>The renderer is responsible for drawing a feature together with the correct
symbol. There are four types of renderers: single symbol, categorized, graduated and rule-based.
There is no continuous color renderer, because it is in fact only a special case
of the graduated renderer. The categorized and graduated renderers can be created
by specifying a symbol and a color ramp - they will set the colors for symbols
appropriately. For point layers, there is a point displacement renderer available.
For each data type (points, lines and polygons), vector symbol layer types are available.
Depending on the chosen renderer, the <em class="guilabel">Style</em> menu provides different
additional sections. On the bottom right of the symbology dialog, there is a <strong>[Symbol]</strong> button, which gives access
to the Style Manager (see <em class="xref std std-ref">vector_style_manager</em>). The Style Manager allows you to edit and remove
existing symbols and add new ones.</p>
<p>After having made any needed changes, the symbol can be added to the list of
current style symbols (using <strong>[Symbol]</strong> <a class="reference internal" href="../../../_images/selectstring.png"><img alt="selectstring" src="../../../_images/selectstring.png" style="width: 2.5em;" /></a> <em class="guilabel">Save in symbol library</em>),
and then it can easily be used in the future. Furthermore, you can use the <strong>[Save Style]</strong> <a class="reference internal" href="../../../_images/selectstring.png"><img alt="selectstring" src="../../../_images/selectstring.png" style="width: 2.5em;" /></a> button to
save the symbol as a KADAS layer style file (.qml) or SLD file (.sld). SLDs can be exported from any type of renderer &#8211; single symbol,
categorized, graduated or rule-based &#8211; but when importing an SLD, either a
single symbol or rule-based renderer is created.
That means that categorized or graduated styles are converted to rule-based.
If you want to preserve those renderers, you have to stick to the QML format.
On the other hand, it can be very handy sometimes to have this easy way of
converting styles to rule-based.</p>
<p>If you change the renderer type when setting the style of a vector layer the settings
you made for the symbol will be maintained. Be aware that this procedure only works
for one change. If you repeat changing the renderer type the settings for the symbol
will get lost.</p>
<p>If the datasource of the layer is a database (PostGIS or Spatialite for example),
you can save your layer style inside a table of the database. Just click on
<em class="guilabel">Save Style</em> comboxbox and choose <strong>Save in database</strong> item then fill in
the dialog to define a style name, add a description, an ui file and if the style
is a default style. When loading a layer from the database, if a style already
exists for this layer, KADAS will load the layer and its style. You can add
several style in the database. Only one will be the default style anyway.</p>
<p><strong>Figure Vector Properties 2:</strong></p>
<div class="figure align-center" id="figure-vector-properties-2">
<img alt="../../../_images/save_style_database.png" src="../../../_images/save_style_database.png" />
<p class="caption">Save Style in database Dialog <a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a></p>
</div>
<div class="admonition tip" id="tip-change-multiple-symbols">
<p class="first admonition-title">Tip</p>
<p><strong>Select and change multiple symbols</strong></p>
<p class="last">The Symbology allows you to select multiple symbols and right
click to change color, transparency, size, or width of selected
entries.</p>
</div>
<p id="index-0"><strong>Single Symbol Renderer</strong></p>
<p>The Single Symbol Renderer is used to render all features of the layer using
a single user-defined symbol. The properties, which can be adjusted in the
<em class="guilabel">Style</em> menu, depend partially on the type of layer, but all types share
the following dialog structure. In the top-left part of the menu, there is a preview
of the current symbol to be rendered. On the right part of the menu, there is
a list of symbols already defined for the current style, prepared to be used
by selecting them from the list. The current symbol can be modified using
the menu on the right side.</p>
<p id="defining-symbols">If you click on the first level in the <em class="guilabel">Symbol layers</em> dialog on the left
side, it&#8217;s possible to define basic parameters like <em class="guilabel">Size</em>, <em class="guilabel">Transparency</em>, <em class="guilabel">color</em>
and <em class="guilabel">Rotation</em>. Here, the layers are joined together.</p>
<p id="figure-symbology-3"><strong>Figure Symbology 3:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/singlesymbol_ng_line.png" src="../../../_images/singlesymbol_ng_line.png" />
<p class="caption">Single symbol line properties <a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a></p>
</div>
<p>In any spinbox in this dialog you can enter expressions. E.g. you can calculate simple
math like multiplying the existing size of a point by 3 without resorting to a calculator.</p>
<p id="figure-symbology-4"><strong>Figure Symbology 4:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/expression_symbol_size_spinbox.png" src="../../../_images/expression_symbol_size_spinbox.png" />
<p class="caption">Expression in Size spinbox <a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a></p>
</div>
<p>If you click on the second level in the <em class="guilabel">Symbol layers</em> dialog a &#8216;Data-defined override&#8217;
for nearly all settings is possible. When using a data-defined color one may want to link the color to a
field &#8216;budged&#8217;. Here a comment functionality is inserted.</p>
<div class="highlight-python"><pre>/* This expression will return a color code depending on the field value.
 * Negative value: red
 * 0 value: yellow
 * Positive value: green
 */
CASE
  WHEN value &lt; 0 THEN '#DC143C' -- Negative value: red
  WHEN value = 0 THEN '#CCCC00' -- Value 0: yellow
  ELSE '#228B22'                -- Positive value: green
END</pre>
</div>
<p id="figure-symbology-5"><strong>Figure Symbology 5:</strong></p>
<div class="figure align-center">
<img alt="static/user_manual/working_with_vector/symbol_data_defined_edit.png" src="static/user_manual/working_with_vector/symbol_data_defined_edit.png" />
<p class="caption">Data-defined symbol with Edit... menu</p>
</div>
<p id="index-1"><strong>Categorized Renderer</strong></p>
<p>The Categorized Renderer is used to render all features from a layer, using
a single user-defined symbol whose color reflects the value of a selected
feature&#8217;s attribute. The <em class="guilabel">Style</em> menu allows you to select:</p>
<ul class="simple">
<li>The attribute (using the Column listbox or the <a class="reference internal" href="../../../_images/mIconExpressionEditorOpen.png"><img alt="mActionmIconExpressionEditorOpen" src="../../../_images/mIconExpressionEditorOpen.png" style="width: 1.5em;" /></a>
<em class="guilabel">Set column expression</em> function, see <a class="reference internal" href="expression.html#vector-expressions"><em>Expressions</em></a>)</li>
<li>The symbol (using the Symbol dialog)</li>
<li>The colors (using the color Ramp listbox)</li>
</ul>
<p>Then click on <strong>Classify</strong> button to create classes from the distinct value of
the attribute column. Each classes can be disabled unchecking the checkbox at
the left of the class name.</p>
<p>You can change symbol, value and/or label of the class, just double click
on the item you want to change.</p>
<p>Right-click shows a contextual menu to <strong>Copy/Paste</strong>, <strong>Change color</strong>, <strong>Change
transparency</strong>, <strong>Change output unit</strong>, <strong>Change symbol width</strong>.</p>
<p>The <strong>[Advanced]</strong> button in the lower-right corner of the dialog allows you to
set the fields containing rotation and size scale information.
For convenience, the center of the menu lists the values of
all currently selected attributes together, including the symbols that will
be rendered.</p>
<p>The example in <a class="reference internal" href="#figure-symbology-6">figure_symbology_6</a> shows the category rendering dialog used
for the rivers layer of the KADAS sample dataset.</p>
<p id="figure-symbology-6"><strong>Figure Symbology 6:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/categorysymbol_ng_line.png" src="../../../_images/categorysymbol_ng_line.png" />
<p class="caption">Categorized Symbolizing options <a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a></p>
</div>
<span class="target" id="index-2"></span><p id="index-3"><strong>Graduated Renderer</strong></p>
<p>The Graduated Renderer is used to render all the features from a layer, using
a single user-defined symbol whose color reflects the assignment of a
selected feature&#8217;s attribute to a class.</p>
<p id="figure-symbology-7"><strong>Figure Symbology 7:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/graduatesymbol_ng_line.png" src="../../../_images/graduatesymbol_ng_line.png" />
<p class="caption">Graduated Symbolizing options <a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a></p>
</div>
<p>Like the Categorized Renderer, the Graduated Renderer allows you
to define rotation and size scale from specified columns.</p>
<p>Also, analogous to the Categorized Renderer, the <em class="guilabel">Style</em> tab allows you to
select:</p>
<ul class="simple">
<li>The attribute (using the Column listbox or the <a class="reference internal" href="../../../_images/mIconExpressionEditorOpen.png"><img alt="mActionmIconExpressionEditorOpen" src="../../../_images/mIconExpressionEditorOpen.png" style="width: 1.5em;" /></a>
<em class="guilabel">Set column expression</em> function, see <a class="reference internal" href="expression.html#vector-expressions"><em>Expressions</em></a> chapter)</li>
<li>The symbol (using the Symbol Properties button)</li>
<li>The colors (using the color Ramp list)</li>
</ul>
<p>Additionally, you can specify the number of classes and also the mode for
classifying features within the classes (using the Mode list). The available
modes are:</p>
<ul class="simple">
<li>Equal Interval: each class has the same size (e.g. values from 0 to 16 and 4 classes, each class has a size of 4);</li>
<li>Quantile: each class will have the same number of element inside (the idea of a boxplot);</li>
<li>Natural Breaks (Jenks): the variance within each class is minimal while the variance between classes is maximal;</li>
<li>Standard Deviation: classes are built depending on the standard deviation of the values;</li>
<li>Pretty Breaks: the same of natural breaks but the extremes number of each class are integers.</li>
</ul>
<p>The listbox in the center part of the <em class="guilabel">Style</em> menu lists the classes
together with their ranges, labels and symbols that will be rendered.</p>
<p>Click on <strong>Classify</strong> button to create classes using the choosen mode. Each
classes can be disabled unchecking the checkbox at the left of the class name.</p>
<p>You can change symbol, value and/or label of the clic, just double clicking
on the item you want to change.</p>
<p>Right-click shows a contextual menu to <strong>Copy/Paste</strong>, <strong>Change color</strong>, <strong>Change
transparency</strong>, <strong>Change output unit</strong>, <strong>Change symbol width</strong>.</p>
<p>The example in <a class="reference internal" href="#figure-symbology-7">figure_symbology_7</a> shows the graduated rendering dialog for
the rivers layer of the KADAS sample dataset.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p><strong>Thematic maps using an expression</strong></p>
<p class="last">Categorized and graduated thematic maps can now be created using the result of an expression.
In the properties dialog for vector layers, the attribute chooser has been augmented with a
<a class="reference internal" href="../../../_images/mIconExpressionEditorOpen.png"><img alt="mActionmIconExpressionEditorOpen" src="../../../_images/mIconExpressionEditorOpen.png" style="width: 1.5em;" /></a> <em class="guilabel">Set column expression</em> function. So now you no longer
need to write the classification attribute to a new column in your attribute table if you want the
classification attribute to be a composite of multiple fields, or a formula of some sort.</p>
</div>
<p id="index-4"><strong>Rule-based rendering</strong></p>
<p>The Rule-based Renderer is used to render all the features from a layer, using
rule based symbols whose color reflects the assignment of a selected
feature&#8217;s attribute to a class. The rules are based on SQL statements. The dialog
allows rule grouping by filter or scale, and you can decide if you want to enable
symbol levels or use only the first-matched rule.</p>
<p>The example in <a class="reference internal" href="#figure-symbology-8">figure_symbology_8</a> shows the rule-based rendering dialog
for the rivers layer of the KADAS sample dataset.</p>
<p>To create a rule, activate an existing row by double-clicking on it, or click on &#8216;+&#8217; and
click on the new rule. In the <em class="guilabel">Rule properties</em> dialog, you can define a label
for the rule. Press the <a class="reference internal" href="../../../_images/browsebutton.png"><img alt="browsebutton" src="../../../_images/browsebutton.png" style="width: 2.3em;" /></a> button to open the expression string builder. In
the <strong>Function List</strong>, click on <em class="guilabel">Fields and Values</em> to view all attributes of
the attribute table to be searched. To add an attribute to the field calculator <strong>Expression</strong> field,
double click its name in the <em class="guilabel">Fields and Values</em> list. Generally, you
can use the various fields, values and functions to construct the calculation
expression, or you can just type it into the box (see <a class="reference internal" href="expression.html#vector-expressions"><em>Expressions</em></a>).
You can create a new rule by copying and pasting an existing rule with the right mouse button.
You can also use the &#8216;ELSE&#8217; rule that will be run if none of the other
rules on that level match.
The rules appear in a tree hierarchy in the map legend. Just double-klick
the rules in the map legend and the Style menu of the layer properties appears showing the rule that
is the background for the symbol in the tree.</p>
<p id="figure-symbology-8"><strong>Figure Symbology 8:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/rulesymbol_ng_line.png" src="../../../_images/rulesymbol_ng_line.png" />
<p class="caption">Rule-based Symbolizing options <a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a></p>
</div>
<span class="target" id="index-5"></span><p id="index-6"><strong>Point displacement</strong></p>
<p>The Point Displacement Renderer works to visualize all features of a point layer,
even if they have the same location. To do this, the symbols of the points are
placed on a displacement circle around a center symbol.</p>
<p id="figure-symbology-9"><strong>Figure Symbology 9:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/poi_displacement.png" src="../../../_images/poi_displacement.png" />
<p class="caption">Point displacement dialog <a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a></p>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p><strong>Export vector symbology</strong></p>
<p class="last">You have the option to export vector symbology from KADAS into Google *.kml, *.dxf
and MapInfo *.tab files. Just open the right mouse menu of the layer and click on <em class="menuselection">Save selection
as ‣</em> to specify the name of the output file and its format.
In the dialog, use the <em class="guilabel">Symbology export</em> menu to save the symbology either as
<em class="menuselection">Feature symbology ‣</em> or as <em class="menuselection">Symbol layer symbology ‣</em>.
If you have used symbol layers, it is recommended to use the second setting.</p>
</div>
<p id="index-7"><strong>Inverted Polygon</strong></p>
<p>Inverted polygon renderer allows user to define a symbol to fill in outside of the layer&#8217;s
polygons. As before you can select subrenderers. These subrenderers are the
same as for the main renderers.</p>
<p id="figure-symbology-10"><strong>Figure Symbology 10:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/inverted_polygon_symbol.png" src="../../../_images/inverted_polygon_symbol.png" />
<p class="caption">Inverted Polygon dialog <a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a></p>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p><strong>Switch quickly between styles</strong></p>
<p class="last">Once you created one of the above mentioned styles you can right-klick on the layer and
choose <em class="menuselection">Styles ‣ Add</em> to save your style. Now you can easily switch between
styles you created using the <em class="menuselection">Styles ‣</em> menu again.</p>
</div>
<p id="index-8"><strong>Heatmap</strong></p>
<p>With the Heatmap renderer you can create live dynamic heatmaps for (multi)point layers. You can
specify the heatmap radius in pixels, mm or map units, choose a color ramp for the heatmap style
and use a slider for selecting a tradeoff between render speed and quality.
When adding or removing a feature the heatmap renderer updates the heatmap style automatically.</p>
</div>
<div class="section" id="color-picker">
<span id="id1"></span><h3>Color Picker<a class="headerlink" href="#color-picker" title="Permalink to this headline">¶</a></h3>
<p>Regardless the type of style to be used, the <em class="guilabel">select color</em> dialog will show when you click to choose a
color - either border or fill color. This dialog has four different tabs which allow you to select colors by <a class="reference internal" href="../../../_images/mIconColorBox.png"><img alt="mIconColorBox" src="../../../_images/mIconColorBox.png" style="width: 1.5em;" /></a> <sup>color ramp</sup>,
<a class="reference internal" href="../../../_images/mIconColorWheel.png"><img alt="mIconColorWheel" src="../../../_images/mIconColorWheel.png" style="width: 1.5em;" /></a> <sup>color wheel</sup>, <a class="reference internal" href="../../../_images/mIconColorSwatches.png"><img alt="mIconColorSwatches" src="../../../_images/mIconColorSwatches.png" style="width: 1.5em;" /></a> <sup>color swatches</sup> or <a class="reference internal" href="../../../_images/mIconColorPicker.png"><img alt="mIconColorPicker" src="../../../_images/mIconColorPicker.png" style="width: 1.5em;" /></a> <sup>color picker</sup>.</p>
<p>Whatever method you use, the selected color is always described through color sliders for HSV  (Hue, Saturation, Value)
and RGB (Red, Green, Blue) values. There is also an <em class="guilabel">opacity</em> slider to set transparency level. On the lower left part
of the dialog you can see a comparison between the <em class="guilabel">current</em> and the <em class="guilabel">new</em> color you are presently
selecting and on the lower right part you have the option to add the color you just tweaked into a color slot button.</p>
<p id="figure-color-picker-1"><strong>Figure color picker 1:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/color_picker_ramp.png" src="../../../_images/color_picker_ramp.png" />
<p class="caption">Color picker ramp tab <a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a></p>
</div>
<p>With <a class="reference internal" href="../../../_images/mIconColorBox.png"><img alt="mIconColorBox" src="../../../_images/mIconColorBox.png" style="width: 1.5em;" /></a> <sup>color ramp</sup> or with <a class="reference internal" href="../../../_images/mIconColorWheel.png"><img alt="mIconColorWheel" src="../../../_images/mIconColorWheel.png" style="width: 1.5em;" /></a> <sup>color wheel</sup>, you can browse to all possible color combinations.
There are other possibilities though. By using <cite>color swatches</cite> <a class="reference internal" href="../../../_images/mIconColorSwatches.png"><img alt="mIconColorSwatches" src="../../../_images/mIconColorSwatches.png" style="width: 1.5em;" /></a> you can choose from a preselected list. This selected list is
populated with one of three methods: <em class="guilabel">Recent colors</em>, <em class="guilabel">Standard colors</em> or <em class="guilabel">Project colors</em></p>
<p id="figure-color-picker-2"><strong>Figure color picker 2:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/color_picker_recent_colors.png" src="../../../_images/color_picker_recent_colors.png" />
<p class="caption">Color picker swatcher tab <a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a></p>
</div>
<p>Another option is to use the <a class="reference internal" href="../../../_images/mIconColorPicker.png"><img alt="mIconColorPicker" src="../../../_images/mIconColorPicker.png" style="width: 1.5em;" /></a> <sup>color picker</sup> which allows you to sample a color from under your mouse pointer at any part of
QGIS or even from another application by pressing the space bar. Please note that the color picker is OS dependent and is currently not supported by OSX.</p>
<div class="admonition tip" id="tip-quick-color-picker-copy-paste-colors">
<p class="first admonition-title">Tip</p>
<p><strong>quick color picker + copy/paste colors</strong></p>
<p class="last">You can quickly choose from <em class="guilabel">Recent colors</em>, from <em class="guilabel">Standard colors</em> or simply <em class="guilabel">copy</em> or <em class="guilabel">paste</em> a color by clicking
the drop-down arrow that follows a current color box.</p>
</div>
<p id="figure-color-picker-3"><strong>Figure color picker 3:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/quick_color_picker.png" src="../../../_images/quick_color_picker.png" />
<p class="caption">Quick color picker menu <a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a></p>
</div>
</div>
<div class="section" id="layer-rendering">
<h3>Layer rendering<a class="headerlink" href="#layer-rendering" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><em class="guilabel">Layer transparency</em> <img alt="slider" src="../../../_images/slider.png" />: You can make the underlying layer in the map canvas
visible with this tool. Use the slider to adapt the visibility of your vector layer to your needs.
You can also make a precise definition of the percentage of visibility in the the menu beside the slider.</li>
</ul>
<ul class="simple" id="blend-modes">
<li><em class="guilabel">Layer blending mode</em> and <em class="guilabel">Feature blending mode</em>: You can achieve special rendering effects with these tools that you may
previously only know from graphics programs. The pixels of your overlaying and underlaying layers are mixed
through the settings described below.<ul>
<li>Normal: This is the standard blend mode, which uses the alpha channel of the top pixel to blend with the pixel beneath it. The colors aren&#8217;t mixed.</li>
<li>Lighten: This selects the maximum of each component from the foreground and background pixels. Be aware that the results tend to be jagged and harsh.</li>
<li>Screen: Light pixels from the source are painted over the destination, while dark pixels are not. This mode is most useful for mixing the texture of one layer with another layer (e.g., you can use a hillshade to texture another layer).</li>
<li>Dodge: Dodge will brighten and saturate underlying pixels based on the lightness of the top pixel. So, brighter top pixels cause the saturation and brightness of the underlying pixels to increase. This works best if the top pixels aren&#8217;t too bright; otherwise the effect is too extreme.</li>
<li>Addition: This blend mode simply adds pixel values of one layer with the other. In case of values above one (in the case of RGB), white is displayed. This mode is suitable for highlighting features.</li>
<li>Darken: This creates a resultant pixel that retains the smallest components of the foreground and background pixels. Like lighten, the results tend to be jagged and harsh.</li>
<li>Multiply: Here, the numbers for each pixel of the top layer are multiplied with the corresponding pixels for the bottom layer. The results are darker pictures.</li>
<li>Burn: Darker colors in the top layer cause the underlying layers to darken. Burn can be used to tweak and colorise underlying layers.</li>
<li>Overlay: This mode combines the multiply and screen blending modes. In the resulting picture, light parts become lighter and dark parts become darker.</li>
<li>Soft light: This is very similar to overlay, but instead of using multiply/screen it uses color burn/dodge. This is supposed to emulate shining a soft light onto an image.</li>
<li>Hard light: Hard light is also very similar to the overlay mode. It&#8217;s supposed to emulate projecting a very intense light onto an image.</li>
<li>Difference: Difference subtracts the top pixel from the bottom pixel, or the other way around, to always get a positive value. Blending with black produces no change, as the difference with all colors is zero.</li>
<li>Subtract: This blend mode simply subtracts pixel values of one layer from the other. In case of negative values, black is displayed.</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="labels-menu">
<span id="vector-labels-tab"></span><span id="index-9"></span><h2>Labels Menu<a class="headerlink" href="#labels-menu" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="../../../_images/mActionLabeling.png"><img alt="mActionLabeling" src="../../../_images/mActionLabeling.png" style="width: 1.5em;" /></a> <sup>Labels</sup> core application provides smart
labeling for vector point, line and polygon layers, and it only requires a
few parameters. This new application also supports on-the-fly transformed layers.
The core functions of the application have been redesigned. In KADAS, there are a
number of other features that improve the labeling. The following menus
have been created for labeling the vector layers:</p>
<ul class="simple">
<li>Text</li>
<li>Formatting</li>
<li>Buffer</li>
<li>Background</li>
<li>Shadow</li>
<li>Placement</li>
<li>Rendering</li>
</ul>
<p>Let us see how the new menus can be used for various vector layers.</p>
<p id="labeling-point-layers"><strong>Labeling point layers</strong></p>
<p>Start KADAS and load a vector point layer. Activate the layer in the legend and click on the
<a class="reference internal" href="../../../_images/mActionLabeling.png"><img alt="mActionLabeling" src="../../../_images/mActionLabeling.png" style="width: 1.5em;" /></a> <sup>Layer Labeling Options</sup> icon in the KADAS toolbar menu.</p>
<p>The first step is to activate the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Label this layer with</em> checkbox
and select an attribute column to use for labeling. Click <a class="reference internal" href="../../../_images/mIconExpressionEditorOpen.png"><img alt="mActionmIconExpressionEditorOpen" src="../../../_images/mIconExpressionEditorOpen.png" style="width: 1.5em;" /></a> if you
want to define labels based on expressions - See <a class="reference internal" href="#labeling-with-expressions">labeling_with_expressions</a>.</p>
<p>The following steps describe a simple labeling without using the <em class="guilabel">Data defined override</em> functions,
which are situated next to the drop-down menus.</p>
<p>You can define the text style in the <em class="guilabel">Text</em> menu (see <a class="reference internal" href="#figure-labels-1">Figure_labels_1</a> ). Use the
<em class="guilabel">Type case</em> option to influence the text rendering. You have the possibility to render
the text &#8216;All uppercase&#8217;, &#8216;All lowercase&#8217; or &#8216;Capitalize first letter&#8217;. Use the blend modes to create effects
known from graphics programs (see <a class="reference internal" href="#blend-modes">blend_modes</a>).</p>
<p>In the <em class="guilabel">Formatting</em> menu, you can define a character for a line break in the labels with the &#8216;Wrap on character&#8217; function.
Use the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Formatted numbers</em> option to format the numbers in an attribute table. Here,
decimal places may be inserted. If you enable this option, three decimal places are initially set by default.</p>
<p>To create a buffer, just activate the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Draw text buffer</em> checkbox in the <em class="guilabel">Buffer</em> menu.
The buffer color is variable. Here, you can also use blend modes (see <a class="reference internal" href="#blend-modes">blend_modes</a>).</p>
<p>If the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">color buffer&#8217;s fill</em> checkbox is activated, it will interact with partially transparent
text and give mixed color transparency results. Turning off the buffer fill fixes that issue (except where the interior
aspect of the buffer&#8217;s stroke intersects with the text&#8217;s fill) and also allows you to make outlined text.</p>
<p>In the <em class="guilabel">Background</em> menu, you can define with <em class="guilabel">Size X</em> and <em class="guilabel">Size Y</em> the shape of your background.
Use <em class="guilabel">Size type</em> to insert an additional &#8216;Buffer&#8217; into your background. The buffer size is set by default here.
The background then consists of the buffer plus the background in <em class="guilabel">Size X</em> and <em class="guilabel">Size Y</em>.
You can set a <em class="guilabel">Rotation</em> where you can choose between &#8216;Sync with label&#8217;, &#8216;Offset of label&#8217; and &#8216;Fixed&#8217;.
Using &#8216;Offset of label&#8217; and &#8216;Fixed&#8217;, you can rotate the background. Define an <em class="guilabel">Offset X,Y</em> with X and Y values, and the background
will be shifted. When applying <em class="guilabel">Radius X,Y</em>, the background gets rounded corners.
Again, it is possible to mix the background with the underlying layers in the map canvas using the <em class="guilabel">Blend mode</em>
(see <a class="reference internal" href="#blend-modes">blend_modes</a>).</p>
<p>Use the <em class="guilabel">Shadow</em> menu for a user-defined <em class="guilabel">Drop shadow</em>. The drawing of the background is very variable.
Choose between &#8216;Lowest label component&#8217;, &#8216;Text&#8217;, &#8216;Buffer&#8217; and &#8216;Background&#8217;. The <em class="guilabel">Offset</em> angle depends on the orientation
of the label. If you choose the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Use global shadow</em> checkbox, then the zero point of the angle is
always oriented to the north and doesn&#8217;t depend on the orientation of the label. You can influence the appearance of the shadow
with the <em class="guilabel">Blur radius</em>. The higher the number, the softer the shadows. The appearance of the drop shadow can also be altered by choosing a blend mode (see <a class="reference internal" href="#blend-modes">blend_modes</a>).</p>
<p>Choose the <em class="guilabel">Placement</em> menu for the label placement and the labeling priority. Using the
<img alt="radiobuttonon" src="../../../_images/radiobuttonon.png" /> <em class="guilabel">Offset from point</em> setting, you now have the option to use <em class="guilabel">Quadrants</em>
to place your label. Additionally, you can alter the angle of the label placement with the <em class="guilabel">Rotation</em> setting.
Thus, a placement in a certain quadrant with a certain rotation is possible.
In the <em class="guilabel">priority</em> section you can define with which priority the labels are rendered.
It interacts with labels of the other vector layers in the map canvas. If there are labels from different layers
in the same location then the label with the higher priority will be displayed and the other will be
left out.</p>
<p id="index-10">In the <em class="guilabel">Rendering</em> menu, you can define label and feature options. Under <em class="guilabel">Label options</em>,
you find the scale-based visibility setting now. You can prevent KADAS from rendering only selected labels with
the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Show all labels for this layer (including colliding labels)</em> checkbox.
Under <em class="guilabel">Feature options</em>, you can define whether every part of a multipart feature is to be labeled. It&#8217;s possible to define
whether the number of features to be labeled is limited and to <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Discourage labels from covering features</em>.</p>
<p id="figure-labels-1"><strong>Figure Labels 1:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/label_points.png" src="../../../_images/label_points.png" />
<p class="caption">Smart labeling of vector point layers <a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a></p>
</div>
<p><strong>Labeling line layers</strong></p>
<p>The first step is to activate the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Label this layer</em> checkbox
in the <em class="guilabel">Label settings</em> tab and select an attribute column to use for
labeling. Click <a class="reference internal" href="../../../_images/mIconExpressionEditorOpen.png"><img alt="mActionmIconExpressionEditorOpen" src="../../../_images/mIconExpressionEditorOpen.png" style="width: 1.5em;" /></a> if you
want to define labels based on expressions - See <a class="reference internal" href="#labeling-with-expressions">labeling_with_expressions</a>.</p>
<p>After that, you can define the text style in the <em class="guilabel">Text</em> menu. Here, you can use the
same settings as for point layers.</p>
<p>Also, in the <em class="guilabel">Formatting</em> menu, the same settings as for point layers are possible.</p>
<p>The <em class="guilabel">Buffer</em> menu has the same functions as described in section <a class="reference internal" href="#labeling-point-layers">labeling_point_layers</a>.</p>
<p>The <em class="guilabel">Background</em> menu has the same entries as described in section <a class="reference internal" href="#labeling-point-layers">labeling_point_layers</a>.</p>
<p>Also, the <em class="guilabel">Shadow</em> menu has the same entries as described in section <a class="reference internal" href="#labeling-point-layers">labeling_point_layers</a>.</p>
<p>In the <em class="guilabel">Placement</em> menu, you find special settings for line layers. The label can be placed
<img alt="radiobuttonon" src="../../../_images/radiobuttonon.png" /> <em class="guilabel">Parallel</em>, <img alt="radiobuttonoff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">Curved</em> or <img alt="radiobuttonoff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">Horizontal</em>.
With the <img alt="radiobuttonon" src="../../../_images/radiobuttonon.png" /> <em class="guilabel">Parallel</em> and <img alt="radiobuttonoff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">Curved</em> option, you can define the position <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Above line</em>, <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">On line</em>
and <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Below line</em>. It&#8217;s possible to select several options at once.
In that case, KADAS will look for the optimal position of the label. Remember that here you can
also use the line orientation for the position of the label.
Additionally, you can define a <em class="guilabel">Maximum angle between curved characters</em> when
selecting the <img alt="radiobuttonoff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">Curved</em> option (see <a class="reference internal" href="#figure-labels-2">Figure_labels_2</a> ).</p>
<p>You can set up a minimum distance for repeating labels. Distance can be in mm or in map units.</p>
<p>Some Placement setup will display more options, for example, <em class="guilabel">Curved</em> and <em class="guilabel">Parallel</em>
Placements will allow the user to set up the position of the label (above, below or on the line),
<em class="guilabel">distance</em> from the line and for <em class="guilabel">Curved</em>, the user can also setup inside/outside
max angle between curved label.
As for point vector layers you have the possibility to define a <em class="guilabel">Priority</em> for the labels.</p>
<p>The <em class="guilabel">Rendering</em> menu has nearly the same entries as for point layers. In the
<em class="guilabel">Feature options</em>, you can now <em class="guilabel">Suppress labeling of features smaller than</em>.</p>
<p id="figure-labels-2"><strong>Figure Labels 2:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/label_line.png" src="../../../_images/label_line.png" />
<p class="caption">Smart labeling of vector line layers <a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a></p>
</div>
<p><strong>Labeling polygon layers</strong></p>
<p>The first step is to activate the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Label this layer</em> checkbox
and select an attribute column to use for labeling. Click <a class="reference internal" href="../../../_images/mIconExpressionEditorOpen.png"><img alt="mActionmIconExpressionEditorOpen" src="../../../_images/mIconExpressionEditorOpen.png" style="width: 1.5em;" /></a> if you
want to define labels based on expressions - See <a class="reference internal" href="#labeling-with-expressions">labeling_with_expressions</a>.</p>
<p>In the <em class="guilabel">Text</em> menu, define the text style. The entries are the same as for point
and line layers.</p>
<p>The <em class="guilabel">Formatting</em> menu allows you to format multiple lines, also similar to the cases of point and line layers.</p>
<p>As with point and line layers, you can create a text buffer in the <em class="guilabel">Buffer</em> menu.</p>
<p>Use the <em class="guilabel">Background</em> menu to create a complex user-defined background for the polygon layer.
You can use the menu also as with the point and line layers.</p>
<p>The entries in the <em class="guilabel">Shadow</em> menu are the same as for point and line layers.</p>
<p>In the <em class="guilabel">Placement</em> menu, you find special settings for polygon layers (see <a class="reference internal" href="#figure-labels-3">Figure_labels_3</a>).
<img alt="radiobuttonon" src="../../../_images/radiobuttonon.png" /> <em class="guilabel">Offset from centroid</em>, <img alt="radiobuttonoff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">Horizontal (slow)</em>,
<img alt="radiobuttonoff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">Around centroid</em>, <img alt="radiobuttonoff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">Free</em> and
<img alt="radiobuttonoff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">Using perimeter</em> are possible.</p>
<p>In the <img alt="radiobuttonon" src="../../../_images/radiobuttonon.png" /> <em class="guilabel">Offset from centroid</em> settings, you can specify if the centroid
is of the <img alt="radiobuttonon" src="../../../_images/radiobuttonon.png" /> <em class="guilabel">visible polygon</em> or <img alt="radiobuttonoff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">whole polygon</em>.
That means that either the centroid is used for the polygon you can see on the map or the centroid is
determined for the whole polygon, no matter if you can see the whole feature on the map.
You can place your label with the quadrants here, and define offset and rotation.
The <img alt="radiobuttonoff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">Around centroid</em> setting makes it possible to place the label
around the centroid with a certain distance. Again, you can define <img alt="radiobuttonon" src="../../../_images/radiobuttonon.png" /> <em class="guilabel">visible polygon</em>
or <img alt="radiobuttonoff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">whole polygon</em> for the centroid.
With the <img alt="radiobuttonoff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">Using perimeter</em> settings, you can define a position and
a distance for the label. For the position, <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Above line</em>, <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">On line</em>,
<a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Below line</em> and <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Line orientation dependent position</em> are possible.</p>
<p>Related to the choice of Label Placement, several options will appear. As for Point Placement you can
choose the distance for the polygon outline, repeat the label around the polygon perimeter.</p>
<p>As for point and line vector layers you have the possibility to define a <em class="guilabel">Priority</em>
for the polygon vector layer.</p>
<p>The entries in the <em class="guilabel">Rendering</em> menu are the same as for line layers. You can also use
<em class="guilabel">Suppress labeling of features smaller than</em> in the <em class="guilabel">Feature options</em>.</p>
<p id="figure-labels-3"><strong>Figure Labels 3:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/label_area.png" src="../../../_images/label_area.png" />
<p class="caption">Smart labeling of vector polygon layers <a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a></p>
</div>
<p id="labeling-with-expressions"><strong>Define labels based on expressions</strong></p>
<p>QGIS allows to use expressions to label features. Just click the
<a class="reference internal" href="../../../_images/mIconExpressionEditorOpen.png"><img alt="mActionmIconExpressionEditorOpen" src="../../../_images/mIconExpressionEditorOpen.png" style="width: 1.5em;" /></a> icon in the <a class="reference internal" href="../../../_images/mActionLabeling.png"><img alt="mActionLabeling" src="../../../_images/mActionLabeling.png" style="width: 1.5em;" /></a> <sup>Labels</sup>
menu of the properties dialog. In <a class="reference internal" href="#figure-labels-4">figure_labels_4</a> you see a sample expression
to label the alaska regions with name and area size, based on the field &#8216;NAME_2&#8217;,
some descriptive text and the function &#8216;$area()&#8217; in combination with
&#8216;format_number()&#8217; to make it look nicer.</p>
<p id="figure-labels-4"><strong>Figure Labels 4:</strong></p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../../_images/label_expression.png"><img alt="../../../_images/label_expression.png" src="../../../_images/label_expression.png" style="width: 30em;" /></a>
<p class="caption">Using expressions for labeling <a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a></p>
</div>
<p>Expression based labeling is easy to work with. All you have to take care of
is, that you need to combine all elements (strings, fields and functions) with a
string concatenation sign &#8216;||&#8217; and that fields a written in &#8220;double quotes&#8221;
and strings in &#8216;single quotes&#8217;. Let&#8217;s have a look at some examples:</p>
<div class="highlight-python"><pre> # label based on two fields 'name' and 'place' with a comma as separater
 "name" || ', ' || "place"

 -&gt; John Smith, Paris

 # label based on two fields 'name' and 'place' separated by comma
 'My name is ' || "name" || 'and I live in ' || "place"

 -&gt; My name is John Smith and I live in Paris

 # label based on two fields 'name' and 'place' with a descriptive text
 # and a line break (\n)
 'My name is ' || "name" || '\nI live in ' || "place"

 -&gt; My name is John Smith
    I live in Paris

 # create a multi-line label based on a field and the $area function
 # to show the place name and its area size based on unit meter.
 'The area of ' || "place" || 'has a size of ' || $area || 'm²'

 -&gt; The area of Paris has a size of 105000000 m²

 # create a CASE ELSE condition. If the population value in field
 # population is &lt;= 50000 it is a town, otherwise a city.
 'This place is a ' || CASE WHEN "population &lt;= 50000" THEN 'town' ELSE 'city' END

-&gt; This place is a town</pre>
</div>
<p>As you can see in the expression builder, you have hundreds of functions available to
create simple and very complex expressions to label your data in QGIS. See
<a class="reference internal" href="expression.html#vector-expressions"><em>Expressions</em></a> chapter for more information and examples on expressions.</p>
<p><strong>Using data-defined override for labeling</strong></p>
<p>With the data-defined override functions, the settings for the labeling
are overridden by entries in the attribute table.
You can activate and deactivate the function with the right-mouse button.
Hover over the symbol and you see the information about the data-defined override,
including the current definition field.
We now describe an example using the data-defined override function for the
<a class="reference internal" href="../../../_images/mActionMoveLabel.png"><img alt="mActionMoveLabel" src="../../../_images/mActionMoveLabel.png" style="width: 1.5em;" /></a><sup>Move label</sup> function (see <a class="reference internal" href="#figure-labels-5">figure_labels_5</a> ).</p>
<ol class="arabic simple">
<li>Import <tt class="file docutils literal"><span class="pre">lakes.shp</span></tt> from the KADAS sample dataset.</li>
<li>Double-click the layer to open the Layer Properties. Click on <em class="guilabel">Labels</em>
and <em class="guilabel">Placement</em>. Select <img alt="radiobuttonon" src="../../../_images/radiobuttonon.png" /> <em class="guilabel">Offset from centroid</em>.</li>
<li>Look for the <em class="guilabel">Data defined</em> entries. Click the <a class="reference internal" href="../../../_images/mIconDataDefine.png"><img alt="mIconDataDefine" src="../../../_images/mIconDataDefine.png" style="width: 1.5em;" /></a> icon to
define the field type for the <em class="guilabel">Coordinate</em>. Choose &#8216;xlabel&#8217; for X and &#8216;ylabel&#8217;
for Y. The icons are now highlighted in yellow.</li>
<li>Zoom into a lake.</li>
<li>Go to the Label toolbar and click the <a class="reference internal" href="../../../_images/mActionMoveLabel.png"><img alt="mActionMoveLabel" src="../../../_images/mActionMoveLabel.png" style="width: 1.5em;" /></a> icon. Now you can shift the label
manually to another position (see <a class="reference internal" href="#figure-labels-6">figure_labels_6</a> ). The new position of the label is saved in the &#8216;xlabel&#8217; and &#8216;ylabel&#8217; columns of the
attribute table.</li>
</ol>
<p id="figure-labels-5"><strong>Figure Labels 5:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/label_data_defined.png" src="../../../_images/label_data_defined.png" />
<p class="caption">Labeling of vector polygon layers with data-defined override <a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a></p>
</div>
<p id="figure-labels-6"><strong>Figure Labels 6:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/move_label.png" src="../../../_images/move_label.png" />
<p class="caption">Move labels <a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a></p>
</div>
</div>
<div class="section" id="fields-menu">
<span id="vector-attributes-menu"></span><h2>Fields Menu<a class="headerlink" href="#fields-menu" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../../../_images/attributes.png"><img alt="attributes" src="../../../_images/attributes.png" style="width: 2em;" /></a> Within the <em class="guilabel">Fields</em> menu, the field attributes of the
selected dataset can be manipulated. The buttons <a class="reference internal" href="../../../_images/mActionNewAttribute.png"><img alt="mActionNewAttribute" src="../../../_images/mActionNewAttribute.png" style="width: 1.5em;" /></a>
<sup>New Column</sup> and <a class="reference internal" href="../../../_images/mActionDeleteAttribute.png"><img alt="mActionDeleteAttribute" src="../../../_images/mActionDeleteAttribute.png" style="width: 1.5em;" /></a> <sup>Delete Column</sup>
can be used when the dataset is in <a class="reference internal" href="../../../_images/mActionToggleEditing.png"><img alt="mActionToggleEditing" src="../../../_images/mActionToggleEditing.png" style="width: 1.5em;" /></a> <sup>Editing mode</sup>.</p>
<p><strong>Edit Widget</strong></p>
<p></p>
<p></p>
<p id="figure-fields-1"><strong>Figure Fields 1:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/editwidgetsdialog.png" src="../../../_images/editwidgetsdialog.png" />
<p class="caption">Dialog to select an edit widget for an attribute column <a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a></p>
</div>
<p>Within the <em class="guilabel">Fields</em> menu, you also find an <strong>edit widget</strong> column.
This column can be used to define values or a range of values that are allowed
to be added to the specific attribute table column. If you click on the
<strong>[edit widget]</strong> button, a dialog opens, where you can define different
widgets. These widgets are:</p>
<ul class="simple">
<li><strong>Checkbox</strong>: Displays a checkbox, and you can define what attribute is
added to the column when the checkbox is activated or not.</li>
<li><strong>Classification</strong>: Displays a combo box with the values used for
classification, if you have chosen &#8216;unique value&#8217; as legend type in
the <em class="guilabel">Style</em> menu of the properties dialog.</li>
<li><strong>Color</strong>: Displays a color button allowing user to choose a color from the
color dialog window.</li>
<li><strong>Date/Time</strong>: Displays a line field which can open a calendar widget to enter a
date, a time or both. Column type must be text. You can select a custom format, pop-up
a calendar, etc.</li>
<li><strong>Enumeration</strong>: Opens a combo box with values that can be used within
the columns type. This is currently only supported by the PostgreSQL provider.</li>
<li><strong>File name</strong>: Simplifies the selection by adding a file chooser dialog.</li>
<li><strong>Hidden</strong>: A hidden attribute column is invisible. The user is not able
to see its contents.</li>
<li><strong>Photo</strong>: Field contains a filename for a picture. The width and height of the field can be defined.</li>
<li><strong>Range</strong>: Allows you to set numeric values from a specific range. The edit
widget can be either a slider or a spin box.</li>
<li><strong>Relation Reference</strong>: This widged lets you embed the feature form of the referenced layer on the feature form
of the actual layer. See <em class="xref std std-ref">vector_relations</em>.</li>
<li><strong>Text edit</strong> (default): This opens a text edit field that allows simple text or multiple lines to
be used. If you choose multiple lines you can also choose html content.</li>
<li><strong>Unique values</strong>: You can select one of the values already used in
the attribute table. If &#8216;Editable&#8217; is activated, a line edit is shown with
autocompletion support, otherwise a combo box is used.</li>
<li><strong>UUID Generator</strong>: Generates a read-only UUID (Universally Unique Identifiers)
field, if empty.</li>
<li><strong>Value map</strong>: A combo box with predefined items. The value is stored in
the attribute, the description is shown in the combo box. You can define
values manually or load them from a layer or a CSV file.</li>
<li><strong>Value Relation</strong>: Offers values from a related table in a combobox. You can
select layer, key column and value column.</li>
<li><strong>Webview</strong>: Field contains a URL. The width and height of the field is variable.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">KADAS has an advanced &#8216;hidden&#8217; option to define your own field
widget using python and add it to this impressive list of widgets.
It is tricky but it is very well explained in following excellent blog that
explains how to create a real time validation widget that can be used like
described widgets.
See <a class="reference external" href="http://blog.vitu.ch/10142013-1847/write-your-own-qgis-form-elements">http://blog.vitu.ch/10142013-1847/write-your-own-qgis-form-elements</a></p>
</div>
<p>With the <strong>Attribute editor layout</strong>, you can now define built-in forms (see <a class="reference internal" href="#figure-fields-2">figure_fields_2</a>). This is usefull for data entry jobs or to identify objects using the option auto open form when you have objects with many attributes. You can create an editor with several tabs and named groups to present the attribute fields.</p>
<p>Choose &#8216;Drag and drop designer&#8217; and an attribute column. Use the <a class="reference internal" href="../../../_images/mActionSignPlus.png"><img alt="mActionSignPlus" src="../../../_images/mActionSignPlus.png" style="width: 1.5em;" /></a> icon to create
a category to insert a tab or a named group (see <a class="reference internal" href="#figure-fields-3">figure_fields_3</a>).
When creating a new category, KADAS will insert a new tab or named group for the category in the built-in form.
The next step will be to assign the relevant fields to a selected category
with the <a class="reference internal" href="../../../_images/mActionArrowRight.png"><img alt="mActionArrowRight" src="../../../_images/mActionArrowRight.png" style="width: 1.5em;" /></a> icon. You can create more categories and use the
same fields again.</p>
<p>Other options in the dialog are &#8216;Autogenerate&#8217; and &#8216;Provide ui-file&#8217;.</p>
<ul class="simple">
<li>&#8216;Autogenerate&#8217; just creates editors for all fields and tabulates them.</li>
<li>The &#8216;Provide ui-file&#8217; option allows you to use complex dialogs made with the Qt-Designer.
Using a UI-file allows a great deal of freedom in creating a dialog.
For detailed information, see <a class="reference external" href="http://nathanw.net/2011/09/05/qgis-tips-custom-feature-forms-with-python-logic/">http://nathanw.net/2011/09/05/qgis-tips-custom-feature-forms-with-python-logic/</a>.</li>
</ul>
<p>KADAS dialogs can have a Python function that is called when the dialog is opened. Use this function to add extra logic to your dialogs.
An example is (in module MyForms.py):</p>
<div class="highlight-python"><pre>def open(dialog,layer,feature):
geom = feature.geometry()
control = dialog.findChild(QWidged,"My line edit")</pre>
</div>
<p>Reference in Python Init Function like so: MyForms.open</p>
<p>MyForms.py must live on PYTHONPATH, in .qgis2/python, or inside the project folder.</p>
<p id="figure-fields-2"><strong>Figure Fields 2:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/attribute_editor_layout.png" src="../../../_images/attribute_editor_layout.png" />
<p class="caption">Dialog to create categories with the <strong>Attribute editor layout</strong></p>
</div>
<p id="figure-fields-3"><strong>Figure Fields 3:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/resulting_feature_form.png" src="../../../_images/resulting_feature_form.png" />
<p class="caption">Resulting built-in form with tabs and named groups</p>
</div>
</div>
<div class="section" id="general-menu">
<span id="vectorgeneralmenu"></span><h2>General Menu<a class="headerlink" href="#general-menu" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../../../_images/general.png"><img alt="general" src="../../../_images/general.png" style="width: 2em;" /></a> Use this menu to make general settings for the vector layer.
There are several options available:</p>
<p>Layer Info</p>
<ul class="simple">
<li>Change the display name of the layer in <em class="guilabel">displayed as</em></li>
<li>Define the <em class="guilabel">Layer source</em> of the vector layer</li>
<li>Define the <em class="guilabel">Data source encoding</em> to define provider-specific options and to
be able to read the file</li>
</ul>
<p>Coordinate Reference System</p>
<ul class="simple">
<li><em class="guilabel">Specify</em> the coordinate reference system. Here, you
can view or change the projection of the specific vector layer.</li>
<li>Create a <em class="guilabel">Spatial Index</em> (only for OGR-supported formats)</li>
<li><em class="guilabel">Update Extents</em> information for a layer</li>
<li>View or change the projection of the specific vector layer, clicking on
<em class="guilabel">Specify ...</em></li>
</ul>
<p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Scale dependent visibility</em></p>
<ul class="simple">
<li>You can set the <em class="guilabel">Maximum (inclusive)</em> and <em class="guilabel">Minimum (exclusive)</em>
scale. The scale can also be set by the <strong>[Current]</strong> buttons.</li>
</ul>
<p>Feature subset</p>
<ul class="simple">
<li>With the <strong>[Query Builder]</strong> button, you can create a subset of the features in the layer
that will be visualized (also refer to section <em class="xref std std-ref">vector_query_builder</em>).</li>
</ul>
<p id="figure-general-vect"><strong>Figure General 1:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/vector_general_menu.png" src="../../../_images/vector_general_menu.png" />
<p class="caption">General menu in vector layers properties dialog <a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a></p>
</div>
</div>
<div class="section" id="rendering-menu">
<h2>Rendering Menu<a class="headerlink" href="#rendering-menu" title="Permalink to this headline">¶</a></h2>
<p>KADAS supports for on-the-fly feature generalisation. This can improve rendering times
when drawing many complex features at small scales. This feature can be enabled or disabled in the
layer settings using the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Simplify geometry</em> option. There is also a new global
setting that enables generalisation by default for newly added layers (see section <a class="reference internal" href="../introduction/qgis_configuration.html#gui-options"><em>Options</em></a>).
<strong>Note</strong>: Feature generalisation may introduce artefacts into your rendered output in some cases.
These may include slivers between polygons and inaccurate rendering when using offset-based symbol layers.</p>
</div>
<div class="section" id="display-menu">
<h2>Display Menu<a class="headerlink" href="#display-menu" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../../../_images/mActionMapTips.png"><img alt="mActionMapTips" src="../../../_images/mActionMapTips.png" style="width: 1.5em;" /></a> This menu is specifically created for Map Tips. It includes a new feature:
Map Tip display text in HTML. While you can still choose a <img alt="radiobuttonoff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">Field</em>
to be displayed when hovering over a feature on the map, it is now possible to insert HTML code that creates a complex
display when hovering over a feature. To activate Map Tips, select the menu option <em class="menuselection">View ‣ MapTips</em>. Figure Display 1 shows an example of HTML code.</p>
<p id="figure-display-1"><strong>Figure Display 1:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/display_html.png" src="../../../_images/display_html.png" />
<p class="caption">HTML code for map tip <a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a></p>
</div>
<p id="figure-display-2"><strong>Figure Display 2:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/map_tip.png" src="../../../_images/map_tip.png" />
<p class="caption">Map tip made with HTML code <a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a></p>
</div>
</div>
<div class="section" id="actions-menu">
<h2>Actions Menu<a class="headerlink" href="#actions-menu" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../../../_images/action.png"><img alt="action" src="../../../_images/action.png" style="width: 2em;" /></a> KADAS provides the ability to perform an action based on the attributes
of a feature. This can be used to perform any number of actions, for example,
running a program with arguments built from the attributes of a feature or
passing parameters to a web reporting tool.</p>
<p id="figure-actions-1"><strong>Figure Actions 1:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/action_dialog.png" src="../../../_images/action_dialog.png" />
<p class="caption">Overview action dialog with some sample actions <a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a></p>
</div>
<p>Actions are useful when you frequently want to run an external application or
view a web page based on one or more values in your vector layer. They are
divided into six types and can be used like this:</p>
<ul class="simple">
<li>Generic, Mac, Windows and Unix actions start an external process.</li>
<li>Python actions execute a Python expression.</li>
<li>Generic and Python actions are visible everywhere.</li>
<li>Mac, Windows and Unix actions are visible only on the respective platform (i.e.,
you can define three &#8216;Edit&#8217; actions to open an editor and the users can only
see and execute the one &#8216;Edit&#8217; action for their platform to run the editor).</li>
</ul>
<p>There are several examples included in the dialog. You can load them by clicking
on <strong>[Add default actions]</strong>. One example is performing a search based on an
attribute value. This concept is used in the following discussion.</p>
<p id="index-11"><strong>Defining Actions</strong></p>
<p>Attribute actions are defined from the vector <em class="guilabel">Layer Properties</em>
dialog. To <span class="target" id="index-12"></span>define an action, open the vector <em class="guilabel">Layer Properties</em>
dialog and click on the <em class="guilabel">Actions</em> menu. Go to the <em class="guilabel">Action properties</em>.
Select &#8216;Generic&#8217; as type and provide a descriptive name for the action. The action itself must contain
the name of the application that will be executed when the action is invoked.
You can add one or more attribute field values as arguments to the application.
When the action is invoked, any set of characters that start with a <tt class="docutils literal"><span class="pre">%</span></tt>
followed by the name of a field will be replaced by the value of that field.
The special characters <span class="target" id="index-13"></span>%% will be replaced by the value of the field
that was selected from the identify results or attribute table (see <a class="reference internal" href="#using-actions">using_actions</a>
below). Double quote marks can be used to group text into a single argument to
the program, script or command. Double quotes will be ignored if preceded by a
backslash.</p>
<p>If you have field names that are substrings of other field names (e.g.,
<tt class="docutils literal"><span class="pre">col1</span></tt> and <tt class="docutils literal"><span class="pre">col10</span></tt>), you should indicate that by surrounding the field name
(and the % character) with square brackets (e.g., <tt class="docutils literal"><span class="pre">[%col10]</span></tt>). This will
prevent the <tt class="docutils literal"><span class="pre">%col10</span></tt> field name from being mistaken for the <tt class="docutils literal"><span class="pre">%col1</span></tt> field name
with a <tt class="docutils literal"><span class="pre">0</span></tt> on the end. The brackets will be removed by KADAS when it
substitutes in the value of the field. If you want the substituted field to be
surrounded by square brackets, use a second set like this: <tt class="docutils literal"><span class="pre">[[%col10]]</span></tt>.</p>
<p>Using the <em class="guilabel">Identify Features</em> tool, you can open the <em class="guilabel">Identify Results</em>
dialog. It includes a <em>(Derived)</em> item that contains information relevant to the
layer type. The values in this item can be accessed in a similar way to the other
fields by preceeding the derived field name with <tt class="docutils literal"><span class="pre">(Derived).</span></tt>. For example,
a point layer has an <tt class="docutils literal"><span class="pre">X</span></tt> and <tt class="docutils literal"><span class="pre">Y</span></tt> field, and the values of these fields can be used in
the action with <tt class="docutils literal"><span class="pre">%(Derived).X</span></tt> and <tt class="docutils literal"><span class="pre">%(Derived).Y</span></tt>. The derived attributes
are only available from the <em class="guilabel">Identify Results</em> dialog box, not the
<em class="guilabel">Attribute Table</em> dialog box.</p>
<p>Two <span class="target" id="index-14"></span>example actions are shown below:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">konqueror</span> <span class="pre">http://www.google.com/search?q=%nam</span></tt></li>
<li><tt class="docutils literal"><span class="pre">konqueror</span> <span class="pre">http://www.google.com/search?q=%%</span></tt></li>
</ul>
<p>In the first example, the web browser konqueror is invoked and passed a URL
to open. The URL performs a Google search on the value of the <tt class="docutils literal"><span class="pre">nam</span></tt> field
from our vector layer. Note that the application or script called by the
action must be in the path, or you must provide the full path. To be certain, we
could rewrite the first example as:
<tt class="docutils literal"><span class="pre">/opt/kde3/bin/konqueror</span> <span class="pre">http://www.google.com/search?q=%nam</span></tt>. This will
ensure that the konqueror application will be executed when the action is
invoked.</p>
<p>The second example uses the %% notation, which does not rely on a particular
field for its value. When the action is invoked, the %% will be replaced by
the value of the selected field in the identify results or attribute table.</p>
<p id="using-actions"><strong>Using Actions</strong></p>
<p>Actions can be invoked from either the <em class="guilabel">Identify Results</em> dialog,
an <em class="guilabel">Attribute Table</em> dialog or from <em class="guilabel">Run Feature Action</em>
(recall that these dialogs can be opened by clicking <a class="reference internal" href="../../../_images/mActionIdentify.png"><img alt="mActionIdentify" src="../../../_images/mActionIdentify.png" style="width: 1.5em;" /></a>
<sup>Identify Features</sup> or <a class="reference internal" href="../../../_images/mActionOpenTable.png"><img alt="mActionOpenTable" src="../../../_images/mActionOpenTable.png" style="width: 1.5em;" /></a> <sup>Open Attribute Table</sup> or
<a class="reference internal" href="../../../_images/mAction.png"><img alt="mAction" src="../../../_images/mAction.png" style="width: 1.5em;" /></a> <sup>Run Feature Action</sup>). To invoke an action, right
click on the record and choose the action from the pop-up menu. Actions are
listed in the popup menu by the name you assigned when defining the action.
Click on the action you wish to invoke.</p>
<p>If you are invoking an action that uses the <tt class="docutils literal"><span class="pre">%%</span></tt> notation, right-click on the
field value in the <em class="guilabel">Identify Results</em> dialog or the
<em class="guilabel">Attribute Table</em> dialog that you wish to pass to the application
or script.</p>
<p>Here is another example that pulls data out of a vector layer and inserts
it into a file using bash and the <tt class="docutils literal"><span class="pre">echo</span></tt> command (so it will only work on
<a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a> or perhaps <a class="reference internal" href="../../../_images/osx.png"><img alt="osx" src="../../../_images/osx.png" style="width: 1em;" /></a>). The layer in question has fields for a species name
<tt class="docutils literal"><span class="pre">taxon_name</span></tt>, latitude <tt class="docutils literal"><span class="pre">lat</span></tt> and longitude <tt class="docutils literal"><span class="pre">long</span></tt>. We would like to be
able to make a spatial selection of localities and export these field values
to a text file for the selected record (shown in yellow in the KADAS map area).
Here is the action to achieve this:</p>
<div class="highlight-python"><pre>bash -c "echo \"%taxon_name %lat %long\" &gt;&gt; /tmp/species_localities.txt"</pre>
</div>
<p>After selecting a few localities and running the action on each one, opening
the output file will show something like this:</p>
<div class="highlight-python"><pre>Acacia mearnsii -34.0800000000 150.0800000000
Acacia mearnsii -34.9000000000 150.1200000000
Acacia mearnsii -35.2200000000 149.9300000000
Acacia mearnsii -32.2700000000 150.4100000000</pre>
</div>
<p>As an exercise, we can create an action that does a Google search on the <tt class="docutils literal"><span class="pre">lakes</span></tt>
layer. First, we need to determine the URL required to perform a search on a
keyword. This is easily done by just going to Google and doing a simple
search, then grabbing the URL from the address bar in your browser. From this
little effort, we see that the format is <a class="reference external" href="http://google.com/search?q=qgis">http://google.com/search?q=qgis</a>,
where <tt class="docutils literal"><span class="pre">QGIS</span></tt> is the search term. Armed with this information, we can proceed:</p>
<ol class="arabic">
<li><p class="first">Make sure the <tt class="docutils literal"><span class="pre">lakes</span></tt> layer is loaded.</p>
</li>
<li><p class="first">Open the <em class="guilabel">Layer Properties</em> dialog by double-clicking on the
layer in the legend, or right-click and choose <em class="guilabel">Properties</em>
from the pop-up menu.</p>
</li>
<li><p class="first">Click on the <em class="guilabel">Actions</em> menu.</p>
</li>
<li><p class="first">Enter a name for the action, for example <tt class="docutils literal"><span class="pre">Google</span> <span class="pre">Search</span></tt>.</p>
</li>
<li><p class="first">For the action, we need to provide the name of the external program to run.
In this case, we can use Firefox. If the program is not in your path, you
need to provide the full path.</p>
</li>
<li><p class="first">Following the name of the external application, add the URL used for doing
a Google search, up to but not including the search term:
<tt class="docutils literal"><span class="pre">http://google.com/search?q=</span></tt></p>
</li>
<li><p class="first">The text in the <em class="guilabel">Action</em> field should now look like this:
<tt class="docutils literal"><span class="pre">firefox</span> <span class="pre">http://google.com/search?q=</span></tt></p>
</li>
<li><p class="first">Click on the drop-down box containing the field names for the <tt class="docutils literal"><span class="pre">lakes</span></tt>
layer. It&#8217;s located just to the left of the <strong>[Insert Field]</strong> button.</p>
</li>
<li><p class="first">From the drop-down box, select &#8216;NAMES&#8217; and click <strong>[Insert Field]</strong>.</p>
</li>
<li><p class="first">Your action text now looks like this:</p>
<p><tt class="docutils literal"><span class="pre">firefox</span> <span class="pre">http://google.com/search?q=%NAMES</span></tt></p>
</li>
<li><p class="first">To finalize the action, click the <strong>[Add to action list]</strong> button.</p>
</li>
</ol>
<p>This completes the action, and it is ready to use. The final text of the
action should look like this:</p>
<div class="highlight-python"><pre>firefox http://google.com/search?q=%NAMES</pre>
</div>
<p>We can now use the action. Close the <em class="guilabel">Layer Properties</em> dialog and
zoom in to an area of interest. Make sure the <tt class="docutils literal"><span class="pre">lakes</span></tt> layer is active and
identify a lake. In the result box you&#8217;ll now see that our action is visible:</p>
<p id="figure-actions-2"><strong>Figure Actions 2:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/action_identifyaction.png" src="../../../_images/action_identifyaction.png" />
<p class="caption">Select feature and choose action <a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a></p>
</div>
<p>When we click on the action, it brings up Firefox and navigates to the URL
<a class="reference external" href="http://www.google.com/search?q=Tustumena">http://www.google.com/search?q=Tustumena</a>. It is also possible to add further
attribute fields to the action. Therefore, you can add a <tt class="docutils literal"><span class="pre">+</span></tt> to the end of
the action text, select another field and click on <strong>[Insert Field]</strong>. In
this example, there is just no other field available that would make sense
to search for.</p>
<p>You can define multiple actions for a layer, and each will show up in the
<em class="guilabel">Identify Results</em> dialog.</p>
<p>There are all kinds of uses for actions. For example, if you have
a point layer containing locations of images or photos along with a file name,
you could create an action to launch a viewer to display the image. You could
also use actions to launch web-based reports for an attribute field or
combination of fields, specifying them in the same way we did in our
Google search example.</p>
<p>We can also make more complex examples, for instance, using <strong>Python</strong>
actions.</p>
<p>Usually, when we create an action to open a file with an external application,
we can use absolute paths, or eventually relative paths. In the second case,
the path is relative to the location of the external program executable file.
But what about if we need to use relative paths, relative to the selected layer
(a file-based one, like a shapefile or SpatiaLite)? The following code will
do the trick:</p>
<div class="highlight-python"><pre>command = "firefox";
imagerelpath = "images_test/test_image.jpg";
layer = qgis.utils.iface.activeLayer();
import os.path;
layerpath = layer.source() if layer.providerType() == 'ogr'
  else (qgis.core.QgsDataSourceURI(layer.source()).database()
  if layer.providerType() == 'spatialite' else None);
path = os.path.dirname(str(layerpath));
image = os.path.join(path,imagerelpath);
import subprocess;
subprocess.Popen( [command, image ] );</pre>
</div>
<p>We just have to remember that the action is one of type <em>Python</em> and the <em>command</em> and <em>imagerelpath</em> variables must be changed to fit our needs.</p>
<p>But what about if the relative path needs to be relative to the (saved)
project file? The code of the Python action would be:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">command</span><span class="o">=</span><span class="s">&quot;firefox&quot;</span><span class="p">;</span>
<span class="n">imagerelpath</span><span class="o">=</span><span class="s">&quot;images/test_image.jpg&quot;</span><span class="p">;</span>
<span class="n">projectpath</span><span class="o">=</span><span class="n">qgis</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">QgsProject</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">fileName</span><span class="p">();</span>
<span class="kn">import</span> <span class="nn">os.path</span><span class="p">;</span> <span class="n">path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">projectpath</span><span class="p">))</span> <span class="k">if</span> <span class="n">projectpath</span> <span class="o">!=</span> <span class="s">&#39;&#39;</span> <span class="k">else</span> <span class="bp">None</span><span class="p">;</span>
<span class="n">image</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">imagerelpath</span><span class="p">);</span>
<span class="kn">import</span> <span class="nn">subprocess</span><span class="p">;</span>
<span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span> <span class="p">[</span><span class="n">command</span><span class="p">,</span> <span class="n">image</span> <span class="p">]</span> <span class="p">);</span>
</pre></div>
</div>
<p>Another Python action example is the one that allows us to add new layers
to the project. For instance, the following examples will add to the project
respectively a vector and a raster. The names of the files to be added to the
project and the names to be given to the layers are data driven (<em>filename</em> and
<em>layername</em> are column names of the table of attributes of the vector where
the action was created):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">qgis</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">iface</span><span class="o">.</span><span class="n">addVectorLayer</span><span class="p">(</span><span class="s">&#39;/yourpath/[% &quot;filename&quot; %].shp&#39;</span><span class="p">,</span><span class="s">&#39;[% &quot;layername&quot; %]&#39;</span><span class="p">,</span>
  <span class="s">&#39;ogr&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>To add a raster (a TIF image in this example), it becomes:</p>
<div class="highlight-python"><pre>qgis.utils.iface.addRasterLayer('/yourpath/[% "filename" %].tif','[% "layername" %]
')</pre>
</div>
</div>
<div class="section" id="joins-menu">
<span id="sec-joins"></span><h2>Joins Menu<a class="headerlink" href="#joins-menu" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../../../_images/join.png"><img alt="join" src="../../../_images/join.png" style="width: 2em;" /></a> The <em class="guilabel">Joins</em> menu allows you to <span class="target" id="index-15"></span>join a loaded attribute table
to a loaded vector layer. After clicking <a class="reference internal" href="../../../_images/mActionSignPlus.png"><img alt="mActionSignPlus" src="../../../_images/mActionSignPlus.png" style="width: 1.5em;" /></a>, the <em class="guilabel">Add vector join</em> dialog appears.
As key columns, you have to define a <span class="target" id="index-16"></span>join layer you want to connect with the target vector layer. Then, you have to specify the join field that is common to both the join layer and the target layer. Now you can also specify a subset of fields from the joined layer based on the checkbox <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Choose which fields are joined</em>. As a result of the join, all information from the join layer and the target layer are displayed in the attribute table of the target layer as joined information. If you specified a subset of fields only these fields are displayed in the attribute table of the target layer.</p>
<p>KADAS currently has support for joining non-spatial table formats supported by OGR (e.g., CSV, DBF and Excel), delimited text and the PostgreSQL provider (see <a class="reference internal" href="#figure-joins-1">figure_joins_1</a>).</p>
<p id="figure-joins-1"><strong>Figure Joins 1:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/join_attributes.png" src="../../../_images/join_attributes.png" />
<p class="caption">Join an attribute table to an existing vector layer <a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a></p>
</div>
<p>Additionally, the add vector join dialog allows you to:</p>
<ul class="simple">
<li><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Cache join layer in virtual memory</em></li>
<li><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Create attribute index on the join field</em></li>
<li><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Choose which fields are joined</em></li>
<li>Create a <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Custom field name prefix</em></li>
</ul>
</div>
<div class="section" id="diagrams-menu">
<span id="sec-diagram"></span><h2>Diagrams Menu<a class="headerlink" href="#diagrams-menu" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../../../_images/diagram.png"><img alt="diagram" src="../../../_images/diagram.png" style="width: 2em;" /></a> The <em class="guilabel">Diagrams</em> menu allows you to add a graphic overlay to a
vector layer (see <a class="reference internal" href="#figure-diagrams-1">figure_diagrams_1</a>).</p>
<p>The current core implementation of diagrams provides support for pie charts, text diagrams
and histograms.</p>
<p>The menu is divided into four tabs: <em class="guilabel">Appearance</em>, <em class="guilabel">Size</em>, <em class="guilabel">Postion</em> and <em class="guilabel">Options</em>.</p>
<p>In the cases of the text diagram and pie chart, text values of different data columns are displayed one below the other with a circle or a box and dividers. In the <em class="guilabel">Size</em> tab, diagram size is based on a fixed size or on linear scaling according to a classification attribute.
The placement of the diagrams, which is done in the <em class="guilabel">Position</em> tab, interacts with the new labeling, so position
conflicts between diagrams and labels are detected and solved. In addition,
chart positions can be fixed manually.</p>
<p id="figure-diagrams-1"><strong>Figure Diagrams 1:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/diagram_tab.png" src="../../../_images/diagram_tab.png" />
<p class="caption">Vector properties dialog with diagram menu <a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a></p>
</div>
<p>We will demonstrate an example and overlay on the Alaska boundary layer a
text diagram showing temperature data from a climate vector layer.
Both vector layers are part of the KADAS sample dataset (see section
<a class="reference internal" href="../introduction/getting_started.html#label-sampledata"><em>Sample Data</em></a>).</p>
<ol class="arabic simple">
<li>First, click on the <a class="reference internal" href="../../../_images/mActionAddOgrLayer.png"><img alt="mActionAddOgrLayer" src="../../../_images/mActionAddOgrLayer.png" style="width: 1.5em;" /></a> <sup>Load Vector</sup> icon, browse
to the KADAS sample dataset folder, and load the two vector shape layers
<tt class="file docutils literal"><span class="pre">alaska.shp</span></tt> and <tt class="file docutils literal"><span class="pre">climate.shp</span></tt>.</li>
<li>Double click the <tt class="docutils literal"><span class="pre">climate</span></tt> layer in the map legend to open the
<em class="guilabel">Layer Properties</em> dialog.</li>
<li>Click on the <em class="guilabel">Diagrams</em> menu, activate <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a><em class="guilabel">Display diagrams</em>,
and from the <em class="guilabel">Diagram type</em> <a class="reference internal" href="../../../_images/selectstring.png"><img alt="selectstring" src="../../../_images/selectstring.png" style="width: 2.5em;" /></a> combo box, select &#8216;Text diagram&#8217;.</li>
<li>In the <em class="guilabel">Appearance</em> tab, we choose a light blue as background color, and
in the <em class="guilabel">Size</em> tab, we set a fixed size to 18 mm.</li>
<li>In the <em class="guilabel">Position</em> tab, placement could be set to &#8216;Around Point&#8217;.</li>
<li>In the diagram, we want to display the values of the three columns
<tt class="docutils literal"><span class="pre">T_F_JAN</span></tt>, <tt class="docutils literal"><span class="pre">T_F_JUL</span></tt> and <tt class="docutils literal"><span class="pre">T_F_MEAN</span></tt>. First select <tt class="docutils literal"><span class="pre">T_F_JAN</span></tt> as
<em class="guilabel">Attributes</em> and click the <a class="reference internal" href="../../../_images/mActionSignPlus.png"><img alt="mActionSignPlus" src="../../../_images/mActionSignPlus.png" style="width: 1.5em;" /></a> button, then <tt class="docutils literal"><span class="pre">T_F_JUL</span></tt>, and
finally <tt class="docutils literal"><span class="pre">T_F_MEAN</span></tt>.</li>
<li>Now click <strong>[Apply]</strong> to display the diagram in the KADAS main window.</li>
<li>You can adapt the chart size in the <em class="guilabel">Size</em> tab. Deactivate the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Fixed size</em> and set
the size of the diagrams on the basis of an attribute with the <strong>[Find maximum value]</strong> button and the
<em class="guilabel">Size</em> menu. If the diagrams appear too small on the screen, you can activate the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Increase
size of small diagrams</em> checkbox and define the minimum size of the diagrams.</li>
<li>Change the attribute colors by double clicking on the color values in the <em class="guilabel">Assigned attributes</em> field.   <a class="reference internal" href="#figure-diagrams-2">Figure_diagrams_2</a> gives an idea of the result.</li>
<li>Finally, click <strong>[Ok]</strong>.</li>
</ol>
<p id="figure-diagrams-2"><strong>Figure Diagrams 2:</strong></p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../../_images/climate_diagram.png"><img alt="../../../_images/climate_diagram.png" src="../../../_images/climate_diagram.png" style="width: 25em;" /></a>
<p class="caption">Diagram from temperature data overlayed on a map <a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a></p>
</div>
<p>Remember that in the <em class="guilabel">Position</em> tab, a <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Data defined position</em>
of the diagrams is possible. Here, you can use attributes to define the position of the diagram.
You can also set a scale-dependent visibility in the <em class="guilabel">Appearance</em> tab.</p>
<p>The size and the attributes can also be an expression. Use the <a class="reference internal" href="../../../_images/mIconExpressionEditorOpen.png"><img alt="mActionmIconExpressionEditorOpen" src="../../../_images/mIconExpressionEditorOpen.png" style="width: 1.5em;" /></a> button
to add an expression. See <a class="reference internal" href="expression.html#vector-expressions"><em>Expressions</em></a> chapter for more information and example.</p>
</div>
<div class="section" id="metadata-menu">
<span id="vectormetadatamenu"></span><h2>Metadata Menu<a class="headerlink" href="#metadata-menu" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../../../_images/metadata.png"><img alt="metadata" src="../../../_images/metadata.png" style="width: 2em;" /></a> The <em class="guilabel">Metadata</em> menu consists of <em class="guilabel">Description</em>,
<em class="guilabel">Attribution</em>, <em class="guilabel">MetadataURL</em> and <em class="guilabel">Properties</em> sections.</p>
<p>In the <em class="guilabel">Properties</em> section, you get general information about the layer,
including specifics about the type and location, number of features, feature type,
and editing capabilities. The <em class="guilabel">Extents</em>
table provides you with layer extent information and the <em class="guilabel">Layer Spatial Reference System</em>, which is information about the CRS of the layer. This is a quick way
to get information about the layer.</p>
<p>Additionally, you can add or edit a title and abstract for the layer in the <em class="guilabel">Description</em> section.
It&#8217;s also possible to define a <em class="guilabel">Keyword list</em> here. These keyword lists can be used in a
metadata catalogue. If you want to use a title from an XML metadata file, you have to fill in
a link in the <em class="guilabel">DataUrl</em> field.
Use <em class="guilabel">Attribution</em> to get attribute data from an XML metadata catalogue.
In <em class="guilabel">MetadataUrl</em>, you can define the general path to the XML metadata catalogue.
This information will be saved in the KADAS project file for subsequent sessions
and will be used for KADAS server.</p>
<p id="figure-metadata-vect"><strong>Figure Metadata 1:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/vector_metadata_tab.png" src="../../../_images/vector_metadata_tab.png" />
<p class="caption">Metadata menu in vector layers properties dialog <a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a></p>
</div>
</div>
</div>

                        
                    
                </div>
                  
            </div>
        </div>
    

    <!--<a href="https://github.com/qgis/"><img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png" alt="Fork me on GitHub"></a>-->
    <div class="related">
       
      
      <ul>
        <li><a href="../index.html"></a> &raquo;</li> 
      </ul>
    </div>
  </body>
</html>