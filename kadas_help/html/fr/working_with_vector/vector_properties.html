
<!DOCTYPE HTML>
<html lang="fr" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Fenêtre Propriétés d’une couche vecteur · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="expression.html" />
    
    
    <link rel="prev" href="supported_data.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../index.html">
            
                    
                    Généralités
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="../">
            
                <a href="../index.html#sec0">
            
                    
                    Création
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="../">
            
                <a href="../index.html#sec1">
            
                    
                    Conditions d’utilisation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3" data-path="../">
            
                <a href="../index.html#sec2">
            
                    
                    Configuration requise
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.4" data-path="../">
            
                <a href="../index.html#sec3">
            
                    
                    Protocole de version
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../kadas_gui.html">
            
                <a href="../kadas_gui.html">
            
                    
                    Interface de KADAS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../kadas_gui.html">
            
                <a href="../kadas_gui.html#sec0">
            
                    
                    Menu de fonction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../kadas_gui.html">
            
                <a href="../kadas_gui.html#sec1">
            
                    
                    Favoris et recherche
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../kadas_gui.html">
            
                <a href="../kadas_gui.html#sec2">
            
                    
                    Affichage de la carte
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../kadas_gui.html">
            
                <a href="../kadas_gui.html#sec3">
            
                    
                    Couches et catalogue de géodonnées
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../kadas_gui.html">
            
                <a href="../kadas_gui.html#sec4">
            
                    
                    Barre d’état
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../map.html">
            
                <a href="../map.html">
            
                    
                    Carte
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../map.html">
            
                <a href="../map.html#sec0">
            
                    
                    Projets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../map.html">
            
                <a href="../map.html#sec1">
            
                    
                    Créer et sauvegarder des cartes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../map.html">
            
                <a href="../map.html#sec2">
            
                    
                    Ouvrir des projets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../map.html">
            
                <a href="../map.html#sec3">
            
                    
                    Imprimer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../map.html">
            
                <a href="../map.html#sec4">
            
                    
                    Copier carte / Enregistrer carte
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../map.html">
            
                <a href="../map.html#sec5">
            
                    
                    Exportation et importation KML/KMZ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="../map.html">
            
                <a href="../map.html#sec6">
            
                    
                    Exportation et importation GPKG
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../view.html">
            
                <a href="../view.html">
            
                    
                    Vue
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../view.html">
            
                <a href="../view.html#sec0">
            
                    
                    Étendue précédente/suivant
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../view.html">
            
                <a href="../view.html#sec1">
            
                    
                    Nouvelle vue
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../view.html">
            
                <a href="../view.html#sec2">
            
                    
                    3D
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../view.html">
            
                <a href="../view.html#sec3">
            
                    
                    Grille
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../analysis.html">
            
                <a href="../analysis.html">
            
                    
                    Analyse
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../analysis.html">
            
                <a href="../analysis.html#sec0">
            
                    
                    Mesurer des distances, surfaces et azimut
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../analysis.html">
            
                <a href="../analysis.html#sec1">
            
                    
                    Profil d’altitude et visibilité
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../analysis.html">
            
                <a href="../analysis.html#sec2">
            
                    
                    Pente et ombrage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../analysis.html">
            
                <a href="../analysis.html#sec3">
            
                    
                    Bassin visuel
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../draw.html">
            
                <a href="../draw.html">
            
                    
                    Dessiner
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../draw.html">
            
                <a href="../draw.html#sec0">
            
                    
                    Géométries et textes (Redlining)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../draw.html">
            
                <a href="../draw.html#sec1">
            
                    
                    Épingle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../draw.html">
            
                <a href="../draw.html#sec2">
            
                    
                    Ajouter image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../draw.html">
            
                <a href="../draw.html#sec3">
            
                    
                    Coller
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../draw.html">
            
                <a href="../draw.html#sec4">
            
                    
                    Symboles SymTaZ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="../draw.html">
            
                <a href="../draw.html#sec5">
            
                    
                    Grille de guidage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="../draw.html">
            
                <a href="../draw.html#sec6">
            
                    
                    Bullseye
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8" data-path="../draw.html">
            
                <a href="../draw.html#sec7">
            
                    
                    Effacer des objets
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../gps.html">
            
                <a href="../gps.html">
            
                    
                    GPS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../gps.html">
            
                <a href="../gps.html#sec0">
            
                    
                    Activer un GPS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../gps.html">
            
                <a href="../gps.html#sec1">
            
                    
                    Dessiner des waypoints et des itinéraires
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../gps.html">
            
                <a href="../gps.html#sec2">
            
                    
                    Exportation et importation GPX
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../mss.html">
            
                <a href="../mss.html">
            
                    
                    MSS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../mss.html">
            
                <a href="../mss.html#sec0">
            
                    
                    Dessiner des symboles MSS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../mss.html">
            
                <a href="../mss.html#sec1">
            
                    
                    Editer des symboles MSS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../mss.html">
            
                <a href="../mss.html#sec2">
            
                    
                    Gestion des couches
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../mss.html">
            
                <a href="../mss.html#sec3">
            
                    
                    Importation et exportation MilX
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="../mss.html">
            
                <a href="../mss.html#sec4">
            
                    
                    Importation OVL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="../mss.html">
            
                <a href="../mss.html#sec5">
            
                    
                    Dimension des symboles, largeur des lignes et standard
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../settings.html">
            
                <a href="../settings.html">
            
                    
                    Réglages
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../settings.html">
            
                <a href="../settings.html#sec0">
            
                    
                    Langue
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../settings.html">
            
                <a href="../settings.html#sec1">
            
                    
                    Unité d’altitude
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../settings.html">
            
                <a href="../settings.html#sec2">
            
                    
                    Champs de saisie numériques
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="../settings.html">
            
                <a href="../settings.html#sec3">
            
                    
                    Nombre de décimales pour les mesures
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="../settings.html">
            
                <a href="../settings.html#sec4">
            
                    
                    Aimenter aux noeuds lors du dessin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="../settings.html">
            
                <a href="../settings.html#sec5">
            
                    
                    Aide / A propos
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" >
            
                <span>
            
                    
                    Référence pour les fonctionnalités avancées
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../working_with_projections/working_with_projections.html">
            
                <a href="../working_with_projections/working_with_projections.html">
            
                    
                    Utiliser les projections
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../print_composer/print_composer.html">
            
                <a href="../print_composer/print_composer.html">
            
                    
                    Composeur d’Impression
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="supported_data.html">
            
                <a href="supported_data.html">
            
                    
                    Les données vectorielles
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.10.4" data-path="vector_properties.html">
            
                <a href="vector_properties.html">
            
                    
                    Fenêtre Propriétés d’une couche vecteur
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="expression.html">
            
                <a href="expression.html">
            
                    
                    Expressions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6" data-path="field_calculator.html">
            
                <a href="field_calculator.html">
            
                    
                    Calculatrice de champ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.7" data-path="../working_with_raster/supported_data.html">
            
                <a href="../working_with_raster/supported_data.html">
            
                    
                    Les données raster
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.8" data-path="../working_with_raster/raster_properties.html">
            
                <a href="../working_with_raster/raster_properties.html">
            
                    
                    Fenêtre Propriétés de la couche raster
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.9" data-path="../gpsgate/gpsgate.html">
            
                <a href="../gpsgate/gpsgate.html">
            
                    
                    Configuration de GPSGate
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" >
            
                <span>
            
                    
                    Annexe
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../appendices/shortcuts.html">
            
                <a href="../appendices/shortcuts.html">
            
                    
                    Raccourcis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="../appendices/license.html">
            
                <a href="../appendices/license.html">
            
                    
                    License
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Publié avec GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Fenêtre Propriétés d’une couche vecteur</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
                                <section class="normal markdown-section">
                                
                                <h1 id="fen&#xEA;tre-propri&#xE9;t&#xE9;s-dune-couche-vecteur-">Fen&#xEA;tre Propri&#xE9;t&#xE9;s d&apos;une couche vecteur <a name="#the-vector-properties-dialog"></a></h1>
<p>La fen&#xEA;tre <em>Propri&#xE9;t&#xE9;s de la couche</em> pour une couche vectorielle fournit des informations sur la couche, les param&#xE8;tres de repr&#xE9;sentation et les options d&apos;&#xE9;tiquetage. Si votre couche a &#xE9;t&#xE9; charg&#xE9;e depuis une base PostgreSQL/PostGIS, vous pouvez &#xE9;galement modifier la requ&#xEA;te SQL d&apos;appel de la couche, en l&apos;&#xE9;ditant dans la fen&#xEA;tre <em>Constructeur de requ&#xEA;te</em> de l&apos;onglet <em>G&#xE9;n&#xE9;ral</em>. Pour acc&#xE9;der &#xE0; la fen&#xEA;tre <em>Propri&#xE9;t&#xE9;s de la couche</em>, double-cliquez sur la couche dans la l&#xE9;gende ou faites un clic droit sur la couche et s&#xE9;lectionnez <em>Propri&#xE9;t&#xE9;s</em> dans le menu qui apparait.</p>
<p><img src="../../images/vector_general_menu.png" alt=""></p>
<h2 id="onglet-style-">Onglet Style <a name="#style-menu"></a></h2>
<p>Le menu Style vous offre un outil complet pour rendre et symboliser vos donn&#xE9;es vectorielles. Vous pouvez utiliser les outils de rendu <em>Rendering des couches &#x2023;</em> qui sont communs &#xE0; toutes les donn&#xE9;es vectorielles, ainsi que les outils de symbolisation sp&#xE9;ciaux qui ont &#xE9;t&#xE9; con&#xE7;us pour les diff&#xE9;rents types de donn&#xE9;es vectorielles.</p>
<h3 id="modes-de-rendu-">Modes de rendu <a name="#renderers"></a></h3>
<p>Le moteur de rendu est charg&#xE9; de dessiner une entit&#xE9; avec son symbole correct. Il existe quatre types de moteurs de rendu: symbole unique, cat&#xE9;goris&#xE9;, gradu&#xE9; et bas&#xE9; sur des r&#xE8;gles. Il n&apos;y a pas de rendu de couleur continue, car il s&apos;agit en fait d&apos;un cas particulier du rendu gradu&#xE9;. Les moteurs de rendu class&#xE9;s et gradu&#xE9;s peuvent &#xEA;tre cr&#xE9;&#xE9;s en sp&#xE9;cifiant un symbole et une rampe de couleur - ils d&#xE9;finissent les couleurs pour les symboles de mani&#xE8;re appropri&#xE9;e. Pour les couches de points, il y a un moteur de rendu par d&#xE9;placement de point disponible. Pour chaque type de donn&#xE9;es (points, lignes et polygones), des types de couches de symboles vectoriels sont disponibles. Selon le moteur de rendu choisi, l&apos;onglet <em>Style</em> fournit diff&#xE9;rentes sections suppl&#xE9;mentaires. Dans la fen&#xEA;tre de symbologie, il y a un bouton <strong>[Ouvrir la biblioth&#xE8;que]</strong> qui donne acc&#xE8;s au Gestionnaire de Symboles (voir <em>vector_style_manager</em>). Le Gestionnaire de Symboles vous permet de modifier et de supprimer des symboles existants et d&apos;en ajouter de nouveaux.</p>
<p>Apr&#xE8;s toutes modifications, le symbole peut-&#xEA;tre ajout&#xE9; &#xE0; la liste courante des symboles disponibles (via le bouton <strong>[Enregistrer]</strong>), et pourra donc &#xEA;tre facilement r&#xE9;utilis&#xE9;. De plus, vous pouvez utiliser le bouton <strong>[Style &#x2192; Enregistrer le style]</strong> pour sauvegarder le style en .qml (fichier de style de couche QGIS) ou au format SLD (.sld). Les SLD peuvent &#xEA;tre export&#xE9;s depuis n&apos;importe quel style de rendu &#x2013; symbole simple, cat&#xE9;gories, gradu&#xE9;s, bas&#xE9;s sur des r&#xE8;gles &#x2013; mais lors de l&apos;import d&apos;un SLD, un rendu du type symbole simple ou bas&#xE9; sur des r&#xE8;gles est cr&#xE9;&#xE9;. Cela signifie que les cat&#xE9;gories ou symboles gradu&#xE9;s sont convertis en ensemble de r&#xE8;gles. Si vous voulez pr&#xE9;server ce type de rendu, vous devez utiliser le format QML. D&apos;un autre cot&#xE9;, cela peut &#xEA;tre parfois tr&#xE8;s pratique d&apos;avoir la possibilit&#xE9; de simplement convertir des styles en ensemble de r&#xE8;gles.</p>
<p>Si, en travaillant sur le style d&apos;une couche vectorielle, vous changez de mode de rendu, les changements effectu&#xE9;s sur le symbole sont m&#xE9;moris&#xE9;s. Notez que cela ne fonctionne qu&apos;une seule fois. Si vous changez &#xE0; nouveau de mode de rendu, les param&#xE8;tres seront perdus.</p>
<p>Si la source d&apos;une couche est une base de donn&#xE9;es (PostGIS ou Spatialite par exemple), vous pouvez sauvegarder le style de la couche dans une table de la base de donn&#xE9;es. Cliquez simplement sur la liste d&#xE9;roulante <em>Enregistrer le style</em> et choisissez <strong>Enregistrer dans la base de donn&#xE9;es</strong>. Renseignez ensuite dans la fen&#xEA;tre le nom du style, sa description, un fichier ui et s&apos;il s&apos;agit du style par d&#xE9;faut. En ouvrant une couche issue d&apos;une base de donn&#xE9;es, si un style a &#xE9;t&#xE9; d&#xE9;fini pour cette couche, KADAS le chargera automatiquement. Vous pouvez ajouter plusieurs styles dans la base de donn&#xE9;es. Un seul pourra &#xEA;tre le style par d&#xE9;faut.</p>
<p><img src="../../images/save_style_database.png" alt=""></p>
<p><strong>S&#xE9;lectionner et modifier plusieurs symboles</strong></p>
<p>Il est possible de s&#xE9;lectionner plusieurs symboles, de faire un clic-droit dessus et de changer en une seule op&#xE9;ration leur couleur, leur transparence, leur taille ou leur &#xE9;paisseur.</p>
<p><strong>Symboles uniques</strong></p>
<p>Le mode de rendu en symbole unique est utilis&#xE9; pour repr&#xE9;senter toutes les entit&#xE9;s de la couche de la m&#xEA;me fa&#xE7;on, d&#xE9;finie par l&apos;utilisateur. Les propri&#xE9;t&#xE9;s, qui peuvent &#xEA;tre ajust&#xE9;es dans l&apos;onglet <em>Style</em>, d&#xE9;pendent du type de g&#xE9;om&#xE9;trie de la couche, mais partagent une structure similaire. En haut &#xE0; gauche figure un aper&#xE7;u du symbole tel qu&apos;il appara&#xEE;tra. A droite est affich&#xE9;e la liste des symboles d&#xE9;j&#xE0; existants pour le style courant, pr&#xEA;ts &#xE0; &#xEA;tre s&#xE9;lectionn&#xE9;s d&apos;un simple clic. Le symbole courant peut &#xEA;tre modifi&#xE9; en utilisant les outils &#xE0; droite de l&apos;aper&#xE7;u.</p>
<p>Si vous cliquez sur le premier niveau de la liste des <em>Couches de symbole</em>, sur la gauche, il est possible de choisir un certain nombre de param&#xE8;tres basiques comme la <em>Taille</em>, la <em>Transparence</em>, la <em>Couleur</em> ou l&apos;angle de <em>Rotation</em>. Ces param&#xE8;tres s&apos;appliquent &#xE0; toutes les couches de symboles.</p>
<p><img src="../../images/singlesymbol_ng_line.png" alt=""></p>
<p>Dans chaque zone de s&#xE9;lection num&#xE9;rique de cette bo&#xEE;te de dialogue vous pouvez taper des expressions. Par exemple, vous pouvez faire des calculs math&#xE9;matiques simples comme multiplier la taille actuelle d&apos;un point pas 3 sans avoir recours &#xE0; une calculette.</p>
<p><img src="../../images/expression_symbol_size_spinbox.png" alt=""></p>
<p>Si vous cliquez sur le deuxi&#xE8;me niveau dans la bo&#xEE;te de dialogue <em>Symbol layers</em> il est possible d&apos;avoir presque tous les param&#xE8;tres <em>D&#xE9;finis par les donn&#xE9;es</em>. Lorsqu&apos;une couleur est d&#xE9;finie par les donn&#xE9;es on peut lier la couleur &#xE0; un champ <em>calcul&#xE9;</em>. Une fonctionnalit&#xE9; de commentaires est ins&#xE9;r&#xE9;e ci-dessous.</p>
<pre><code>/* This expression will return a color code depending on the field value.
 * Negative value: red
 * 0 value: yellow
 * Positive value: green
 */
CASE
  WHEN value &lt; 0 THEN &apos;#DC143C&apos; -- Negative value: red
  WHEN value = 0 THEN &apos;#CCCC00&apos; -- Value 0: yellow
  ELSE &apos;#228B22&apos;                -- Positive value: green
END
</code></pre><p><img src="static/user_manual/working_with_vector/symbol_data_defined_edit.png" alt=""></p>
<p><strong>Symboles cat&#xE9;goris&#xE9;s</strong></p>
<p>Le rendu Cat&#xE9;goris&#xE9; est utilis&#xE9; pour repr&#xE9;senter toutes les entit&#xE9;s d&apos;une couche class&#xE9;es par cat&#xE9;gorie qui d&#xE9;pend d&apos;un des attributs de l&apos;entit&#xE9;. L&apos;onglet <em>Style</em> permet de s&#xE9;lectionner:</p>
<ul>
<li><p>L&apos;attribut (en utilisant la liste d&#xE9;roulante de Colonne ou la fonction <img src="../../images/mIconExpressionEditorOpen.png"> <em>D&#xE9;finir une expression de colonne</em></p>
</li>
<li><p>le symbole (en utilisant la fen&#xEA;tre de S&#xE9;lection de symbole)</p>
</li>
<li><p>Les couleurs (en utilisant la liste de palettes de couleur)</p>
</li>
</ul>
<p>Cliquez ensuite sur le bouton <strong>Classer</strong> pour g&#xE9;n&#xE9;rer les classes pour toutes les valeurs diff&#xE9;rentes trouv&#xE9;es dans le champ de la table attributaire. Chaque classe peut &#xEA;tre d&#xE9;sactiv&#xE9;e en d&#xE9;cochant la case situ&#xE9;e &#xE0; gauche du symbole de classe.</p>
<p>Vous pouvez changer le symbole, la valeur et / ou la l&#xE9;gende en double-cliquant sur l&apos;&#xE9;l&#xE9;ment &#xE0; modifier.</p>
<p>Un clic-droit vous propose de <strong>Copier / Coller</strong>, <strong>Modifier la couleur</strong>, <strong>Modifier la transparence</strong>, <strong>Modifier l&apos;unit&#xE9; de sortie</strong> ou <strong>Modifier la taille</strong>.</p>
<p>Le bouton <strong>[Avanc&#xE9;]</strong> dans le coin inf&#xE9;rieur droit de la fen&#xEA;tre vous permet de choisir un champ pour faire varier l&apos;angle de rotation et la taille des symboles. Tous les champs de la couche sont alors disponibles, m&#xEA;me s&apos;ils ne sont pas utilis&#xE9;s pour le rendu par cat&#xE9;gorie.</p>
<p><img src="../../images/categorysymbol_ng_line.png" alt=""></p>
<p><strong>Symboles gradu&#xE9;s</strong></p>
<p>Le rendu gradu&#xE9; est utilis&#xE9; pour afficher toutes les entit&#xE9;s d&apos;une couche, en utilisant un symbole de couche d&#xE9;fini par l&apos;utilisateur dont la couleur refl&#xE8;tera la plage d&apos;appartenance d&apos;une valeur d&apos;un attribut.</p>
<p><img src="../../images/graduatesymbol_ng_line.png" alt=""></p>
<p>De la m&#xEA;me mani&#xE8;re que le rendu cat&#xE9;goris&#xE9;, le rendu Gradu&#xE9; permet de faire varier l&apos;angle de rotation et la taille des symboles selon les valeurs des champs sp&#xE9;cifi&#xE9;s.</p>
<p>De la m&#xEA;me fa&#xE7;on que le rendu Cat&#xE9;goris&#xE9;, l&apos;onglet <em>Style</em> vous permet de modifier les points suivants:</p>
<ul>
<li><p>L&apos;attribut (en utilisant la liste d&#xE9;roulante de Colonne ou la fonction <img src="../../images/mIconExpressionEditorOpen.png"> <em>D&#xE9;finir une expression de colonne</em></p>
</li>
<li><p>Le symbole (en utilisant le bouton Changer)</p>
</li>
<li><p>Les couleurs (en utilisant la liste des palettes de couleur)</p>
</li>
</ul>
<p>De plus, vous pouvez choisir le nombre de classes et la m&#xE9;thode de classification (depuis la liste d&#xE9;roulante Mode). Les modes disponibles sont:</p>
<ul>
<li><p>Intervalles &#xE9;gaux: toutes les classes sont de m&#xEA;me taille (par exemple, avec des valeurs allant de 0 &#xE0; 16 et 4 classes, chaque classe aura une taille de 4);</p>
</li>
<li><p>Quantile: toutes les classes auront le m&#xEA;me effectif (m&#xEA;me principe que pour les bo&#xEE;tes &#xE0; moustache);</p>
</li>
<li><p>Ruptures naturelles (Jenks): la variance de chaque classe est minimale tandis que la variance entre les diff&#xE9;rentes classes est maximale;</p>
</li>
<li><p>&#xC9;cart-type: les classes sont construites en fonction le l&apos;&#xE9;cart-type calcul&#xE9; sur l&apos;ensemble des valeurs;</p>
</li>
<li><p>Jolies ruptures: m&#xEA;me principe que pour les intervalles &#xE9;gaux mais les limites de classe sont des entiers.</p>
</li>
</ul>
<p>La zone de liste dans la partie centrale du menu <em>Style</em> r&#xE9;pertorie les classes ainsi que leurs &#xE9;tendues, &#xE9;tiquettes et symboles de rendu.</p>
<p>Cliquez sur le bouton <strong>Classer</strong> pour g&#xE9;n&#xE9;rer les classes selon le mode choisi. Chaque classe peut &#xEA;tre d&#xE9;sactiv&#xE9;e en d&#xE9;cochant la case situ&#xE9;e &#xE0; gauche du symbole de classe.</p>
<p>Vous pouvez changer le symbole, la valeur et / ou la l&#xE9;gende en double-cliquant sur l&apos;&#xE9;l&#xE9;ment &#xE0; modifier.</p>
<p>Un clic-droit vous propose de <strong>Copier / Coller</strong>, <strong>Modifier la couleur</strong>, <strong>Modifier la transparence</strong>, <strong>Modifier l&apos;unit&#xE9; de sortie</strong> ou <strong>Modifier la taille</strong>.</p>
<p><strong>Cartes th&#xE9;matiques utilisant une expression</strong></p>
<p>Les cartes th&#xE9;matiques faites avec le rendu Cat&#xE9;goris&#xE9; ou Gradu&#xE9; peuvent d&#xE9;sormais &#xEA;tre cr&#xE9;&#xE9;es en utilisant le r&#xE9;sultat d&apos;une expression. Dans la fen&#xEA;tre Propri&#xE9;t&#xE9;s des couches vectorielles, le s&#xE9;lecteur de colonne accueille une fonction <img src="../../images/mIconExpressionEditorOpen.png"> <em>D&#xE9;finir une expression</em> de colonne. Alors maintenant, vous n&apos;avez plus besoin d&apos;&#xE9;crire l&apos;attribut de la classification dans une nouvelle colonne de votre table si vous souhaitez que l&apos;attribut de classification soit un composite de plusieurs champs, ou une formule quelconque.</p>
<p><strong>Rendu bas&#xE9; sur un ensemble de r&#xE8;gles</strong></p>
<p>Ce moteur de rendu est utilis&#xE9; pour afficher toutes les entit&#xE9;s d&apos;une couche en utilisant un ensemble de r&#xE8;gles pr&#xE9;d&#xE9;finies dont la couleur refl&#xE8;te la mani&#xE8;re dont une entit&#xE9; a &#xE9;t&#xE9; class&#xE9;e en fonction de ses attributs. Les r&#xE8;gles sont d&#xE9;finies par des expressions SQL. La fen&#xEA;tre permet de regrouper les r&#xE8;gles par type de filtre ou &#xE9;chelle de validit&#xE9;. Vous pouvez activer le rendu selon les niveaux de symboles ou arr&#xEA;ter le rendu &#xE0; la premi&#xE8;re r&#xE8;gle valid&#xE9;e pour chaque entit&#xE9;.</p>
<p>Pour cr&#xE9;er une r&#xE8;gle, activez une ligne existante en double-cliquant dessus ou cliquez sur <em>+</em> et cliquez sur la nouvelle r&#xE8;gle. Dans la bo&#xEE;te de dialogue Propri&#xE9;t&#xE9;s de la r&#xE8;gle, vous pouvez d&#xE9;finir une &#xE9;tiquette pour la r&#xE8;gle. Appuyez sur le bouton <img src="../../images/browsebutton.png"> pour ouvrir le constructeur de cha&#xEE;nes d&apos;expression. Dans la <strong>Liste des fonctions</strong>, cliquez sur <em>Champs et valeurs</em> pour afficher tous les attributs de la table d&apos;attributs &#xE0; rechercher. Pour ajouter un attribut au champ Calculatrice de champs <strong>Expression</strong>, double-cliquez sur son nom dans la liste <em>Champs et valeurs</em>. En g&#xE9;n&#xE9;ral, vous pouvez utiliser les diff&#xE9;rents champs, valeurs et fonctions pour construire l&apos;expression de calcul, ou vous pouvez simplement la saisir dans la case. Vous pouvez cr&#xE9;er une nouvelle r&#xE8;gle en copiant et collant une r&#xE8;gle existante avec le bouton droit de la souris. Vous pouvez &#xE9;galement utiliser la r&#xE8;gle <em>ELSE</em> qui sera ex&#xE9;cut&#xE9;e si aucune des autres r&#xE8;gles de ce niveau ne correspond. Les r&#xE8;gles apparaissent dans une hi&#xE9;rarchie arborescente dans la l&#xE9;gende de la carte. Il suffit de double-cliquer sur les r&#xE8;gles dans la l&#xE9;gende de la carte et le menu Style des propri&#xE9;t&#xE9;s du calque appara&#xEE;t, montrant la r&#xE8;gle qui est l&apos;arri&#xE8;re-plan du symbole dans l&apos;arbre.</p>
<p><img src="../../images/rulesymbol_ng_line.png" alt=""></p>
<p><strong>D&#xE9;placement de point</strong></p>
<p>Le rendu de D&#xE9;placement de point permet une visualisation de tous les points d&apos;une couche, m&#xEA;me si ceux-ci se superposent. Pour se faire, les symboles des points sont r&#xE9;partis en cercle autour d&apos;un symbole central.</p>
<p><img src="../../images/poi_displacement.png" alt=""></p>
<p><strong>Exporter le style d&apos;une couche vecteur</strong></p>
<p>You have the option to export vector symbology from KADAS into Google *.kml, *.dxf and MapInfo *.tab files. Just open the right mouse menu of the layer and click on <em>Save selection as &#x2023;</em> to specify the name of the output file and its format. In the dialog, use the <em>Symbology export</em> menu to save the symbology either as <em>Feature symbology &#x2023;</em> or as <em>Symbol layer symbology &#x2023;</em>. If you have used symbol layers, it is recommended to use the second setting.</p>
<p><strong>Polygones invers&#xE9;s</strong></p>
<p>Le rendu en polygones invers&#xE9;s permet de d&#xE9;finir un symbole &#xE0; appliquer &#xE0; l&apos;ext&#xE9;rieur des polygones de la couche. Vous pouvez alors choisir parmi des sous-mode de rendu. Il s&apos;agit des m&#xEA;mes que les principaux modes.</p>
<p><img src="../../images/inverted_polygon_symbol.png" alt=""></p>
<p><strong>Basculer rapidement entre styles</strong></p>
<p>Lorsque vous avez cr&#xE9;&#xE9; un des styles mentionn&#xE9;s ci-dessus vous pouvez faire un clic droit sur la couche et s&#xE9;lectionner <em>Styles &#x2023; Ajouter</em> pour sauver votre style. Vous pouvez maintenant basculer rapidement entre les styles que vous avez cr&#xE9;&#xE9;s en utilisant de nouveau le menu <em>Styles &#x2023;</em>.</p>
<p><strong>Carte de chaleur</strong></p>
<p>Avec le rendu de Carte de chaleur vous pouvez cr&#xE9;er des cartes de chaleur en temps r&#xE9;el et dynamiques pour des couches (multi-)points. Vous pouvez d&#xE9;finir le rayon de la carte de chaleur en pixels, mm ou unit&#xE9;s cartographiques, choisir une rampe de couleur pour le style de carte de chaleur et utiliser une jauge pour choisir entre la vitesse du rendu et la qualit&#xE9;. Lorsque une entit&#xE9; est ajout&#xE9;e ou retir&#xE9;e le rendu de carte de chaleur met automatiquement &#xE0; jour le style de carte de chaleur.</p>
<h3 id="s&#xE9;lecteur-de-couleur-">S&#xE9;lecteur de Couleur <a name="#color-picker"></a></h3>
<p>Ind&#xE9;pendamment du type de style utilis&#xE9;, la fen&#xEA;tre <em>S&#xE9;lectionner la couleur</em> s&apos;affiche d&#xE8;s que vous cliquez pour modifier une couleur - de bordure ou de remplissage. Quatre onglets vous permettent de s&#xE9;lectionner une couleur via une <img src="../../images/mIconColorBox.png"> <em>Palette de couleur</em>, une <img src="../../images/mIconColorWheel.png"> <em>Roue chromatique</em>, des <img src="../../images/mIconColorSwatches.png"> <em>Aplats de couleur</em> ou un <img src="../../images/mIconColorPicker.png"> <em>S&#xE9;lecteur de couleur</em>.</p>
<p>Quelle que soit la m&#xE9;thode de s&#xE9;lection, la couleur est toujours d&#xE9;crite en valeurs TSV (Teinte, Saturation, Valeur) et RVB (Rouge, Vert, Bleu). Il y a &#xE9;galement la valeur d&#x2019;<em>Opacit&#xE9;</em> pour r&#xE9;gler le niveau de transparence. En bas &#xE0; gauche de la fen&#xEA;tre s&apos;affiche la comparaison entre la couleur <em>Actuelle</em> et l&#x2019;<em>Ancienne</em>. En bas &#xE0; droite, vous avez la possibilit&#xE9; d&apos;ajouter la couleur s&#xE9;lectionn&#xE9;e &#xE0; un bouton de couleur.</p>
<p><img src="../../images/color_picker_ramp.png" alt=""></p>
<p>Avec la <img src="../../images/mIconColorBox.png"> <em>Palette de couleur</em> ou la <img src="../../images/mIconColorWheel.png"> <em>Roue chromatique</em>, vous parcourez toutes les combinaisons de couleurs possibles. Il y a cependant d&apos;autres possibilit&#xE9;s. En utilisant les Aplats de couleur <img src="../../images/mIconColorSwatches.png">, vous pouvez choisir &#xE0; partir d&apos;une liste pr&#xE9;d&#xE9;finie. Cette liste correspond aux <em>Couleurs r&#xE9;centes</em>, aux <em>Couleurs standards</em> et aux <em>Couleurs du projet</em>.</p>
<p><img src="../../images/color_picker_recent_colors.png" alt=""></p>
<p>Une autre possibilit&#xE9; est d&apos;utiliser le <img src="../../images/mIconColorPicker.png"> <em>S&#xE9;lecteur de couleur</em> qui permet d&apos;&#xE9;chantillonner une couleur directement avec le pointeur de la souris depuis n&apos;importe quelle partie de l&apos;interface de QGIS et depuis une autre application en appuyant sur la barre espace. Cet outil d&#xE9;pend du syst&#xE8;me d&apos;exploitation et n&apos;est pas fonctionnel pour le moment sur OSX.</p>
<p><strong>Raccourci pour la s&#xE9;lection de couleur + copier/coller des couleurs</strong></p>
<p>Vous pouvez rapidement choisir une <em>Couleur r&#xE9;cente</em>, une <em>Couleur standard</em> ou simplement <em>copier</em> / <em>coller</em> une couleur en cliquant sur la fl&#xE8;che situ&#xE9;e &#xE0; droite du bouton qui affiche la couleur.</p>
<p><img src="../../images/quick_color_picker.png" alt=""></p>
<h3 id="rendu-de-couche-">Rendu de couche <a name="#layer-rendering"></a></h3>
<ul>
<li><p><em>Transparence de la couche</em> <img src="../../images/slider.png" alt="slider">: permet de rendre visible les couches situ&#xE9;es en dessous. Utiliser le curseur pour adapter la visibilit&#xE9; de la couche vectorielle &#xE0; vos besoins. Vous pouvez &#xE9;galement d&#xE9;finir directement le pourcentage de transparence dans la zone de texte situ&#xE9;e &#xE0; c&#xF4;t&#xE9;.</p>
</li>
<li><p><em>Mode de m&#xE9;lange des couches</em> et <em>mode de m&#xE9;lange des objets</em>: Vous pouvez obtenir des effets de rendu sp&#xE9;ciaux avec ces outils que vous ne connaissiez auparavant que par le biais de programmes graphiques. Les pixels de vos calques superpos&#xE9;s et sous-jacents sont m&#xE9;lang&#xE9;s &#xE0; l&apos;aide des param&#xE8;tres d&#xE9;crits ci-dessous.</p>
<ul>
<li><p>Normal: il s&apos;agit du mode de fusion standard qui utilise la valeur de transparence (canal alpha) du pixel sup&#xE9;rieur pour le fusionner avec le pixel sous-jacent, les couleurs ne sont pas m&#xE9;lang&#xE9;es.</p>
</li>
<li><p>Eclaircir: S&#xE9;lectionne le maximum entre chaque composante depuis les pixels du premier-plan et de l&apos;arri&#xE8;re-plan. Soyez attentif au fait que le r&#xE9;sultat obtenu peut pr&#xE9;senter un aspect dur et cr&#xE9;nel&#xE9;.</p>
</li>
<li><p>Filtrer: Les pixels lumineux de la source sont affich&#xE9;s par dessus la destination, alors que les pixels sombres ne le sont pas. Ce mode est utile pour m&#xE9;langer la texture d&apos;une couche avec une autre (c&apos;est-&#xE0;-dire que vous pouvez utiliser un relief ombr&#xE9; pour texturer une autre couche).</p>
</li>
<li><p>Eviter: Ce mode va &#xE9;claircir et saturer les pixels sous-jacents en se basant sur la luminosit&#xE9; du pixel au-dessus. La brillance des pixels sup&#xE9;rieurs va donc provoquer une augmentation de la saturation et de la brillance des pixels inf&#xE9;rieurs. Cela fonctionne mieux si les pixels sup&#xE9;rieurs ne sont pas lumineux, sinon l&apos;effet sera trop prononc&#xE9;.</p>
</li>
<li><p>Addition: Ce mode de fusion ajoute simplement les valeurs de pixels d&apos;une couche avec une autre. Dans le cas de valeurs obtenues au-dessus de un (en ce qui concerne le RVB), du blanc sera affich&#xE9;. Ce mode est appropri&#xE9; pour mettre en &#xE9;vidence des entit&#xE9;s.</p>
</li>
<li><p>Assombrir: Ce mode cr&#xE9;&#xE9; un pixel r&#xE9;sultant qui conserve le plus petit composant parmi les pixels du premier-plan et de l&apos;arri&#xE8;re-plan. Comme avec le mode &#xE9;claircir, le r&#xE9;sultat peut pr&#xE9;senter un aspect dur et cr&#xE9;nel&#xE9;.</p>
</li>
<li><p>Multiplier: Dans ce cas, les valeurs pour chaque pixel de la couche sup&#xE9;rieure sont multipli&#xE9;es par celles des pixels correspondants de la couche inf&#xE9;rieure. Les images obtenues sont plus sombres.</p>
</li>
<li><p>D&#xE9;couper: Les couleur sombres de la couche sup&#xE9;rieure provoquent un obscurcissement des couches inf&#xE9;rieures. D&#xE9;couper peut &#xEA;tre utilis&#xE9; pour ajuster et teinter les couches inf&#xE9;rieures.</p>
</li>
<li><p>Rev&#xEA;tement: Ce mode combine les modes multiplier et filtrer. Dans l&apos;image r&#xE9;sultante, les parties lumineuses deviennent plus lumineuses et les parties sombres plus sombres.</p>
</li>
<li><p>Lumi&#xE8;re douce: Ce mode est tr&#xE8;s similaire au mode rev&#xEA;tement, mais au lieu d&apos;utiliser multiplier/filtrer il utilise d&#xE9;couper/&#xE9;viter. Il est cens&#xE9; &#xE9;muler une lumi&#xE8;re douce rayonnante dans l&apos;image.</p>
</li>
<li><p>Lumi&#xE8;re dure: Ce mode est lui aussi tr&#xE8;s similaire au mode rev&#xEA;tement. Il est cens&#xE9; &#xE9;muler une lumi&#xE8;re tr&#xE8;s intense projet&#xE9;e dans l&apos;image.</p>
</li>
<li><p>Diff&#xE9;rencier: Ce mode soustrait le pixel sup&#xE9;rieur au pixel inf&#xE9;rieur et vice-versa, de fa&#xE7;on &#xE0; toujours obtenir une valeur positive. Le m&#xE9;lange avec du noir ne produit aucun changement, &#xE9;tant donn&#xE9; que toutes les couleurs sont nulles.</p>
</li>
<li><p>Soutraire: Ce mode soustrait les valeurs de pixel d&apos;une couche avec une autre. En cas de valeurs n&#xE9;gatives obtenues, du noir est affich&#xE9;.</p>
</li>
</ul>
</li>
</ul>
<h2 id="onglet-&#xE9;tiquettes-">Onglet &#xC9;tiquettes <a name="#labels-menu"></a></h2>
<p>Le moteur d&#x2019;<img src="../../images/mActionLabeling.png"> <em>&#xC9;tiquettes</em> fournit un syst&#xE8;me d&apos;&#xE9;tiquetage intelligent pour les couches de points, lignes et polygones et ne n&#xE9;cessite que peu de param&#xE8;tres. Ce nouveau syst&#xE8;me g&#xE8;re les couches reprojet&#xE9;es &#xE0; la vol&#xE9;e. Les fonctionnalit&#xE9;s principales ont &#xE9;t&#xE9; re-design&#xE9;es et KADAS en propose de nouvelles qui am&#xE9;liorent l&apos;&#xE9;tiquetage. Les menus suivants ont &#xE9;t&#xE9; cr&#xE9;&#xE9;s pour les couches vectorielles:</p>
<ul>
<li><p>Texte</p>
</li>
<li><p>Formatage</p>
</li>
<li><p>Tampon</p>
</li>
<li><p>Fond</p>
</li>
<li><p>Ombre</p>
</li>
<li><p>Emplacement</p>
</li>
<li><p>Rendu</p>
</li>
</ul>
<p>Voyons ce que l&apos;on peut faire avec les nouveaux onglets pour chaque type de couche.</p>
<p><strong>&#xC9;tiqueter une couche de points</strong></p>
<p>Lancez KADAS et chargez une couche vectorielle de points. S&#xE9;lectionnez la couche dans la l&#xE9;gende et cliquez sur le bouton <img src="../../images/mActionLabeling.png"> <em>Param&#xE8;tres d&apos;&#xE9;tiquetage de la couche</em> de la barre d&apos;outils KADAS.</p>
<p>La premi&#xE8;re &#xE9;tape consiste &#xE0; cocher la case <img src="../../images/checkbox.png"> <em>&#xC9;tiqueter cette couche avec</em> et &#xE0; s&#xE9;lectionner un champ attributaire &#xE0; utiliser pour l&apos;&#xE9;tiquette. Cliquez sur <img src="../../images/mIconExpressionEditorOpen.png"> si vous souhaitez d&#xE9;finir les &#xE9;tiquettes en vous basant sur des expressions.</p>
<p>Les &#xE9;tapes pr&#xE9;sent&#xE9;es ci-dessous d&#xE9;crivent un &#xE9;tiquetage simple, sans utilisation des fonctions de <em>Valeurs d&#xE9;finies par les donn&#xE9;es</em>, situ&#xE9;es &#xE0; droite des param&#xE8;tres &#xE0; d&#xE9;finir.</p>
<p>Vous pouvez d&#xE9;finir le style du texte dans le menu <em>Texte</em>. Utilisez l&apos;option <em>Casse</em> pour influencer le rendu du texte. Vous avez la possibilit&#xE9; d&apos;afficher le texte <em>Tout en majuscules</em>, <em>Tout en minuscules</em> ou <em>Premi&#xE8;res lettres en majuscules</em>. Utilisez le mode de fusion pour cr&#xE9;er des effets bien connus des logiciels de graphisme (voir <a href="#blend-modes">mode de m&#xE9;lange</a>).</p>
<p>Dans le menu <em>Formatage</em>, vous pouvez d&#xE9;finir un caract&#xE8;re de retour &#xE0; la ligne afin de d&#xE9;couper l&apos;&#xE9;tiquette sur de multiples lignes. Utilisez l&apos;option <img src="../../images/checkbox.png"> <em>Nombres format&#xE9;s</em> pour formater les valeurs num&#xE9;riques de la table attributaire. Les chiffres apr&#xE8;s la virgule sont ins&#xE9;r&#xE9;s. L&apos;activation de cette option ajoute par d&#xE9;faut trois chiffres apr&#xE8;s la virgule.</p>
<p>Pour cr&#xE9;er un tampon, cochez simplement la case <img src="../../images/checkbox.png"> <em>Afficher un tampon</em> depuis le menu <em>Tampon</em>. La couleur du tampon est personnalisable. Vous pouvez &#xE9;galement appliquer un mode de fusion (voir <a href="#blend-modes">mode de m&#xE9;lange</a>).</p>
<p>Si la case &#xE0; cocher <em>Colorier le remplissage du tampon</em> est activ&#xE9;, il va interagir avec le texte partiellement transparent et donner des r&#xE9;sultats mitig&#xE9;s en mati&#xE8;re de transparence de la couleur. La d&#xE9;sactivation du remplissage du tampon corrige ce probl&#xE8;me (sauf l&#xE0; o&#xF9; l&apos;aspect int&#xE9;rieur du contour du tampon intersecte avec le texte de remplissage) et permet &#xE9;galement de faire du texte encadr&#xE9;.</p>
<p>Dans le menu <em>Fond</em>, vous pouvez d&#xE9;finir la forme de votre arri&#xE8;re-plan avec <em>Taille X</em> et <em>Taille Y</em>. Utilisez <em>Taille selon</em> pour ajouter une zone de <em>Tampon</em> &#xE0; votre arri&#xE8;re-plan. La taille du tampon est d&#xE9;finie par d&#xE9;faut ici. Le fond est alors constitu&#xE9; de la zone tampon et du fond d&#xE9;fini par les valeurs <em>Taille X</em> et <em>Taille Y</em>. Vous pouvez aussi d&#xE9;finir une <em>Rotation</em> correspondant &#xE0; <em>Angle de l&apos;&#xE9;tiquette</em>, <em>Angle par rapport &#xE0; l&apos;&#xE9;tiquette</em> ou encore <em>Valeurs fixes</em>. D&#xE9;finissez un <em>D&#xE9;calage X,Y</em> avec les valeurs X et Y et le fond sera d&#xE9;plac&#xE9;. En appliquant <em>Angles arrondis X,Y</em>, l&apos;arri&#xE8;re-plan s&apos;arrondit aux angles. Il est &#xE9;galement possible de fusionner le fond avec les couches sous-jacentes dans la fen&#xEA;tre de carte en utilisant le <em>Mode de fusion</em> (voir <a href="#blend-modes">mode de m&#xE9;lange</a>).</p>
<p>Utilisez le menu <em>Ombre</em> pour une <em>Ombre port&#xE9;e</em> d&#xE9;finie par l&apos;utilisateur. Le dessin de l&apos;arri&#xE8;re-plan est tr&#xE8;s variable. Choisissez entre <em>l&apos;objet le plus bas de l&apos;&#xE9;tiquette</em>, <em>Texte</em>, <em>Tampon</em> et <em>Fond</em>. L&apos;angle du <em>D&#xE9;calage</em> d&#xE9;pend de l&apos;orientation de l&apos;&#xE9;tiquette. Si vous cochez la case <em>Utilise une ombre globale</em>, alors le point z&#xE9;ro de l&apos;angle est toujours orient&#xE9; vers le nord et ne d&#xE9;pend pas de l&apos;orientation de l&apos;&#xE9;tiquette. Vous pouvez influencer l&apos;apparence de l&apos;ombre avec le <em>Rayon d&apos;estompage</em>. Plus le nombre sera faible et plus les ombres seront douces. L&apos;apparence de l&apos;ombre port&#xE9;e peut &#xE9;galement &#xEA;tre modifi&#xE9;e en choisissant un mode de fusion (voir <a href="#blend-modes">mode de m&#xE9;lange</a>).</p>
<p>S&#xE9;lectionnez le menu <em>Emplacement</em> pour d&#xE9;finir la position de l&apos;&#xE9;tiquette et les priorit&#xE9;s d&apos;&#xE9;tiquetage. L&apos;option <img src="../../images/radiobuttonon.png" alt="radiobuttonon"> <em>D&#xE9;calage par rapport au point</em> offre maintenant la possibilit&#xE9; d&apos;utiliser les <em>Quadrants</em> pour placer l&apos;&#xE9;tiquette. En outre, vous pouvez modifier l&apos;orientation de l&apos;&#xE9;tiquette avec l&apos;option <em>Rotation</em>. Ainsi, un emplacement dans un quadrant donn&#xE9; avec une rotation donn&#xE9;e est d&#xE9;sormais possible. Dans la section <em>Priorit&#xE9;</em> vous pouvez d&#xE9;finir la priorit&#xE9; d&apos;emplacement de l&apos;&#xE9;tiquette. Elle interagit avec les &#xE9;tiquettes des autres couches vectorielles du canevas de cartes. S&apos;il y a des &#xE9;tiquettes de couches diff&#xE9;rentes au m&#xEA;me emplacement alors l&apos;&#xE9;tiquette ayant la plus haute priorit&#xE9; sera affich&#xE9;e et les autres ne le seront pas.</p>
<p>Dans le menu <em>Rendu</em>, vous pouvez d&#xE9;finir des options d&apos;&#xE9;tiquettes et d&apos;entit&#xE9;s. Sous <em>Options des &#xE9;tiquettes</em>, vous trouverez maintenant le param&#xE8;tre de visibilit&#xE9; selon l&apos;&#xE9;chelle. Vous pouvez emp&#xEA;cher KADAS de n&apos;afficher qu&apos;un certain nombre d&apos;&#xE9;tiquettes &#xE0; l&apos;aide de l&apos;option <img src="../../images/checkbox.png"> <em>Afficher toutes les &#xE9;tiquettes pour cette couche (m&#xEA;me celles en conflit)</em>. Sous <em>Options des entit&#xE9;s</em>, vous pouvez d&#xE9;finir si chaque partie d&apos;une entit&#xE9; multi-parties doit avoir son &#xE9;tiquette. Il est possible de d&#xE9;finir un nombre limite d&apos;entit&#xE9;s &#xE0; &#xE9;tiqueter et d&#x2019; <img src="../../images/checkbox.png"> <em>&#xC9;viter que l&apos;&#xE9;tiquette ne recouvre des objets</em>.</p>
<p><img src="../../images/label_points.png" alt=""></p>
<p><strong>&#xC9;tiqueter une couche de lignes</strong></p>
<p>La premi&#xE8;re &#xE9;tape consiste &#xE0; cocher la case <img src="../../images/checkbox.png"> <em>Etiqueter cette couche avec</em> dans l&apos;onglet <em>&#xC9;tiquettes</em> et &#xE0; s&#xE9;lectionner un champ attributaire &#xE0; utiliser pour l&apos;&#xE9;tiquette. Cliquez sur <img src="../../images/mIconExpressionEditorOpen.png"> si vous souhaitez d&#xE9;finir les &#xE9;tiquettes en vous basant sur des expressions.</p>
<p>Ensuite, vous pouvez d&#xE9;finir le style de texte dans le menu <em>Texte</em>. Ici, les options sont identiques &#xE0; celles propos&#xE9;es pour les couches de points.</p>
<p>De m&#xEA;me, dans le menu <em>Formatage</em>, les param&#xE8;tres sont identiques &#xE0; ceux des couches de points.</p>
<p>Le menu <em>Tampon</em> offre les m&#xEA;mes fonctions que celles d&#xE9;finies dans la section <a href="#labeling-point-layers">l&apos;&#xE9;tiquetage des couches ponctuelles</a>.</p>
<p>Le menu <em>Fond</em> offre les m&#xEA;mes entr&#xE9;es que celles d&#xE9;finies dans la section <a href="#labeling-point-layers">l&apos;&#xE9;tiquetage des couches ponctuelles</a>.</p>
<p>Le menu <em>Ombre</em> offre les m&#xEA;mes entr&#xE9;es que celles d&#xE9;finies dans la section <a href="#labeling-point-layers">l&apos;&#xE9;tiquetage des couches ponctuelles</a>.</p>
<p>Dans le menu <em>Emplacement</em>, vous trouverez des options sp&#xE9;cifiques aux couches de lignes. L&apos;&#xE9;tiquette peut avoir un alignement <img src="../../images/radiobuttonon.png" alt="radiobuttonon"> <em>Parall&#xE8;le</em>, <img src="../../images/radiobuttonoff.png" alt="radiobuttonoff"> <em>Courb&#xE9;</em> ou <img src="../../images/radiobuttonoff.png" alt="radiobuttonoff"> <em>Horizontal</em>. Avec les options <img src="../../images/radiobuttonon.png" alt="radiobuttonon"> <em>Parall&#xE8;le</em> et <img src="../../images/radiobuttonoff.png" alt="radiobuttonoff"> <em>Courb&#xE9;</em>, vous pouvez d&#xE9;finir une position <img src="../../images/checkbox.png"> <em>Au-dessus de la ligne</em>, <img src="../../images/checkbox.png"> <em>Sur la ligne</em> ou <img src="../../images/checkbox.png"> <em>En-dessous de la ligne</em>. Il est possible de s&#xE9;lectionner plusieurs options &#xE0; la fois. Dans ce cas, KADAS recherchera la position optimale pour l&apos;&#xE9;tiquette. Sachez que vous pouvez aussi utiliser l&apos;orientation de la ligne pour positionner l&apos;&#xE9;tiquette. En outre, vous pouvez d&#xE9;finir un <em>Angle maximal des lettres (&#xE9;tiquettes courbes)</em> lorsque vous optez pour un emplacement <img src="../../images/radiobuttonoff.png" alt="radiobuttonoff"> <em>Courb&#xE9;</em>.</p>
<p>Vous pouvez d&#xE9;finir une distance minimale pour r&#xE9;p&#xE9;ter les &#xE9;tiquettes. Cette distance peut &#xEA;tre en mm ou en unit&#xE9;s de la carte.</p>
<p>Certaines configurations de placement proposeront plus d&apos;options, par exemple, les Emplacements <em>Courb&#xE9;</em> et <em>Parall&#xE8;le</em> permettent de d&#xE9;finir la position de l&apos;&#xE9;tiquette (au-dessus, en-dessous ou sur la ligne), la <em>Distance</em> &#xE0; la ligne et, pour <em>Courb&#xE9;</em>, l&apos;utilisateur peut aussi d&#xE9;finir l&apos;angle maximal interne/externe entre les &#xE9;tiquettes courb&#xE9;es. De la m&#xEA;me fa&#xE7;on que pour les couches de points vous avez la possibilit&#xE9; de d&#xE9;finir une <em>Priorit&#xE9;</em> pour les &#xE9;tiquettes.</p>
<p>Le menu <em>Rendu</em> offre presque les m&#xEA;mes fonctions que celles d&#xE9;finies pour les couches de points. Dans les <em>Options des entit&#xE9;s</em>, vous pouvez maintenant <em>Ne pas afficher d&apos;&#xE9;tiquettes pour les entit&#xE9;s plus petites que</em>.</p>
<p><img src="../../images/label_line.png" alt=""></p>
<p><strong>&#xC9;tiqueter une couche de polygones</strong></p>
<p>La premi&#xE8;re &#xE9;tape consiste &#xE0; cocher la case <img src="../../images/checkbox.png"> <em>Etiqueter cette couche avec</em> et &#xE0; s&#xE9;lectionner un champ attributaire &#xE0; utiliser pour l&apos;&#xE9;tiquette. Cliquez sur <img src="../../images/mIconExpressionEditorOpen.png"> si vous souhaitez d&#xE9;finir les &#xE9;tiquettes en vous basant sur des expressions.</p>
<p>Le menu <em>Texte</em> d&#xE9;finit le style de texte. Les options propos&#xE9;es sont identiques &#xE0; celles des couches de points et de lignes.</p>
<p>Le menu <em>Formatage</em> permet de formater l&apos;&#xE9;tiquette sur des lignes multiples comme pour les couches de points ou de lignes.</p>
<p>Comme pour les points et les lignes, vous pouvez d&#xE9;finir une zone tampon autour du texte dans le menu <em>Tampon</em>.</p>
<p>Utilisez le menu <em>Fond</em> pour cr&#xE9;er des arri&#xE8;re-plans personnalis&#xE9;s pour les &#xE9;tiquettes de polygones. Ce menu est identique &#xE0; celui des couches de points ou de lignes.</p>
<p>Les entr&#xE9;es du menu <em>Ombre</em> sont identiques &#xE0; celles des couches de points ou de lignes.</p>
<p>Le menu <em>Emplacement</em> propose des options sp&#xE9;cifiques aux couches de polygones. Il s&apos;agit notamment de <img src="../../images/radiobuttonon.png" alt="radiobuttonon"> <em>D&#xE9;calage par rapport au centro&#xEF;de</em>, <img src="../../images/radiobuttonoff.png" alt="radiobuttonoff"> <em>Horizontal (lent)</em>, <img src="../../images/radiobuttonoff.png" alt="radiobuttonoff"> <em>Autour du centro&#xEF;de</em>, <img src="../../images/radiobuttonoff.png" alt="radiobuttonoff"> <em>Libre (lent)</em> et <img src="../../images/radiobuttonoff.png" alt="radiobuttonoff"> <em>Selon le p&#xE9;rim&#xE8;tre</em>.</p>
<p>Avec l&apos;option <img src="../../images/radiobuttonon.png" alt="radiobuttonon"> <em>D&#xE9;calage par rapport au centro&#xEF;de</em>, vous pouvez d&#xE9;finir si le centro&#xEF;de est celui du <img src="../../images/radiobuttonon.png" alt="radiobuttonon"> <em>polygone visible</em> ou du <img src="../../images/radiobuttonoff.png" alt="radiobuttonoff"> <em>polygone complet</em>. Cela signifie que soit le centro&#xEF;de utilis&#xE9; correspond &#xE0; celui de la portion de polygone qui appara&#xEE;t dans votre carte, soit il est d&#xE9;fini par rapport au polygone en entier, que vous l&apos;ayez enti&#xE8;rement affich&#xE9; dans votre carte ou pas. Vous pouvez placer l&apos;&#xE9;tiquette selon les quadrants et d&#xE9;finir un d&#xE9;calage et une rotation. L&apos;option <img src="../../images/radiobuttonoff.png" alt="radiobuttonoff"> <em>Autour du centro&#xEF;de</em> permet de placer l&apos;&#xE9;tiquette autour du centro&#xEF;de, &#xE0; une certaine distance. L&#xE0; encore, il y a la possibilit&#xE9; de d&#xE9;finir si le centro&#xEF;de est <img src="../../images/radiobuttonon.png" alt="radiobuttonon"> <em>polygone visible</em> ou <img src="../../images/radiobuttonoff.png" alt="radiobuttonoff"> <em>polygone complet</em>. Avec l&apos;option <img src="../../images/radiobuttonoff.png" alt="radiobuttonoff"> <em>Selon le p&#xE9;rim&#xE8;tre</em>, vous pouvez d&#xE9;finir une position et une distance de placement pour l&apos;&#xE9;tiquette. Les positions possibles sont <img src="../../images/checkbox.png"> <em>Au-dessus de la ligne</em>, <img src="../../images/checkbox.png"> <em>Sur la ligne</em>, <img src="../../images/checkbox.png"> <em>En-dessous de la ligne</em> et <img src="../../images/checkbox.png"> <em>Orientation de la ligne suivant la position</em>.</p>
<p>En fonction du choix de la position des &#xE9;tiquettes, plusieurs options sont affich&#xE9;es. Vous pouvez ici choisir la distance au contour des polygones et l&apos;intervalle de r&#xE9;p&#xE9;tition des &#xE9;tiquettes sur le contour des polygones.</p>
<p>De la m&#xEA;me fa&#xE7;on que pour les couches vectorielles de points et de lignes vous avez le possibilit&#xE9; de d&#xE9;finir une <em>Priorit&#xE9;</em> pour les couches vectorielles de polygones.</p>
<p>Le sous-menu <em>Rendu</em> propose les m&#xEA;mes fonctions que celles d&#xE9;finies pour les couches de lignes. Dans les <em>Options des entit&#xE9;s</em>, vous pouvez choisir de <em>Ne pas afficher d&apos;&#xE9;tiquettes pour les entit&#xE9;s plus petites que</em>.</p>
<p><img src="../../images/label_area.png" alt=""></p>
<p><strong>D&#xE9;fini des &#xE9;tiquettes bas&#xE9;es sur des expressions</strong></p>
<p>QGIS permet d&apos;utiliser des expressions pour &#xE9;tiqueter les entit&#xE9;s. Cliquez sur l&apos;ic&#xF4;ne <img src="../../images/mIconExpressionEditorOpen.png"> dans le menu <em>&#xC9;tiquettes</em> <img src="../../images/mActionLabeling.png"> de la bo&#xEE;te de dialogue Propri&#xE9;t&#xE9;s. Dans la figure ci-dessous vous pouvez voir un exemple d&apos;expression pour &#xE9;tiqueter les r&#xE9;gions de l&apos;Alaska avec leur nom et leur superficie, en se basant sur le champ <em>NAME_2</em>, un texte de description et la fonction <em>$area()</em> en combinaison avec <em>format_number()</em> pour am&#xE9;liorer l&apos;affichage num&#xE9;rique.</p>
<p><img src="../../images/label_expression.png"></p>
<p>L&apos;&#xE9;tiquetage bas&#xE9; sur des expressions est simple &#xE0; utiliser. Tout ce dont vous avez &#xE0; vous pr&#xE9;occuper est de combiner tous les &#xE9;l&#xE9;ments (cha&#xEE;nes de caract&#xE8;res, champs et fonctions) avec l&apos;op&#xE9;rateur de concat&#xE9;nation || et que les champs soient entour&#xE9;s par des &#x201C;apostrophes doubles &#x201D; et les cha&#xEE;nes par des <em>apostrophes simples</em>. Voici quelques exemples:</p>
<pre><code> # label based on two fields &apos;name&apos; and &apos;place&apos; with a comma as separater
 &quot;name&quot; || &apos;, &apos; || &quot;place&quot;

 -&gt; John Smith, Paris

 # label based on two fields &apos;name&apos; and &apos;place&apos; separated by comma
 &apos;My name is &apos; || &quot;name&quot; || &apos;and I live in &apos; || &quot;place&quot;

 -&gt; My name is John Smith and I live in Paris

 # label based on two fields &apos;name&apos; and &apos;place&apos; with a descriptive text
 # and a line break (\n)
 &apos;My name is &apos; || &quot;name&quot; || &apos;\nI live in &apos; || &quot;place&quot;

 -&gt; My name is John Smith
    I live in Paris

 # create a multi-line label based on a field and the $area function
 # to show the place name and its area size based on unit meter.
 &apos;The area of &apos; || &quot;place&quot; || &apos;has a size of &apos; || $area || &apos;m&#xB2;&apos;

 -&gt; The area of Paris has a size of 105000000 m&#xB2;

 # create a CASE ELSE condition. If the population value in field
 # population is &lt;= 50000 it is a town, otherwise a city.
 &apos;This place is a &apos; || CASE WHEN &quot;population &lt;= 50000&quot; THEN &apos;town&apos; ELSE &apos;city&apos; END

-&gt; This place is a town
</code></pre><p>Comme vous pouvez le constater dans le constructeur d&apos;expressions, vous avez &#xE0; votre disposition une centaine de fonctions pour cr&#xE9;er des expressions simples ou tr&#xE8;s complexes afin d&apos;&#xE9;tiqueter vos donn&#xE9;es avec KADAS. Voir <a href="expression.html#vector-expressions"><em>Expressions</em></a> pour plus d&apos;informations et des exemples d&apos;expressions.</p>
<p><strong>Utiliser des valeurs de param&#xE8;tres d&#xE9;finies par les donn&#xE9;es pour l&apos;&#xE9;tiquetage</strong></p>
<p>Avec les fonctions de remplacement d&#xE9;fini par les donn&#xE9;es, les param&#xE8;tres de l&apos;&#xE9;tiquetage sont remplac&#xE9;es par les entr&#xE9;es de la table d&apos;attributs. Vous pouvez activer et d&#xE9;sactiver cette fonction avec le bouton droit de la souris. Survolez le symbole et vous verrez les informations sur le remplacement des donn&#xE9;es d&#xE9;finies, y compris le domaine de la d&#xE9;finition actuelle. Nous d&#xE9;crivons maintenant un exemple d&apos;utilisation de la fonction de correction de donn&#xE9;es d&#xE9;fini pour la fonction <img src="../../images/mActionMoveLabel.png"> d&#xE9;placement d&apos;&#xE9;tiquette.</p>
<ol>
<li><p>Importez la couche <code>lakes.shp</code> depuis le jeu de donn&#xE9;es test de KADAS.</p>
</li>
<li><p>Double-cliquez la couche pour ouvrir la fen&#xEA;tre des Propri&#xE9;t&#xE9;s. S&#xE9;lectionnez <em>Etiquettes</em> puis <em>Emplacement</em> et enfin <img src="../../images/radiobuttonon.png" alt="radiobuttonon"> <em>D&#xE9;calage par rapport au centro&#xEF;de</em>.</p>
</li>
<li><p>Dans le cadre <em>D&#xE9;fini par les donn&#xE9;es</em>, cliquez sur l&apos;ic&#xF4;ne <img src="../../images/mIconDataDefine.png"> pour d&#xE9;finir le champ correspondant &#xE0; la <em>coordonn&#xE9;e</em>. Choisissez <em>xlabel</em> pour X et <em>ylabel</em> pour Y. Les ic&#xF4;nes rev&#xEA;tent maintenant une surbrillance jaune.</p>
</li>
<li><p>Zoomez sur un lac.</p>
</li>
<li><p>S&#xE9;lectionnez l&apos;outil <img src="../../images/mActionMoveLabel.png"> de la barre d&apos;outils &#xC9;tiquettes. Vous pouvez maintenant d&#xE9;placer l&apos;&#xE9;tiquette manuellement vers une autre position. La nouvelle position est sauvegard&#xE9;e dans les colonnes <em>xlabel</em> et <em>ylabel</em> de votre table attributaire.</p>
</li>
</ol>
<p><img src="../../images/label_data_defined.png" alt=""></p>
<p><img src="../../images/move_label.png" alt=""></p>
<h2 id="onglet-champs-">Onglet Champs <a name="#fields-menu"></a></h2>
<p><img src="../../images/attributes.png"> Le menu <em>Champs</em> permet de manipuler les champs attributaires du jeu de donn&#xE9;es s&#xE9;lectionn&#xE9;. Les boutons <img src="../../images/mActionNewAttribute.png">: sup:Nouvelle colonne et <img src="../../images/mActionDeleteAttribute.png">: sup:Effacer une colonne peuvent &#xEA;tre utilis&#xE9;s lorsque la couche est en <img src="../../images/mActionToggleEditing.png"> <em>Mode &#xE9;dition</em>.</p>
<p><strong>Outils d&apos;&#xE9;dition</strong></p>
<p><img src="../../images/editwidgetsdialog.png" alt=""></p>
<p>Dans le menu <em>Champs</em> se trouve &#xE9;galement une colonne <strong>Outil d&apos;&#xE9;dition</strong>. Cette colonne peut &#xEA;tre utilis&#xE9;e pour d&#xE9;finir des valeurs ou des plages de valeurs &#xE0; utiliser pour ce champ pr&#xE9;cis de la table attributaire. Si vous cliquez sur <strong>[Outil d&apos;&#xE9;dition]</strong>, il s&apos;ouvre une fen&#xEA;tre de dialogue dans laquelle vous pouvez d&#xE9;finir diff&#xE9;rentes modalit&#xE9;s. Celles-ci sont:</p>
<ul>
<li><p><strong>Bo&#xEE;te &#xE0; cocher</strong>: Affiche une case &#xE0; cocher et vous pouvez d&#xE9;finir quelle valeur stocker quand la case est coch&#xE9;e ou pas.</p>
</li>
<li><p><strong>Classification</strong>: Affiche une liste d&#xE9;roulante avec les valeurs utilis&#xE9;es pour la classification, si vous avez choisi le style <em>Cat&#xE9;goris&#xE9;</em> dans l&apos;onglet <em>Style</em> de la fen&#xEA;tre de propri&#xE9;t&#xE9;s.</p>
</li>
<li><p><strong>Couleur</strong>: Affiche un bouton de couleur permettant de choisir une couleur via la fen&#xEA;tre S&#xE9;lectionner une couleur.</p>
</li>
<li><p><strong>Date/Heure</strong>: Affiche un champ de type date/heure qui peut ouvrir un calendrier permettant de choisir une date, une heure ou les deux. Le champ doit &#xEA;tre de type texte. Vous pouvez choisir un format personnalis&#xE9;, l&apos;affichage d&apos;un calendrier, etc.</p>
</li>
<li><p><strong>&#xC9;num&#xE9;ration</strong>: Ouvre une liste d&#xE9;roulante avec les valeurs qui peuvent &#xEA;tre utilis&#xE9;es selon la d&#xE9;finition du type de champ. Ce mode d&apos;&#xE9;dition n&apos;est actuellement disponible que pour les couches PostgreSQL.</p>
</li>
<li><p><strong>Nom de fichier</strong>: Simplifie la s&#xE9;lection d&apos;un fichier par l&apos;ouverture d&apos;un explorateur de fichiers.</p>
</li>
<li><p><strong>Cach&#xE9;e</strong>: Un attribut cach&#xE9; sera invisible. L&apos;utilisateur ne pourra pas visualiser son contenu.</p>
</li>
<li><p><strong>Photo</strong>: Champ contenant le nom d&apos;un fichier de photo. La largeur et la hauteur peuvent &#xEA;tre pr&#xE9;cis&#xE9;es.</p>
</li>
<li><p><strong>Plage</strong>: Vous permet de sp&#xE9;cifier une plage de valeurs num&#xE9;riques disponibles. Il peut s&apos;agir d&apos;une barre coulissante ou d&apos;une zone de texte &#xE9;ditable.</p>
</li>
<li><p><strong>R&#xE9;f&#xE9;rence de la relation</strong>: Ce widget vous permet d&apos;incorporer le formulaire d&apos;entit&#xE9;s de la couche r&#xE9;f&#xE9;renc&#xE9;e dans le formulaire de la couche courante. <em>vector_relations</em>.</p>
</li>
<li><p><strong>&#xC9;dition de texte</strong> (par d&#xE9;fait): Ceci permet l&apos;&#xE9;dition d&apos;un texte simple ou multi-ligne. Si vous choisissez Multi-ligne, vous pouvez sp&#xE9;cifier s&apos;il s&apos;agit d&apos;un contenu en HTML.</p>
</li>
<li><p><strong>Valeurs uniques</strong>: Vous pouvez s&#xE9;lectionner l&apos;une des valeurs d&#xE9;j&#xE0; utilis&#xE9;es dans cette colonne. Une ligne est affich&#xE9;e avec le support de l&apos;auto-compl&#xE9;tion si la case <em>&#xC9;ditable</em> est coch&#xE9;e, une bo&#xEE;te de saisie est utilis&#xE9;e sinon.</p>
</li>
<li><p><strong>G&#xE9;n&#xE9;rateur d&apos;UUID</strong>: Champ en lecture seule qui g&#xE9;n&#xE8;re un UUID (Identifiant Unique Universel) lorsqu&apos;il est vide.</p>
</li>
<li><p><strong>Liste de valeurs</strong>: Une liste d&#xE9;roulante avec des valeurs pr&#xE9;d&#xE9;finies. La valeur est stock&#xE9;e dans l&apos;attribut, la description est affich&#xE9;e dans la liste. Vous pouvez d&#xE9;finir des valeurs manuellement ou les charger depuis la couche ou depuis un fichier CSV.</p>
</li>
<li><p><strong>Valeur relationnelle</strong>: Propose les valeurs stock&#xE9;es dans un champ d&apos;une autre table. Vous choisissez la table, le champ cl&#xE9; et le champ de valeur.</p>
</li>
<li><p><strong>Vue web</strong>: Champ contenant une URL. La largeur et la hauteur sont variables.</p>
</li>
</ul>
<p>KADAS a une option avanc&#xE9;e &apos;cach&#xE9;e&apos; pour d&#xE9;finir votre propre widget de champ en utilisant python et l&apos;ajouter &#xE0; cette liste impressionnante de widgets. C&apos;est d&#xE9;licat mais c&apos;est tr&#xE8;s bien expliqu&#xE9; dans l&apos;excellent blog suivant qui explique comment cr&#xE9;er un widget de validation en temps r&#xE9;el qui peut &#xEA;tre utilis&#xE9; comme des widgets d&#xE9;crits. Voir <a href="http://blog.vitu.ch/10142013-1847/write-your-own-qgis-form-elements" target="_blank">http://blog.vitu.ch/10142013-1847/write-your-own-qgis-form-elements</a>.</p>
<p>Avec <strong>l&apos;&#xC9;diteur de mise en page des attributs</strong> vous pouvez maintenant d&#xE9;finir des formulaires int&#xE9;gr&#xE9;s. C&apos;est utile pour les travaux de saisie de donn&#xE9;es ou pour identifier des objets en utilisant l&apos;option d&apos;ouverture automatique du formulaire lorsqu&apos;il y a des objets ayant beaucoup d&apos;attributs. Vous pouvez cr&#xE9;er un &#xE9;diteur ayant plusieurs onglets et groupes nomm&#xE9;s pour pr&#xE9;senter les champs d&apos;attributs.</p>
<p>Choisissez <em>Designer par glisser-d&#xE9;poser</em> et une colonne d&apos;attributs. Utilisez l&apos;ic&#xF4;ne <img src="../../images/mActionSignPlus.png"> pour cr&#xE9;er une cat&#xE9;gorie pour ins&#xE9;rer un onglet ou un groupe nomm&#xE9;. Lors de la cr&#xE9;ation d&apos;une nouvelle cat&#xE9;gorie, KADAS ins&#xE9;rera un nouvel onglet ou groupe nomm&#xE9; pour la cat&#xE9;gorie dans le formulaire int&#xE9;gr&#xE9;. L&apos;&#xE9;tape suivante sera d&apos;assigner les champs pertinents &#xE0; une cat&#xE9;gorie s&#xE9;lectionn&#xE9;e avec l&apos;ic&#xF4;ne <img src="../../images/mActionArrowRight.png">. Vous pouvez cr&#xE9;er plusieurs cat&#xE9;gories et utiliser &#xE0; nouveau les m&#xEA;mes zones.</p>
<p>Les autres options de la bo&#xEE;te de dialogue sont <em>Autog&#xE9;n&#xE9;rer</em> et <em>Fournir un fichier UI</em>.</p>
<ul>
<li><em>Autog&#xE9;n&#xE9;rer</em> cr&#xE9;e simplement des &#xE9;diteurs pour tous les champs et les met en tableaux.</li>
<li>L&apos;option <em>Fournir un fichier UI</em> vous permet d&apos;utiliser des dialogues complexes r&#xE9;alis&#xE9;s avec le Qt-Designer. L&apos;utilisation d&apos;un fichier UI permet une grande libert&#xE9; dans la cr&#xE9;ation d&apos;un dialogue. Pour des informations d&#xE9;taill&#xE9;es, voir <a href="http://nathanw.net/2011/09/05/qgis-tips-custom-feature-forms-with-python-logic/index.html" target="_blank">http://nathanw.net/2011/09/05/qgis-tips-custom-feature-forms-with-python-logic/</a>.</li>
</ul>
<p>Les fen&#xEA;tres de KADAS peuvent &#xEA;tre associ&#xE9;es &#xE0; une fonction Python qui peut &#xEA;tre appel&#xE9;e &#xE0; l&apos;ouverture de la fen&#xEA;tre. Utilisez cette fonction pour ajouter des &#xE9;l&#xE9;ments suppl&#xE9;mentaires &#xE0; vos fen&#xEA;tres. Un exemple est (dans le module MyForms.py):</p>
<pre><code>def open(dialog,layer,feature):
geom = feature.geometry()
control = dialog.findChild(QWidged,&quot;My line edit&quot;)
</code></pre><p>R&#xE9;f&#xE9;rence &#xE0; la Fonction Python Init comme ceci: <code>MyForms.open</code></p>
<p>Le fichier MyForms.py doit &#xEA;tre pr&#xE9;sent dans le PYTHONPATH, dans le dossier .qgis2/python ou dans le dossier du projet.</p>
<p><img src="../../images/attribute_editor_layout.png" alt=""></p>
<p><img src="../../images/resulting_feature_form.png" alt=""></p>
<h2 id="onglet-g&#xE9;n&#xE9;ral-">Onglet G&#xE9;n&#xE9;ral <a name="#general-menu"></a></h2>
<p><img src="../../images/general.png"> Utilisez cet onglet pour d&#xE9;finir les param&#xE8;tres g&#xE9;n&#xE9;raux de la couche vecteur. Plusieurs options sont disponibles:</p>
<p>Informations sur la couche</p>
<ul>
<li><p>Changez le nom affich&#xE9; de la couche dans <em>Nom de la couche</em></p>
</li>
<li><p>D&#xE9;finissez le fichier <em>Source de la couche</em> vectorielle</p>
</li>
<li><p>D&#xE9;finissez l&#x2019;<em>Encodage de la source des donn&#xE9;es</em> pour sp&#xE9;cifier le type d&apos;encodage utilis&#xE9; dans les donn&#xE9;es source et pour pouvoir les lire correctement</p>
</li>
</ul>
<p>Syst&#xE8;me de Coordonn&#xE9;es de R&#xE9;f&#xE9;rence</p>
<ul>
<li><p><em>S&#xE9;lectionner le SCR</em>, syst&#xE8;me de coordonn&#xE9;es de r&#xE9;f&#xE9;rence. Ici vous pouvez visualiser ou modifier le SCR de la couche.</p>
</li>
<li><p><em>Cr&#xE9;er un index spatial</em> (uniquement pour les formats g&#xE9;r&#xE9;s par OGR),</p>
</li>
<li><p><em>Mettre &#xE0; jour l&apos;emprise</em> dans les informations de la couche,</p>
</li>
<li><p>Voir ou modifier la projection de la couche vecteur en cliquant sur <em>S&#xE9;lectionner le SCR</em></p>
</li>
</ul>
<p><img src="../../images/checkbox.png"> <em>Visibilit&#xE9; d&#xE9;pendante de l&apos;&#xE9;chelle</em></p>
<ul>
<li>Vous pouvez d&#xE9;finir les &#xE9;chelles <em>Maximum (inclusif)</em> et <em>Minimum (exclusif)</em> de visualisation de la couche. Les &#xE9;chelles peuvent &#xEA;tre d&#xE9;finies via les boutons <strong>[Un outil pour d&#xE9;finir l&apos;&#xE9;chelle de visibilit&#xE9;]</strong>.</li>
</ul>
<p>Sous-ensemble de la couche</p>
<ul>
<li>Le bouton <strong>[Constructeur de requ&#xEA;te]</strong> permet de d&#xE9;finir un sous-ensemble de la couche qui sera visualis&#xE9; en lieu et place de la couche compl&#xE8;te (r&#xE9;f&#xE9;rez-vous &#xE9;galement &#xE0; la section <em>vector_query_builder</em>).</li>
</ul>
<p><img src="../../images/vector_general_menu.png" alt=""></p>
<h2 id="onglet-rendu-">Onglet Rendu <a name="#rendering-menu"></a></h2>
<p>KADAS supports for on-the-fly feature generalisation. This can improve rendering times when drawing many complex features at small scales. This feature can be enabled or disabled in the layer settings using the <img src="../../images/checkbox.png"> <em>Simplify geometry</em> option. There is also a new global setting that enables generalisation by default for newly added layers (see section <a href="../introduction/qgis_configuration.html#gui-options"><em>Options</em></a>). <strong>Note</strong>: Feature generalisation may introduce artefacts into your rendered output in some cases. These may include slivers between polygons and inaccurate rendering when using offset-based symbol layers.</p>
<h2 id="onglet-infobulles-">Onglet Infobulles <a name="#display-menu"></a></h2>
<p><img src="../../images/mActionMapTips.png"> Cet onglet est sp&#xE9;cialement cr&#xE9;&#xE9; pour les infobulles. Il inclut une nouvelle fonctionnalit&#xE9;: les infobulles qui affichent du texte en HTML. Alors que vous pouvez toujours choisir un <img src="../../images/radiobuttonoff.png" alt="radiobuttonoff"> <em>Champ</em> &#xE0; afficher lors du survol d&apos;une entit&#xE9; sur la carte, il est maintenant possible d&apos;ins&#xE9;rer du code HTML qui cr&#xE9;e un affichage complexe. Pour activer les infobulles, s&#xE9;lectionnez l&apos;option de menu <em>Vue&#x2023; Infobulles</em>. La figure 1 montre un exemple de code HTML.</p>
<p><img src="../../images/display_html.png" alt=""></p>
<p><img src="../../images/map_tip.png" alt=""></p>
<h2 id="onglet-actions-">Onglet Actions <a name="#actions-menu"></a></h2>
<p><img src="../../images/action.png"> KADAS est capable d&apos;effectuer des actions bas&#xE9;es sur les attributs d&apos;une entit&#xE9;. Il peut s&apos;agir de nombreuses actions, par exemple ex&#xE9;cuter un programme avec des arguments construits &#xE0; partir des attributs d&apos;une entit&#xE9;, ou encore, passer des param&#xE8;tres &#xE0; un outil de publication de rapports sur internet.</p>
<p><img src="../../images/action_dialog.png" alt=""></p>
<p>Les actions sont utiles si vous voulez ex&#xE9;cuter fr&#xE9;quemment une application externe ou charger une page web bas&#xE9;e sur une ou plusieurs valeurs de votre couche vecteur. Il en existe six types qui peuvent &#xEA;tre utilis&#xE9;s de la sorte:</p>
<ul>
<li><p>Les actions de type G&#xE9;n&#xE9;rique, Mac, Windows et Unix lancent un processus externe.</p>
</li>
<li><p>Les actions Python lancent un code Python.</p>
</li>
<li><p>Les actions de type G&#xE9;n&#xE9;rique et Python sont disponibles quel que soit le syst&#xE8;me d&apos;exploitation.</p>
</li>
<li><p>Les actions Mac, Windows et Unix sont disponibles uniquement depuis les syst&#xE8;mes d&apos;exploitation correspondants (c&apos;est &#xE0; dire que vous pouvez d&#xE9;finir trois actions <em>&#xC9;diter</em> qui ouvrent un &#xE9;diteur et les utilisateurs ne verront que l&apos;action correspondant &#xE0; leur syst&#xE8;me d&apos;exploitation).</p>
</li>
</ul>
<p>Quelques exemples d&apos;actions sont fournis. Vous pouvez les charger en cliquant sur <strong>[Ajouter les actions par d&#xE9;faut]</strong>. Un des exemples effectue une recherche bas&#xE9;e sur la valeur d&apos;un attribut. C&apos;est ce qui est d&#xE9;velopp&#xE9; par la suite.</p>
<p><strong>D&#xE9;finir des actions</strong></p>
<p>Les actions sur les attributs sont d&#xE9;finies depuis la fen&#xEA;tre <em>Propri&#xE9;t&#xE9;s de la couche</em> vecteur. Pour d&#xE9;finir une action, ouvrez la fen&#xEA;tre <em>Propri&#xE9;t&#xE9;s de la couche</em> vecteur et cliquez sur le menu <em>Actions</em>. Allez &#xE0; <em>Propri&#xE9;t&#xE9;s de l&apos;action</em>. S&#xE9;lectionnez le type <em>G&#xE9;n&#xE9;rique</em> et fournissez un nom d&apos;identification &#xE0; l&apos;action. Le texte de l&apos;action doit lui-m&#xEA;me contenir le nom de l&apos;application qui sera ex&#xE9;cut&#xE9;e lorsque l&apos;action est invoqu&#xE9;e. Vous pouvez ajouter un ou plusieurs champs en arguments pour l&apos;application. Lorsque l&apos;action est invoqu&#xE9;e, tout jeu de caract&#xE8;res commen&#xE7;ant par <code>%</code> suivi d&apos;un champ sera remplac&#xE9; par la valeur de ce champ. Les caract&#xE8;res sp&#xE9;ciaux %% sont remplac&#xE9;s par la valeur du champ s&#xE9;lectionn&#xE9; dans la fen&#xEA;tre <em>Identifier les r&#xE9;sultats</em> ou dans la <em>Table attributaire</em>. Les guillemets double peuvent &#xEA;tre utilis&#xE9;s pour regrouper le texte dans un argument unique pour l&apos;application, le script ou le programme. Ils sont ignor&#xE9;s lorsque pr&#xE9;c&#xE9;d&#xE9;s d&apos;un antislash.</p>
<p>Si vous avez des noms de champs qui sont des cha&#xEE;nes de caract&#xE8;res d&apos;autres noms de champs (par exemple, <code>col1</code> et <code>col10</code>), vous devez l&apos;indiquer en entourant le nom du champ (et le caract&#xE8;re %) par des crochets (par exemple, <code>[%col10]</code>). Ceci &#xE9;vitera que le nom du champ <code>%col10</code> ne soit confondu avec le nom du champ <code>%col1</code> avec un <code>0</code> &#xE0; la fin. Les parenth&#xE8;ses seront supprim&#xE9;es par KADAS lorsqu&apos;il se substitue &#xE0; la valeur du champ. Si vous voulez que le champ substitu&#xE9; soit entour&#xE9; de crochets, utilisez un deuxi&#xE8;me jeu comme celui-ci: <code>[[%col10]]]</code>.</p>
<p>En utilisant l&apos;outil <em>Identifier les entit&#xE9;s</em>, vous ouvrez la fen&#xEA;tre <em>Identifier les r&#xE9;sultats</em>. Elle inclut une entr&#xE9;e <em>(D&#xE9;riv&#xE9;)</em> qui contient des informations pertinentes selon le type de couche. Les valeurs de cette entr&#xE9;e sont accessibles de la m&#xEA;me mani&#xE8;re que les autres champs en ajoutant <code>(Derived).</code> avant le nom du champ. Par exemple, une couche de points a un champ <code>X</code> et <code>Y</code> et leurs valeurs peuvent &#xEA;tre utilis&#xE9;es dans l&apos;action avec <code>%(Derived).X</code> et <code>%(Derived).Y</code>. Les attributs d&#xE9;riv&#xE9;s sont disponibles uniquement depuis la fen&#xEA;tre <em>Identifier les r&#xE9;sultats</em> mais pas par la <em>Table d&apos;attributs</em>.</p>
<p>Deux exemples d&apos;action sont propos&#xE9;s ci-dessous:</p>
<ul>
<li><code>konqueror http://www.google.com/search?q=%nam</code></li>
<li><code>konqueror http://www.google.com/search?q=%%</code></li>
</ul>
<p>Dans le premier exemple, le navigateur internet konqueror est lanc&#xE9; avec une URL. L&apos;URL effectue une recherche Google sur la valeur du champ <code>nam</code> de la couche vecteur. Notez que l&apos;application ou le script appel&#xE9; par l&apos;action doit &#xEA;tre dans le path sinon vous devez fournir le chemin complet vers l&apos;application. Pour &#xEA;tre certain, nous pouvons r&#xE9;&#xE9;crire le premier exemple de cette mani&#xE8;re: <code>/opt/kde3/bin/konqueror http://www.google.com/search?q=%nam</code>. Ceci assurera que l&apos;application konqueror sera ex&#xE9;cut&#xE9;e quand l&apos;action sera invoqu&#xE9;e.</p>
<p>Le deuxi&#xE8;me exemple utilise la notation %%, qui ne d&#xE9;pend pas d&apos;un champ particulier pour sa valeur. Lorsque l&apos;action est invoqu&#xE9;e, le %% sera remplac&#xE9; par la valeur du champ s&#xE9;lectionn&#xE9; dans la table des r&#xE9;sultats d&apos;identification ou d&apos;attributs.</p>
<p><strong>Utiliser les actions</strong></p>
<p>Les actions se lancent depuis la fen&#xEA;tre <em>Identifier les r&#xE9;sultats</em>, depuis la <em>Table d&apos;attributs</em> ou depuis <em>Ex&#xE9;cuter l&apos;action de l&apos;entit&#xE9;</em> (rappelez-vous que ces fen&#xEA;tres s&apos;ouvrent en cliquant sur <img src="../../images/mActionIdentify.png"> <em>Identifier les entit&#xE9;s</em>, <img src="../../images/mActionOpenTable.png"> <em>Ouvrir la table d&apos;attributs</em> ou <img src="../../images/mAction.png"> <em>Ex&#xE9;cuter l&apos;action de l&apos;entit&#xE9;</em>). Pour lancer une action, faites un clic droit sur un enregistrement et choisissez l&apos;action depuis le menu qui appara&#xEE;t. Les actions sont list&#xE9;es dans le menu par le nom que vous leur avez donn&#xE9; en les d&#xE9;finissant. Cliquez ensuite sur l&apos;action que vous souhaitez lancer.</p>
<p>Si vous faites appel &#xE0; une action qui utilise la notation <code>%%</code>, faites un clic droit sur la valeur du champ que vous souhaitez passer &#xE0; l&apos;application ou au script, dans la fen&#xEA;tre <em>Identifier les r&#xE9;sultats</em> ou dans la <em>Table attributaire</em>.</p>
<p>Voici un autre exemple qui r&#xE9;cup&#xE8;re des donn&#xE9;es d&apos;une couche vecteur et qui les ins&#xE8;re dans un fichier utilisant bash et la commande <code>echo</code> (cela ne marchera que sur  et peut-&#xEA;tre <img src="../../images/osx.png">). La couche en question a des champs pour le nom d&apos;esp&#xE8;ce <code>taxon_name</code>, la latitude <code>lat</code> et la longitude <code>long</code>. Nous souhaiterions faire une s&#xE9;lection spatiale de localisations et exporter les valeurs des enregistrements s&#xE9;lectionn&#xE9;s dans un fichier texte (ils apparaissent en jaune sur la carte dans QGIS). Voici l&apos;action qui permettra de le faire:</p>
<pre><code>bash -c &quot;echo \&quot;%taxon_name %lat %long\&quot; &gt;&gt; /tmp/species_localities.txt&quot;
</code></pre><p>Apr&#xE8;s avoir s&#xE9;lectionn&#xE9; quelques localit&#xE9;s et lanc&#xE9; l&apos;action sur chacune d&apos;entre elles, le fichier de destination ressemblera &#xE0; ceci:</p>
<pre><code>Acacia mearnsii -34.0800000000 150.0800000000
Acacia mearnsii -34.9000000000 150.1200000000
Acacia mearnsii -35.2200000000 149.9300000000
Acacia mearnsii -32.2700000000 150.4100000000
</code></pre><p>Comme exercice, nous allons cr&#xE9;er une action qui r&#xE9;alise une recherche Google sur la couche <code>lakes</code>. Tout d&apos;abord, nous avons besoin de d&#xE9;terminer l&apos;URL n&#xE9;cessaire pour effectuer une recherche sur un mot cl&#xE9;. Il suffit simplement d&apos;aller sur Google et faire une recherche simple puis r&#xE9;cup&#xE9;rer l&apos;URL dans la barre d&apos;adresse de votre navigateur. De cela, nous en d&#xE9;duisons la formulation: <a href="http://google.com/search?q=qgis" target="_blank">http://google.com/search?q=qgis</a>, o&#xF9; <code>qgis</code> est le terme recherch&#xE9;. &#xC0; partir de tout cela, nous pouvons poursuivre:</p>
<ol>
<li><p>Assurez-vous que la couche <code>lakes</code> est charg&#xE9;e.</p>
</li>
<li><p>Ouvrez la fen&#xEA;tre <em>Propri&#xE9;t&#xE9;s de la couche</em> en double cliquant sur la couche dans la l&#xE9;gende ou en faisant un clic droit et en choisissant <em>Propri&#xE9;t&#xE9;s</em> dans le menu qui appara&#xEE;t.</p>
</li>
<li><p>Cliquez sur l&apos;onglet <em>Actions</em></p>
</li>
<li><p>Entrez un nom pour l&apos;action, par exemple <code>Recherche Google</code>.</p>
</li>
<li><p>Pour l&apos;action, nous devons fournir le nom du programme externe &#xE0; lancer. Dans ce cas, nous allons utiliser Firefox. Si le programme n&apos;est pas dans votre path, vous devez fournir le chemin complet.</p>
</li>
<li><p>A la suite du nom de l&apos;application externe, ajoutez l&apos;URL utilis&#xE9;e pour faire la recherche Google, jusqu&apos;au terme de recherche, mais sans l&apos;ajouter: <code>http://google.com/search?q=</code></p>
</li>
<li><p>Le texte dans le champ <em>Action</em> devrait ressembler &#xE0; ceci: <code>firefox http://google.com/search?q=</code></p>
</li>
<li><p>Cliquez sur le menu d&#xE9;roulant contenant les noms des champs pour la couche <code>lakes</code>. Il est situ&#xE9; juste &#xE0; gauche du bouton <strong>[Ins&#xE9;rer un champ]</strong>.</p>
</li>
<li><p>S&#xE9;lectionnez le champ <em>NAMES</em> du menu d&#xE9;roulant et cliquez sur <strong>[Ins&#xE9;rer un champ]</strong>.</p>
</li>
<li><p>Votre texte Action ressemble maintenant &#xE0;:</p>
<p><code>firefox http://google.com/search?q=%NAMES</code></p>
</li>
<li><p>Pour finaliser l&apos;action, cliquez sur le bouton <strong>[Ajouter l&apos;action &#xE0; la liste]</strong>.</p>
</li>
</ol>
<p>L&apos;action est donc enti&#xE8;rement d&#xE9;finie et pr&#xEA;te &#xE0; &#xEA;tre utilis&#xE9;e. Le texte final de l&apos;action devrait correspondre &#xE0; &#xE7;a:</p>
<pre><code>firefox http://google.com/search?q=%NAMES
</code></pre><p>Nous pouvons maintenant utiliser l&apos;action. Fermez la fen&#xEA;tre <em>Propri&#xE9;t&#xE9;s de la couche</em> et zoomez sur une zone d&apos;int&#xE9;r&#xEA;t. Assurez-vous que la couche <code>lakes</code> est active puis identifiez un lac. Dans la fen&#xEA;tre de r&#xE9;sultats, vous constatez que notre action est maintenant visible:</p>
<p><img src="../../images/action_identifyaction.png" alt=""></p>
<p>Quand vous cliquez sur l&apos;action, cela ouvre Firefox et charge l&apos;URL <a href="http://www.google.com/search?q=Tustumena" target="_blank">http://www.google.com/search?q=Tustumena</a>. Il est &#xE9;galement possible d&apos;ajouter d&apos;autres champs attributs &#xE0; l&apos;action. Pour faire cela, vous pouvez ajouter un <code>+</code> &#xE0; la fin du texte de l&apos;action, s&#xE9;lectionnez un autre champ et cliquez sur <strong>[Ins&#xE9;rer un champ]</strong>. Dans cet exemple, la recherche sur un autre champ n&apos;aurait pas de sens.</p>
<p>Vous pouvez d&#xE9;finir de multiples actions pour une couche et chacune apparaitra dans la fen&#xEA;tre <em>Identifier les r&#xE9;sultats</em>.</p>
<p>Vous pouvez imaginer toutes sortes d&apos;utilisations pour ces actions. Par exemple, si vous avez une couche de points contenant la localisation d&apos;images ou de photos ainsi qu&apos;un nom de fichier, vous pouvez cr&#xE9;er une action qui lancera un visualiseur pour afficher les images. Vous pouvez &#xE9;galement utiliser les actions pour lancer des rapports sur internet pour un champ attributaire ou une combinaison de champs, en les sp&#xE9;cifiant de la m&#xEA;me mani&#xE8;re que dans l&apos;exemple d&apos;une recherche Google.</p>
<p>Nous pouvons &#xE9;galement fournir des exemples plus complexes, notamment sur la mani&#xE8;re d&apos;utiliser des actions <strong>Python</strong>.</p>
<p>D&apos;ordinaire, lorsque l&apos;on cr&#xE9;e une action pour ouvrir un fichier avec une application externe, on peut utiliser un chemin absolu ou relatif. Dans ce dernier cas, le chemin d&#xE9;pend donc de l&apos;emplacement du fichier d&apos;ex&#xE9;cution du programme externe. Mais si nous souhaitons utiliser des chemins relatifs &#xE0; la couche s&#xE9;lectionn&#xE9;e (stock&#xE9;e sous forme de fichier comme un shapefile ou une base SpatiaLite) ? Le code suivant permet de le faire:</p>
<pre><code>command = &quot;firefox&quot;;
imagerelpath = &quot;images_test/test_image.jpg&quot;;
layer = qgis.utils.iface.activeLayer();
import os.path;
layerpath = layer.source() if layer.providerType() == &apos;ogr&apos;
  else (qgis.core.QgsDataSourceURI(layer.source()).database()
  if layer.providerType() == &apos;spatialite&apos; else None);
path = os.path.dirname(str(layerpath));
image = os.path.join(path,imagerelpath);
import subprocess;
subprocess.Popen( [command, image ] );
</code></pre><p>Il faut simplement se rappeler qu&apos;il s&apos;agit d&apos;une action <em>Python</em> et qu&apos;il faut modifier les variables <em>command</em> et <em>imagerelpath</em> selon vos besoins.</p>
<p>Et si le chemin relatif doit d&#xE9;pendre du fichier de projet (sauvegard&#xE9;) ? Le code de l&apos;action Python deviendra:</p>
<pre><code>command=&quot;firefox&quot;;
imagerelpath=&quot;images/test_image.jpg&quot;;
projectpath=qgis.core.QgsProject.instance().fileName();
import os.path; path=os.path.dirname(str(projectpath)) if projectpath != &apos;&apos; else None;
image=os.path.join(path, imagerelpath);
import subprocess;
subprocess.Popen( [command, image ] );
</code></pre><p>Un autre exemple d&apos;action Python consiste &#xE0; ajouter de nouvelles couche au projet. L&apos;exemple qui suit montre comment ajouter une couche vecteur et un raster. Les noms des fichiers &#xE0; ajouter au projet et les noms &#xE0; donner aux couches d&#xE9;pendent de donn&#xE9;es attributaires (<em>filename</em> et <em>layername</em> sont deux champs de la table attributaire de la couche sur laquelle l&apos;action est cr&#xE9;&#xE9;e):</p>
<pre><code>qgis.utils.iface.addVectorLayer(&apos;/yourpath/[% &quot;filename&quot; %].shp&apos;,&apos;[% &quot;layername&quot; %]&apos;,
  &apos;ogr&apos;)
</code></pre><p>Pour ajouter un raster (ici une image TIF), cela devient:</p>
<pre><code>qgis.utils.iface.addRasterLayer(&apos;/yourpath/[% &quot;filename&quot; %].tif&apos;,&apos;[% &quot;layername&quot; %]
&apos;)
</code></pre><h2 id="onglet-jointures-">Onglet Jointures <a name="#joins-menu"></a></h2>
<p><img src="../../images/join.png"> L&apos;onglet <em>Jointures</em> permet de joindre une table attributaire charg&#xE9;e &#xE0; une couche vecteur charg&#xE9;e. Apr&#xE8;s avoir cliqu&#xE9; sur le bouton <img src="../../images/mActionSignPlus.png">, la fen&#xEA;tre <em>Ajouter une jointure vectorielle</em> appara&#xEE;t. Vous devez d&#xE9;finir une couche de jointure &#xE0; connecter &#xE0; la couche cible. Ensuite, vous devez d&#xE9;finir un champ de jointure qui sera commun &#xE0; la table &#xE0; joindre et &#xE0; la table attributaire de la couche cible. Vous pouvez enfin sp&#xE9;cifier la liste des champs &#xE0; joindre en cochant la case <img src="../../images/checkbox.png"> <em>Choisir les champs &#xE0; joindre</em>. Il en r&#xE9;sulte que toutes les informations de la table &#xE0; joindre seront affich&#xE9;s en plus des champs de la table cible. Si vous avez sp&#xE9;cifi&#xE9; une liste de champs &#xE0; joindre, seuls ceux-ci appara&#xEE;tront dans la table attributaire de la couche cible.</p>
<p>Actuellement, KADAS g&#xE8;re les jointures de tables non spatiales aux formats pris en charge par OGR (par exemple CSV, DBF, Excel), au format texte d&#xE9;limit&#xE9; et issues de PostgreSQL.</p>
<p><img src="../../images/join_attributes.png" alt=""></p>
<p>De plus, la fen&#xEA;tre de jointure vous permet de:</p>
<ul>
<li><p><img src="../../images/checkbox.png"> <em>Mettre la couche jointe en cache dans la m&#xE9;moire virtuelle</em></p>
</li>
<li><p><img src="../../images/checkbox.png"> <em>Cr&#xE9;er un index des attributs joins</em></p>
</li>
<li><p><img src="../../images/checkbox.png"> <em>Choisir les champs &#xE0; joindre</em></p>
</li>
<li><p><img src="../../images/checkbox.png"> <em>Personnaliser le pr&#xE9;fixe du champ</em></p>
</li>
</ul>
<h2 id="onglet-diagrammes-">Onglet Diagrammes <a name="#diagrams-menu"></a></h2>
<p><img src="../../images/diagram.png"> L&apos;onglet <em>Diagrammes</em> permet d&apos;ajouter une couche de graphiques sur une couche vecteur.</p>
<p>Cet onglet permet de g&#xE9;n&#xE9;rer des diagrammes circulaires, textes et des histogrammes.</p>
<p>L&apos;onglet est subdivis&#xE9; en quatre sous-onglets: <em>Apparence</em>, <em>Taille</em>, <em>Postion</em> et <em>Options</em>.</p>
<p>Dans les cas de diagramme texte ou en camembert, les valeurs texte des diff&#xE9;rentes colonnes de donn&#xE9;es sont affich&#xE9;es les unes en-dessous des autres &#xE0; l&apos;int&#xE9;rieur d&apos;un cercle ou dans une bo&#xEE;te avec des diviseurs. Dans l&apos;onglet <em>Taille</em>, la taille du diagramme est bas&#xE9;e sur une taille fixe ou sur la mise &#xE0; l&apos;&#xE9;chelle lin&#xE9;aire selon un attribut de classification. Le placement des diagrammes, qui se fait dans l&apos;onglet <em>Position</em>, est en interaction avec l&apos;&#xE9;tiquetage, donc des conflits de position entre les diagrammes et les &#xE9;tiquettes sont d&#xE9;tect&#xE9;s et r&#xE9;solus. En outre, les positions de diagramme peuvent &#xEA;tre fix&#xE9;es manuellement.</p>
<p><img src="../../images/diagram_tab.png" alt=""></p>
<p>Nous allons vous montrer un exemple en superposant aux fronti&#xE8;res de l&apos;Alaska des donn&#xE9;es concernant la temp&#xE9;rature issues d&apos;une couche vecteur portant sur le climat. Toutes ces couches sont disponibles dans l&apos;&#xE9;chantillon de donn&#xE9;es QGIS (voir section <a href="../introduction/getting_started.html#label-sampledata"><em>&#xC9;chantillon de donn&#xE9;es</em></a>).</p>
<ol>
<li><p>Tout d&apos;abord, cliquez sur le bouton <img src="../../images/mActionAddOgrLayer.png"> <em>Ajouter une couche vecteur</em>, naviguez jusqu&apos;au jeu de donn&#xE9;es exemples de KADAS et ajoutez les deux couches <code>alaska.shp</code> et <code>climate.shp</code>.</p>
</li>
<li><p>Double-cliquez sur la couche <code>climate</code> dans la l&#xE9;gende pour ouvrir la fen&#xEA;tre de <em>Propri&#xE9;t&#xE9;s de la Couche</em>.</p>
</li>
<li><p>Cliquez sur l&apos;onglet <em>Diagrammes</em>, activez la case <img src="../../images/checkbox.png"> <em>Afficher les diagrammes</em> et choisissez &#x2018;Diagramme texte<code>dans la liste d&#xE9;roulante</code>Type de diagramme`.</p>
</li>
<li><p>Dans l&apos;onglet <em>Apparence</em>, nous choisissons le bleu clair comme couleur de fond et d&#xE9;finissons une taille fixe de 18 mm dans l&apos;onglet <em>Taille</em>.</p>
</li>
<li><p>Dans l&apos;onglet <em>Position</em>, l&apos;emplacement d&#xE9;fini est Autour du point.</p>
</li>
<li><p>Sur le diagramme, nous souhaiterions afficher les valeurs de trois colonnes T_F_JAN`, <code>T_F_JUL</code> et <code>T_F_MEAN</code>. D&apos;abord, s&#xE9;lectionnez <code>T_F_JAN</code> de la colonne <em>Attributs</em> et cliquez sur le bouton <img src="../../images/mActionSignPlus.png"> puis <code>T_F_JUL</code> et enfin <code>T_F_MEAN</code>.</p>
</li>
<li><p>Cliquez maintenant sur <strong>[Appliquer]</strong> pour afficher les diagrammes sur la carte.</p>
</li>
<li><p>Vous pouvez adapter la taille du graphique dans l&apos;onglet <em>Taille</em>. D&#xE9;cochez <img src="../../images/checkbox.png"> <em>Taille Fixe</em> et d&#xE9;finissez la taille des diagrammes en fonction d&apos;un attribut avec le bouton <strong>[Trouver la valeur maximale]</strong> et la liste d&#xE9;roulante <em>Taille</em>. Si les diagrammes apparaissent trop petits &#xE0; l&apos;&#xE9;cran, vous pouvez cocher la case <img src="../../images/checkbox.png"> <em>Augmenter la taille des petits diagrammes</em> et d&#xE9;finir la Taille minimale des diagrammes.</p>
</li>
<li><p>Changez les couleurs des attributs en double-cliquant sur les rectangles color&#xE9;es dans le champ <em>Attributs utilis&#xE9;s</em>.</p>
</li>
<li><p>Cliquez enfin sur <strong>[OK]</strong>.</p>
</li>
</ol>
<p><img src="../../images/climate_diagram.png"></p>
<p>N&apos;oubliez pas que, dans l&apos;onglet <em>Position</em>, en cochant la case <img src="../../images/checkbox.png"> <em>Source de d&#xE9;finition de la position</em>, vous pouvez utiliser des valeurs d&apos;attributs pour choisir l&apos;emplacement des diagrammes. Par ailleurs, dans l&apos;onglet <em>Apparence</em>, vous pouvez d&#xE9;finir la visibilit&#xE9; en fonction de l&apos;&#xE9;chelle.</p>
<p>La taille et les attributs peuvent aussi &#xEA;tre une expression. Utilisez le bouton <img src="../../images/mIconExpressionEditorOpen.png"> pour ajouter une expression. Voir <a href="expression.html#vector-expressions"><em>Expressions</em></a> pour plus d&apos;informations et des exemples.</p>
<h2 id="onglet-m&#xE9;tadonn&#xE9;es-">Onglet M&#xE9;tadonn&#xE9;es <a name="#metadata-menu"></a></h2>
<p><img src="../../images/metadata.png"> Le menu <em>M&#xE9;tadonn&#xE9;es</em> comprend les sections <em>Description</em>, <em>Attribution</em>, <em>URL M&#xE9;tadonn&#xE9;es</em>, <em>LegendURL</em> et <em>Propri&#xE9;t&#xE9;s</em>.</p>
<p>Dans la section <em>Propri&#xE9;t&#xE9;s</em>, vous disposez des informations g&#xE9;n&#xE9;rales sur la couche, y compris celles sp&#xE9;cifiques &#xE0; son type, sa localisation, le nombre d&apos;entit&#xE9;s, le type d&apos;entit&#xE9;s et les possibilit&#xE9;s d&apos;&#xE9;dition. La table <em>Emprise</em> vous fournit les informations sur l&apos;emprise de la couche et le <em>Syst&#xE8;me de R&#xE9;f&#xE9;rence Spatiale de la Couche</em> qui est une information sur le SCR de la couche. Voici un moyen rapide d&apos;obtenir des informations sur la couche.</p>
<p>En compl&#xE9;ment, vous pouvez ajouter ou &#xE9;diter un titre ainsi qu&apos;un r&#xE9;sum&#xE9; pour la couche dans la section <em>Description</em>. Il est aussi possible de d&#xE9;finir ici une <em>Liste de mots-cl&#xE9;s</em>. Ces listes de mots-cl&#xE9;s peuvent &#xEA;tre utilis&#xE9;es dans un catalogue de m&#xE9;tadonn&#xE9;es. Si vous souhaitez utiliser un titre depuis un fichier XML de m&#xE9;tadonn&#xE9;es, vous devez renseigner un lien dans le champ <em>DataUrl</em>. Utilisez <em>Attribution</em> pour r&#xE9;cup&#xE9;rer les donn&#xE9;es d&apos;attributs depuis un catalogue de m&#xE9;tadonn&#xE9;es XML. Dans le champ <em>URL M&#xE9;tadonn&#xE9;es</em>, vous pouvez d&#xE9;finir le chemin g&#xE9;n&#xE9;ral d&apos;acc&#xE8;s au catalogue de m&#xE9;tadonn&#xE9;es XML. Cette information sera stock&#xE9;e dans le fichier de projet KADAS pour les sessions suivantes et sera utilis&#xE9;e par KADAS server.</p>
<p><img src="../../images/vector_metadata_tab.png" alt=""></p>

                                
                                </section>
                            
                        </div>
                    </div>
                
            </div>

            
                
                <a href="supported_data.html" class="navigation navigation-prev " aria-label="Previous page: Les données vectorielles">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="expression.html" class="navigation navigation-next " aria-label="Next page: Expressions">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Fenêtre Propriétés d’une couche vecteur","level":"1.10.4","depth":2,"next":{"title":"Expressions","level":"1.10.5","depth":2,"path":"working_with_vector/expression.md","ref":"working_with_vector/expression.md","articles":[]},"previous":{"title":"Les données vectorielles","level":"1.10.3","depth":2,"path":"working_with_vector/supported_data.md","ref":"working_with_vector/supported_data.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-search","-lunr","-sharing","-buttons","-fontsettings"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"fr","gitbook":"*"},"file":{"path":"working_with_vector/vector_properties.md","mtime":"2018-12-10T18:21:37.355Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-12-10T18:24:19.229Z"},"basePath":"..","book":{"language":"fr"}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    

    </body>
</html>

