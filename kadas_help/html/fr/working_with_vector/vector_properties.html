
<!DOCTYPE HTML>
<html lang="fr" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Fenêtre Propriétés d’une couche vecteur · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="expression.html" />
    
    
    <link rel="prev" href="supported_data.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Tapez pour rechercher" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../qgis_gui.html">
            
                <a href="../qgis_gui.html">
            
                    
                    Interface de programme et gestion de projet
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../search.html">
            
                <a href="../search.html">
            
                    
                    Recherche et punaises
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../analysis.html">
            
                <a href="../analysis.html">
            
                    
                    Mesures et analyse de terrain
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../draw.html">
            
                <a href="../draw.html">
            
                    
                    Dessiner
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../gps.html">
            
                <a href="../gps.html">
            
                    
                    GPS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../mss.html">
            
                <a href="../mss.html">
            
                    
                    Représentation de la situation / symboles MSS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../print.html">
            
                <a href="../print.html">
            
                    
                    Fonctions Imprimer et Exporter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../3d.html">
            
                <a href="../3d.html">
            
                    
                    Plusieurs fenêtres de carte et vue 3D
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" >
            
                <span>
            
                    
                    Référence pour les fonctionnalités avancées
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../working_with_projections/working_with_projections.html">
            
                <a href="../working_with_projections/working_with_projections.html">
            
                    
                    Utiliser les projections
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../print_composer/print_composer.html">
            
                <a href="../print_composer/print_composer.html">
            
                    
                    Composeur d’Impression
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="supported_data.html">
            
                <a href="supported_data.html">
            
                    
                    Les données vectorielles
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.10.4" data-path="vector_properties.html">
            
                <a href="vector_properties.html">
            
                    
                    Fenêtre Propriétés d’une couche vecteur
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="expression.html">
            
                <a href="expression.html">
            
                    
                    Expressions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6" data-path="field_calculator.html">
            
                <a href="field_calculator.html">
            
                    
                    Calculatrice de champ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.7" data-path="../working_with_raster/supported_data.html">
            
                <a href="../working_with_raster/supported_data.html">
            
                    
                    Les données raster
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.8" data-path="../working_with_raster/raster_properties.html">
            
                <a href="../working_with_raster/raster_properties.html">
            
                    
                    Fenêtre Propriétés de la couche raster
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../appendices/appendices.html">
            
                <a href="../appendices/appendices.html">
            
                    
                    Annexe
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Publié avec GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Fenêtre Propriétés d’une couche vecteur</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="the-vector-properties-dialog">Fen&#xEA;tre Propri&#xE9;t&#xE9;s d&#x2019;une couche vecteur </h1>
<p>La fen&#xEA;tre <em>Propri&#xE9;t&#xE9;s de la couche</em> pour une couche vectorielle fournit des informations sur la couche, les param&#xE8;tres de repr&#xE9;sentation et les options d&#x2019;&#xE9;tiquetage. Si votre couche a &#xE9;t&#xE9; charg&#xE9;e depuis une base PostgreSQL/PostGIS, vous pouvez &#xE9;galement modifier la requ&#xEA;te SQL d&#x2019;appel de la couche, en l&#x2019;&#xE9;ditant dans la fen&#xEA;tre <em>Constructeur de requ&#xEA;te</em> de l&#x2019;onglet <em>G&#xE9;n&#xE9;ral</em>. Pour acc&#xE9;der &#xE0; la fen&#xEA;tre <em>Propri&#xE9;t&#xE9;s de la couche</em>, double-cliquez sur la couche dans la l&#xE9;gende ou faites un clic droit sur la couche et s&#xE9;lectionnez <em>Propri&#xE9;t&#xE9;s</em> dans le menu qui apparait.</p>
<p><strong>Figure Vector Properties 1:</strong></p>
<p><img src="../../images/vector_general_menu.png" alt="">
Fen&#xEA;tre de Propri&#xE9;t&#xE9;s d&#x2019;une couche vecteur </p>
<h2 id="style-menu">Onglet Style </h2>
<p>The Style menu provides you with a comprehensive tool for rendering and symbolizing your vector data. You can use <em>Layer rendering &#x2023;</em> tools that are common to all vector data, as well as special symbolizing tools that were designed for the different kinds of vector data.</p>
<h3 id="renderers">Modes de rendu </h3>
<p>Le moteur de rendu est charg&#xE9; de dessiner une entit&#xE9; avec son symbole correct. Il existe quatre types de moteurs de rendu : symbole unique, cat&#xE9;goris&#xE9;, gradu&#xE9; et bas&#xE9; sur des r&#xE8;gles. Il n&#x2019;y a pas de rendu de couleur continue, car il s&#x2019;agit en fait d&#x2019;un cas particulier du rendu gradu&#xE9;. Les moteurs de rendu class&#xE9;s et gradu&#xE9;s peuvent &#xEA;tre cr&#xE9;&#xE9;s en sp&#xE9;cifiant un symbole et une rampe de couleur - ils d&#xE9;finissent les couleurs pour les symboles de mani&#xE8;re appropri&#xE9;e. Pour les couches de points, il y a un moteur de rendu par d&#xE9;placement de point disponible. Pour chaque type de donn&#xE9;es (points, lignes et polygones), des types de couches de symboles vectoriels sont disponibles. Selon le moteur de rendu choisi, l&#x2019;onglet <em>Style</em> fournit diff&#xE9;rentes sections suppl&#xE9;mentaires. Dans la fen&#xEA;tre de symbologie, il y a un bouton <strong>[Ouvrir la biblioth&#xE8;que]</strong> qui donne acc&#xE8;s au Gestionnaire de Symboles (voir <em>vector_style_manager</em>). Le Gestionnaire de Symboles vous permet de modifier et de supprimer des symboles existants et d&#x2019;en ajouter de nouveaux.</p>
<p>Apr&#xE8;s toutes modifications, le symbole peut-&#xEA;tre ajout&#xE9; &#xE0; la liste courante des symboles disponibles (via le bouton <strong>[Enregistrer]</strong>), et pourra donc &#xEA;tre facilement r&#xE9;utilis&#xE9;. De plus, vous pouvez utiliser le bouton <strong>[Style &#x2013;&gt; Enregistrer le style]</strong> pour sauvegarder le style en .qml (fichier de style de couche QGIS) ou au format SLD (.sld). Les SLD peuvent &#xEA;tre export&#xE9;s depuis n&#x2019;importe quel style de rendu &#x2013; symbole simple, cat&#xE9;gories, gradu&#xE9;s, bas&#xE9;s sur des r&#xE8;gles &#x2013; mais lors de l&#x2019;import d&#x2019;un SLD, un rendu du type symbole simple ou bas&#xE9; sur des r&#xE8;gles est cr&#xE9;&#xE9;. Cela signifie que les cat&#xE9;gories ou symboles gradu&#xE9;s sont convertis en ensemble de r&#xE8;gles. Si vous voulez pr&#xE9;server ce type de rendu, vous devez utiliser le format QML. D&#x2019;un autre cot&#xE9;, cela peut &#xEA;tre parfois tr&#xE8;s pratique d&#x2019;avoir la possibilit&#xE9; de simplement convertir des styles en ensemble de r&#xE8;gles.</p>
<p>Si, en travaillant sur le style d&#x2019;une couche vectorielle, vous changez de mode de rendu, les changements effectu&#xE9;s sur le symbole sont m&#xE9;moris&#xE9;s. Notez que cela ne fonctionne qu&#x2019;une seule fois. Si vous changez &#xE0; nouveau de mode de rendu, les param&#xE8;tres seront perdus.</p>
<p>Si la source d&#x2019;une couche est une base de donn&#xE9;es (PostGIS ou Spatialite par exemple), vous pouvez sauvegarder le style de la couche dans une table de la base de donn&#xE9;es. Cliquez simplement sur la liste d&#xE9;roulante <em>Enregistrer le style</em> et choisissez <strong>Enregistrer dans la base de donn&#xE9;es</strong>. Renseignez ensuite dans la fen&#xEA;tre le nom du style, sa description, un fichier ui et s&#x2019;il s&#x2019;agit du style par d&#xE9;faut. En ouvrant une couche issue d&#x2019;une base de donn&#xE9;es, si un style a &#xE9;t&#xE9; d&#xE9;fini pour cette couche, KADAS le chargera automatiquement. Vous pouvez ajouter plusieurs styles dans la base de donn&#xE9;es. Un seul pourra &#xEA;tre le style par d&#xE9;faut.</p>
<p><strong>Figure Vector Properties 2:</strong></p>
<p><img src="../../images/save_style_database.png" alt="">
Fen&#xEA;tre d&#x2019;enregistrement d&#x2019;un style dans une base de donn&#xE9;es </p>
<p>Astuce</p>
<p><strong>S&#xE9;lectionner et modifier plusieurs symboles</strong></p>
<p>Il est possible de s&#xE9;lectionner plusieurs symboles, de faire un clic-droit dessus et de changer en une seule op&#xE9;ration leur couleur, leur transparence, leur taille ou leur &#xE9;paisseur.</p>
<p><strong>Symboles uniques</strong></p>
<p>Le mode de rendu en symbole unique est utilis&#xE9; pour repr&#xE9;senter toutes les entit&#xE9;s de la couche de la m&#xEA;me fa&#xE7;on, d&#xE9;finie par l&#x2019;utilisateur. Les propri&#xE9;t&#xE9;s, qui peuvent &#xEA;tre ajust&#xE9;es dans l&#x2019;onglet <em>Style</em>, d&#xE9;pendent du type de g&#xE9;om&#xE9;trie de la couche, mais partagent une structure similaire. En haut &#xE0; gauche figure un aper&#xE7;u du symbole tel qu&#x2019;il appara&#xEE;tra. A droite est affich&#xE9;e la liste des symboles d&#xE9;j&#xE0; existants pour le style courant, pr&#xEA;ts &#xE0; &#xEA;tre s&#xE9;lectionn&#xE9;s d&#x2019;un simple clic. Le symbole courant peut &#xEA;tre modifi&#xE9; en utilisant les outils &#xE0; droite de l&#x2019;aper&#xE7;u.</p>
<p>Si vous cliquez sur le premier niveau de la liste des <em>Couches de symbole</em>, sur la gauche, il est possible de choisir un certain nombre de param&#xE8;tres basiques comme la <em>Taille</em>, la <em>Transparence</em>, la <em>Couleur</em> ou l&#x2019;angle de <em>Rotation</em>. Ces param&#xE8;tres s&#x2019;appliquent &#xE0; toutes les couches de symboles.</p>
<p><strong>Figure Symbology 3:</strong></p>
<p><img src="../../images/singlesymbol_ng_line.png" alt="">
Propri&#xE9;t&#xE9;s &#x201C;Symbole Unique&#x201D; de ligne </p>
<p>Dans chaque zone de s&#xE9;lection num&#xE9;rique de cette bo&#xEE;te de dialogue vous pouvez taper des expressions. Par exemple, vous pouvez faire des calculs math&#xE9;matiques simples comme multiplier la taille actuelle d&#x2019;un point pas 3 sans avoir recours &#xE0; une calculette.</p>
<p><strong>Figure Symbology 4:</strong></p>
<p><img src="../../images/expression_symbol_size_spinbox.png" alt="">
Expression dans le champ Taille </p>
<p>Si vous cliquez sur le deuxi&#xE8;me niveau dans la bo&#xEE;te de dialogue <em>Symbol layers</em> il est possible d&#x2019;avoir presque tous les param&#xE8;tres &#x2018;D&#xE9;finis par les donn&#xE9;es&#x2019;. Lorsqu&#x2019;une couleur est d&#xE9;finie par les donn&#xE9;es on peut lier la couleur &#xE0; un champ &#x2018;calcul&#xE9;&#x2019;. Une fonctionnalit&#xE9; de commentaires est ins&#xE9;r&#xE9;e ci-dessous.</p>
<pre><code>/* This expression will return a color code depending on the field value.
 * Negative value: red
 * 0 value: yellow
 * Positive value: green
 */
CASE
  WHEN value &lt; 0 THEN &apos;#DC143C&apos; -- Negative value: red
  WHEN value = 0 THEN &apos;#CCCC00&apos; -- Value 0: yellow
  ELSE &apos;#228B22&apos;                -- Positive value: green
END
</code></pre><p><strong>Figure Symbology 5:</strong></p>
<p><img src="static/user_manual/working_with_vector/symbol_data_defined_edit.png" alt="">
Symbole d&#xE9;fini par les donn&#xE9;es via le menu &#xC9;dition...</p>
<p><strong>Symboles cat&#xE9;goris&#xE9;s</strong></p>
<p>Le rendu Cat&#xE9;goris&#xE9; est utilis&#xE9; pour repr&#xE9;senter toutes les entit&#xE9;s d&#x2019;une couche class&#xE9;es par cat&#xE9;gorie qui d&#xE9;pend d&#x2019;un des attributs de l&#x2019;entit&#xE9;. L&#x2019;onglet <em>Style</em> permet de s&#xE9;lectionner :</p>
<ul>
<li><p>L&#x2019;attribut (en utilisant la liste d&#xE9;roulante de Colonne ou la fonction <a href="../../images/mIconExpressionEditorOpen.png" class="reference internal"><img src="../../images/mIconExpressionEditorOpen.png" alt="mActionmIconExpressionEditorOpen"></a> <em>D&#xE9;finir une expression de colonne</em> voir <a href="expression.html#vector-expressions" class="reference internal"><em>Expressions</em></a>)</p>
</li>
<li><p>le symbole (en utilisant la fen&#xEA;tre de S&#xE9;lection de symbole)</p>
</li>
<li><p>Les couleurs (en utilisant la liste de palettes de couleur)</p>
</li>
</ul>
<p>Cliquez ensuite sur le bouton <strong>Classer</strong> pour g&#xE9;n&#xE9;rer les classes pour toutes les valeurs diff&#xE9;rentes trouv&#xE9;es dans le champ de la table attributaire. Chaque classe peut &#xEA;tre d&#xE9;sactiv&#xE9;e en d&#xE9;cochant la case situ&#xE9;e &#xE0; gauche du symbole de classe.</p>
<p>Vous pouvez changer le symbole, la valeur et / ou la l&#xE9;gende en double-cliquant sur l&#x2019;&#xE9;l&#xE9;ment &#xE0; modifier.</p>
<p>Un clic-droit vous propose de <strong>Copier / Coller</strong>, <strong>Modifier la couleur</strong>, <strong>Modifier la transparence</strong>, <strong>Modifier l&#x2019;unit&#xE9; de sortie</strong> ou <strong>Modifier la taille</strong>.</p>
<p>Le bouton <strong>[Avanc&#xE9;]</strong> dans le coin inf&#xE9;rieur droit de la fen&#xEA;tre vous permet de choisir un champ pour faire varier l&#x2019;angle de rotation et la taille des symboles. Tous les champs de la couche sont alors disponibles, m&#xEA;me s&#x2019;ils ne sont pas utilis&#xE9;s pour le rendu par cat&#xE9;gorie.</p>
<p>L&#x2019;exemple de la figure <a href="#figure-symbology-6" class="reference internal">figure_symbology_6</a> montre le rendu des cat&#xE9;gories de la couche des rivi&#xE8;res de l&#x2019;&#xE9;chantillon de donn&#xE9;es de KADAS.</p>
<p><strong>Figure Symbology 6:</strong></p>
<p><img src="../../images/categorysymbol_ng_line.png" alt="">
Options du mode de rendu Cat&#xE9;goris&#xE9; </p>
<p><strong>Symboles gradu&#xE9;s</strong></p>
<p>Le rendu gradu&#xE9; est utilis&#xE9; pour afficher toutes les entit&#xE9;s d&#x2019;une couche, en utilisant un symbole de couche d&#xE9;fini par l&#x2019;utilisateur dont la couleur refl&#xE8;tera la plage d&#x2019;appartenance d&#x2019;une valeur d&#x2019;un attribut.</p>
<p><strong>Figure Symbology 7:</strong></p>
<p><img src="../../images/graduatesymbol_ng_line.png" alt="">
Options du mode de rendu Gradu&#xE9; </p>
<p>De la m&#xEA;me mani&#xE8;re que le rendu cat&#xE9;goris&#xE9;, le rendu Gradu&#xE9; permet de faire varier l&#x2019;angle de rotation et la taille des symboles selon les valeurs des champs sp&#xE9;cifi&#xE9;s.</p>
<p>De la m&#xEA;me fa&#xE7;on que le rendu Cat&#xE9;goris&#xE9;, l&#x2019;onglet <em>Style</em> vous permet de modifier les points suivants :</p>
<ul>
<li><p>L&#x2019;attribut (en utilisant la liste d&#xE9;roulante de Colonne ou la fonction <a href="../../images/mIconExpressionEditorOpen.png" class="reference internal"><img src="../../images/mIconExpressionEditorOpen.png" alt="mActionmIconExpressionEditorOpen"></a> <em>D&#xE9;finir une expression de colonne</em>, voir <a href="expression.html#vector-expressions" class="reference internal"><em>Expressions</em></a>)</p>
</li>
<li><p>Le symbole (en utilisant le bouton Changer)</p>
</li>
<li><p>Les couleurs (en utilisant la liste des palettes de couleur)</p>
</li>
</ul>
<p>De plus, vous pouvez choisir le nombre de classes et la m&#xE9;thode de classification (depuis la liste d&#xE9;roulante Mode). Les modes disponibles sont :</p>
<ul>
<li><p>Intervalles &#xE9;gaux : toutes les classes sont de m&#xEA;me taille (par exemple, avec des valeurs allant de 0 &#xE0; 16 et 4 classes, chaque classe aura une taille de 4);</p>
</li>
<li><p>Quantile : toutes les classes auront le m&#xEA;me effectif (m&#xEA;me principe que pour les bo&#xEE;tes &#xE0; moustache);</p>
</li>
<li><p>Ruptures naturelles (Jenks) : la variance de chaque classe est minimale tandis que la variance entre les diff&#xE9;rentes classes est maximale;</p>
</li>
<li><p>&#xC9;cart-type : les classes sont construites en fonction le l&#x2019;&#xE9;cart-type calcul&#xE9; sur l&#x2019;ensemble des valeurs;</p>
</li>
<li><p>Jolies ruptures : m&#xEA;me principe que pour les intervalles &#xE9;gaux mais les limites de classe sont des entiers.</p>
</li>
</ul>
<p>La zone de liste dans la partie centrale du menu <em>Style</em> r&#xE9;pertorie les classes ainsi que leurs &#xE9;tendues, &#xE9;tiquettes et symboles de rendu.</p>
<p>Cliquez sur le bouton <strong>Classer</strong> pour g&#xE9;n&#xE9;rer les classes selon le mode choisi. Chaque classe peut &#xEA;tre d&#xE9;sactiv&#xE9;e en d&#xE9;cochant la case situ&#xE9;e &#xE0; gauche du symbole de classe.</p>
<p>Vous pouvez changer le symbole, la valeur et / ou la l&#xE9;gende en double-cliquant sur l&#x2019;&#xE9;l&#xE9;ment &#xE0; modifier.</p>
<p>Un clic-droit vous propose de <strong>Copier / Coller</strong>, <strong>Modifier la couleur</strong>, <strong>Modifier la transparence</strong>, <strong>Modifier l&#x2019;unit&#xE9; de sortie</strong> ou <strong>Modifier la taille</strong>.</p>
<p>L&#x2019;exemple de la figure <a href="#figure-symbology-7" class="reference internal">figure_symbology_7</a> montre le rendu gradu&#xE9; de la couche des rivi&#xE8;res de l&#x2019;&#xE9;chantillon de donn&#xE9;es de KADAS.</p>
<p>Astuce</p>
<p><strong>Cartes th&#xE9;matiques utilisant une expression</strong></p>
<p>Les cartes th&#xE9;matiques faites avec le rendu Cat&#xE9;goris&#xE9; ou Gradu&#xE9; peuvent d&#xE9;sormais &#xEA;tre cr&#xE9;&#xE9;es en utilisant le r&#xE9;sultat d&#x2019;une expression. Dans la fen&#xEA;tre Propri&#xE9;t&#xE9;s des couches vectorielles, le s&#xE9;lecteur de colonne accueille une fonction <a href="../../images/mIconExpressionEditorOpen.png" class="reference internal"><img src="../../images/mIconExpressionEditorOpen.png" alt="mActionmIconExpressionEditorOpen"></a> <em>D&#xE9;finir une expression</em> de colonne. Alors maintenant, vous n&#x2019;avez plus besoin d&#x2019;&#xE9;crire l&#x2019;attribut de la classification dans une nouvelle colonne de votre table si vous souhaitez que l&#x2019;attribut de classification soit un composite de plusieurs champs, ou une formule quelconque.</p>
<p><strong>Rendu bas&#xE9; sur un ensemble de r&#xE8;gles</strong></p>
<p>Ce moteur de rendu est utilis&#xE9; pour afficher toutes les entit&#xE9;s d&#x2019;une couche en utilisant un ensemble de r&#xE8;gles pr&#xE9;d&#xE9;finies dont la couleur refl&#xE8;te la mani&#xE8;re dont une entit&#xE9; a &#xE9;t&#xE9; class&#xE9;e en fonction de ses attributs. Les r&#xE8;gles sont d&#xE9;finies par des expressions SQL. La fen&#xEA;tre permet de regrouper les r&#xE8;gles par type de filtre ou &#xE9;chelle de validit&#xE9;. Vous pouvez activer le rendu selon les niveaux de symboles ou arr&#xEA;ter le rendu &#xE0; la premi&#xE8;re r&#xE8;gle valid&#xE9;e pour chaque entit&#xE9;.</p>
<p>L&#x2019;exemple de la figure <a href="#figure-symbology-8" class="reference internal">figure_symbology_8</a> montre le rendu bas&#xE9; sur des r&#xE8;gles pour la couche des rivi&#xE8;res de l&#x2019;&#xE9;chantillon de donn&#xE9;es de KADAS.</p>
<p>To create a rule, activate an existing row by double-clicking on it, or click on &#x2018;+&#x2019; and click on the new rule. In the <em>Rule properties</em> dialog, you can define a label for the rule. Press the <a href="../../images/browsebutton.png" class="reference internal"><img src="../../images/browsebutton.png" alt="browsebutton"></a> button to open the expression string builder. In the <strong>Function List</strong>, click on <em>Fields and Values</em> to view all attributes of the attribute table to be searched. To add an attribute to the field calculator <strong>Expression</strong> field, double click its name in the <em>Fields and Values</em> list. Generally, you can use the various fields, values and functions to construct the calculation expression, or you can just type it into the box (see <a href="expression.html#vector-expressions" class="reference internal"><em>Expressions</em></a>). You can create a new rule by copying and pasting an existing rule with the right mouse button. You can also use the &#x2018;ELSE&#x2019; rule that will be run if none of the other rules on that level match. The rules appear in a tree hierarchy in the map legend. Just double-klick the rules in the map legend and the Style menu of the layer properties appears showing the rule that is the background for the symbol in the tree.</p>
<p><strong>Figure Symbology 8:</strong></p>
<p><img src="../../images/rulesymbol_ng_line.png" alt="">
Options du mode de rendu par Ensemble de R&#xE8;gles </p>
<p><strong>D&#xE9;placement de point</strong></p>
<p>Le rendu de D&#xE9;placement de point permet une visualisation de tous les points d&#x2019;une couche, m&#xEA;me si ceux-ci se superposent. Pour se faire, les symboles des points sont r&#xE9;partis en cercle autour d&#x2019;un symbole central.</p>
<p><strong>Figure Symbology 9:</strong></p>
<p><img src="../../images/poi_displacement.png" alt="">
Fen&#xEA;tre D&#xE9;placement de points </p>
<p>Astuce</p>
<p><strong>Exporter le style d&#x2019;une couche vecteur</strong></p>
<p>You have the option to export vector symbology from KADAS into Google *.kml, *.dxf and MapInfo *.tab files. Just open the right mouse menu of the layer and click on <em>Save selection as &#x2023;</em> to specify the name of the output file and its format. In the dialog, use the <em>Symbology export</em> menu to save the symbology either as <em>Feature symbology &#x2023;</em> or as <em>Symbol layer symbology &#x2023;</em>. If you have used symbol layers, it is recommended to use the second setting.</p>
<p><strong>Polygones invers&#xE9;s</strong></p>
<p>Le rendu en polygones invers&#xE9;s permet de d&#xE9;finir un symbole &#xE0; appliquer &#xE0; l&#x2019;ext&#xE9;rieur des polygones de la couche. Vous pouvez alors choisir parmi des sous-mode de rendu. Il s&#x2019;agit des m&#xEA;mes que les principaux modes.</p>
<p><strong>Figure Symbology 10:</strong></p>
<p><img src="../../images/inverted_polygon_symbol.png" alt="">
Fen&#xEA;tre du mode de rendu en Polygones Invers&#xE9;s </p>
<p>Astuce</p>
<p><strong>Basculer rapidement entre styles</strong></p>
<p>Lorsque vous avez cr&#xE9;&#xE9; un des styles mentionn&#xE9;s ci-dessus vous pouvez faire un clic droit sur la couche et s&#xE9;lectionner <em>Styles &#x2023; Ajouter</em> pour sauver votre style. Vous pouvez maintenant basculer rapidement entre les styles que vous avez cr&#xE9;&#xE9;s en utilisant de nouveau le menu <em>Styles &#x2023;</em>.</p>
<p><strong>Carte de chaleur</strong></p>
<p>Avec le rendu de Carte de chaleur vous pouvez cr&#xE9;er des cartes de chaleur en temps r&#xE9;el et dynamiques pour des couches (multi-)points. Vous pouvez d&#xE9;finir le rayon de la carte de chaleur en pixels, mm ou unit&#xE9;s cartographiques, choisir une rampe de couleur pour le style de carte de chaleur et utiliser une jauge pour choisir entre la vitesse du rendu et la qualit&#xE9;. Lorsque une entit&#xE9; est ajout&#xE9;e ou retir&#xE9;e le rendu de carte de chaleur met automatiquement &#xE0; jour le style de carte de chaleur.</p>
<h3 id="color-picker">S&#xE9;lecteur de Couleur </h3>
<p>Ind&#xE9;pendamment du type de style utilis&#xE9;, la fen&#xEA;tre <em>S&#xE9;lectionner la couleur</em> s&#x2019;affiche d&#xE8;s que vous cliquez pour modifier une couleur - de bordure ou de remplissage. Quatre onglets vous permettent de s&#xE9;lectionner une couleur via une <a href="../../images/mIconColorBox.png" class="reference internal"><img src="../../images/mIconColorBox.png" alt="mIconColorBox"></a> <sup>Palette\ de\ couleur</sup>, une <a href="../../images/mIconColorWheel.png" class="reference internal"><img src="../../images/mIconColorWheel.png" alt="mIconColorWheel"></a> <sup>Roue\ chromatique</sup>, des <a href="../../images/mIconColorSwatches.png" class="reference internal"><img src="../../images/mIconColorSwatches.png" alt="mIconColorSwatches"></a> <sup>Aplats\ de\ couleur</sup> ou un <a href="../../images/mIconColorPicker.png" class="reference internal"><img src="../../images/mIconColorPicker.png" alt="mIconColorPicker"></a> <sup>S&#xE9;lecteur\ de\ couleur</sup>.</p>
<p>Quelle que soit la m&#xE9;thode de s&#xE9;lection, la couleur est toujours d&#xE9;crite en valeurs TSV (Teinte, Saturation, Valeur) et RVB (Rouge, Vert, Bleu). Il y a &#xE9;galement la valeur d&#x2019;<em>Opacit&#xE9;</em> pour r&#xE9;gler le niveau de transparence. En bas &#xE0; gauche de la fen&#xEA;tre s&#x2019;affiche la comparaison entre la couleur <em>Actuelle</em> et l&#x2019;<em>Ancienne</em>. En bas &#xE0; droite, vous avez la possibilit&#xE9; d&#x2019;ajouter la couleur s&#xE9;lectionn&#xE9;e &#xE0; un bouton de couleur.</p>
<p><strong>Figure color picker 1:</strong></p>
<p><img src="../../images/color_picker_ramp.png" alt="">
Onglet Palette de Couleur de la fen&#xEA;tre de S&#xE9;lectionner la couleur </p>
<p>Avec la <a href="../../images/mIconColorBox.png" class="reference internal"><img src="../../images/mIconColorBox.png" alt="mIconColorBox"></a> <sup>Palette\ de\ couleur</sup> ou la <a href="../../images/mIconColorWheel.png" class="reference internal"><img src="../../images/mIconColorWheel.png" alt="mIconColorWheel"></a> <sup>Roue\ chromatique</sup>, vous parcourez toutes les combinaisons de couleurs possibles. Il y a cependant d&#x2019;autres possibilit&#xE9;s. En utilisant les Aplats de couleur <a href="../../images/mIconColorSwatches.png" class="reference internal"><img src="../../images/mIconColorSwatches.png" alt="mIconColorSwatches"></a>, vous pouvez choisir &#xE0; partir d&#x2019;une liste pr&#xE9;d&#xE9;finie. Cette liste correspond aux <em>Couleurs r&#xE9;centes</em>, aux <em>Couleurs standards</em> et aux <em>Couleurs du projet</em>.</p>
<p><strong>Figure color picker 2:</strong></p>
<p><img src="../../images/color_picker_recent_colors.png" alt="">
Onglet Aplats de couleur de la fen&#xEA;tre S&#xE9;lectionner la couleur </p>
<p>Une autre possibilit&#xE9; est d&#x2019;utiliser le <a href="../../images/mIconColorPicker.png" class="reference internal"><img src="../../images/mIconColorPicker.png" alt="mIconColorPicker"></a> <sup>S&#xE9;lecteur\ de\ couleur</sup> qui permet d&#x2019;&#xE9;chantillonner une couleur directement avec le pointeur de la souris depuis n&#x2019;importe quelle partie de l&#x2019;interface de QGIS et depuis une autre application en appuyant sur la barre espace. Cet outil d&#xE9;pend du syst&#xE8;me d&#x2019;exploitation et n&#x2019;est pas fonctionnel pour le moment sur OSX.</p>
<p>Astuce</p>
<p><strong>Raccourci pour la s&#xE9;lection de couleur + copier/coller des couleurs</strong></p>
<p>Vous pouvez rapidement choisir une <em>Couleur r&#xE9;cente</em>, une <em>Couleur standard</em> ou simplement <em>copier</em> / <em>coller</em> une couleur en cliquant sur la fl&#xE8;che situ&#xE9;e &#xE0; droite du bouton qui affiche la couleur.</p>
<p><strong>Figure color picker 3:</strong></p>
<p><img src="../../images/quick_color_picker.png" alt="">
Raccourci pour la s&#xE9;lection de couleur </p>
<h3 id="layer-rendering">Rendu de couche </h3>
<ul>
<li><em>Transparence de la couche</em> <img src="../../images/slider.png" alt="slider"> : permet de rendre visible les couches situ&#xE9;es en dessous. Utiliser le curseur pour adapter la visibilit&#xE9; de la couche vectorielle &#xE0; vos besoins. Vous pouvez &#xE9;galement d&#xE9;finir directement le pourcentage de transparence dans la zone de texte situ&#xE9;e &#xE0; c&#xF4;t&#xE9;.</li>
</ul>
<!-- -->
<ul>
<li><p><em>Layer blending mode</em> and <em>Feature blending mode</em>: You can achieve special rendering effects with these tools that you may previously only know from graphics programs. The pixels of your overlaying and underlaying layers are mixed through the settings described below.</p>
<ul>
<li><p>Normal : il s&#x2019;agit du mode de fusion standard qui utilise la valeur de transparence (canal alpha) du pixel sup&#xE9;rieur pour le fusionner avec le pixel sous-jacent, les couleurs ne sont pas m&#xE9;lang&#xE9;es.</p>
</li>
<li><p>Eclaircir : S&#xE9;lectionne le maximum entre chaque composante depuis les pixels du premier-plan et de l&#x2019;arri&#xE8;re-plan. Soyez attentif au fait que le r&#xE9;sultat obtenu peut pr&#xE9;senter un aspect dur et cr&#xE9;nel&#xE9;.</p>
</li>
<li><p>Filtrer : Les pixels lumineux de la source sont affich&#xE9;s par dessus la destination, alors que les pixels sombres ne le sont pas. Ce mode est utile pour m&#xE9;langer la texture d&#x2019;une couche avec une autre (c&#x2019;est-&#xE0;-dire que vous pouvez utiliser un relief ombr&#xE9; pour texturer une autre couche).</p>
</li>
<li><p>Eviter : Ce mode va &#xE9;claircir et saturer les pixels sous-jacents en se basant sur la luminosit&#xE9; du pixel au-dessus. La brillance des pixels sup&#xE9;rieurs va donc provoquer une augmentation de la saturation et de la brillance des pixels inf&#xE9;rieurs. Cela fonctionne mieux si les pixels sup&#xE9;rieurs ne sont pas lumineux, sinon l&#x2019;effet sera trop prononc&#xE9;.</p>
</li>
<li><p>Addition : Ce mode de fusion ajoute simplement les valeurs de pixels d&#x2019;une couche avec une autre. Dans le cas de valeurs obtenues au-dessus de un (en ce qui concerne le RVB), du blanc sera affich&#xE9;. Ce mode est appropri&#xE9; pour mettre en &#xE9;vidence des entit&#xE9;s.</p>
</li>
<li><p>Assombrir : Ce mode cr&#xE9;&#xE9; un pixel r&#xE9;sultant qui conserve le plus petit composant parmi les pixels du premier-plan et de l&#x2019;arri&#xE8;re-plan. Comme avec le mode &#xE9;claircir, le r&#xE9;sultat peut pr&#xE9;senter un aspect dur et cr&#xE9;nel&#xE9;.</p>
</li>
<li><p>Multiplier : Dans ce cas, les valeurs pour chaque pixel de la couche sup&#xE9;rieure sont multipli&#xE9;es par celles des pixels correspondants de la couche inf&#xE9;rieure. Les images obtenues sont plus sombres.</p>
</li>
<li><p>D&#xE9;couper : Les couleur sombres de la couche sup&#xE9;rieure provoquent un obscurcissement des couches inf&#xE9;rieures. D&#xE9;couper peut &#xEA;tre utilis&#xE9; pour ajuster et teinter les couches inf&#xE9;rieures.</p>
</li>
<li><p>Rev&#xEA;tement : Ce mode combine les modes multiplier et filtrer. Dans l&#x2019;image r&#xE9;sultante, les parties lumineuses deviennent plus lumineuses et les parties sombres plus sombres.</p>
</li>
<li><p>Lumi&#xE8;re douce : Ce mode est tr&#xE8;s similaire au mode rev&#xEA;tement, mais au lieu d&#x2019;utiliser multiplier/filtrer il utilise d&#xE9;couper/&#xE9;viter. Il est cens&#xE9; &#xE9;muler une lumi&#xE8;re douce rayonnante dans l&#x2019;image.</p>
</li>
<li><p>Lumi&#xE8;re dure : Ce mode est lui aussi tr&#xE8;s similaire au mode rev&#xEA;tement. Il est cens&#xE9; &#xE9;muler une lumi&#xE8;re tr&#xE8;s intense projet&#xE9;e dans l&#x2019;image.</p>
</li>
<li><p>Diff&#xE9;rencier : Ce mode soustrait le pixel sup&#xE9;rieur au pixel inf&#xE9;rieur et vice-versa, de fa&#xE7;on &#xE0; toujours obtenir une valeur positive. Le m&#xE9;lange avec du noir ne produit aucun changement, &#xE9;tant donn&#xE9; que toutes les couleurs sont nulles.</p>
</li>
<li><p>Soutraire : Ce mode soustrait les valeurs de pixel d&#x2019;une couche avec une autre. En cas de valeurs n&#xE9;gatives obtenues, du noir est affich&#xE9;.</p>
</li>
</ul>
</li>
</ul>
<h2 id="labels-menu">Onglet &#xC9;tiquettes </h2>
<p>Le moteur d&#x2019;<a href="../../images/mActionLabeling.png" class="reference internal"><img src="../../images/mActionLabeling.png" alt="mActionLabeling"></a> <sup>&#xC9;tiquettes</sup> fournit un syst&#xE8;me d&#x2019;&#xE9;tiquetage intelligent pour les couches de points, lignes et polygones et ne n&#xE9;cessite que peu de param&#xE8;tres. Ce nouveau syst&#xE8;me g&#xE8;re les couches reprojet&#xE9;es &#xE0; la vol&#xE9;e. Les fonctionnalit&#xE9;s principales ont &#xE9;t&#xE9; re-design&#xE9;es et KADAS en propose de nouvelles qui am&#xE9;liorent l&#x2019;&#xE9;tiquetage. Les menus suivants ont &#xE9;t&#xE9; cr&#xE9;&#xE9;s pour les couches vectorielles :</p>
<ul>
<li><p>Texte</p>
</li>
<li><p>Formatage</p>
</li>
<li><p>Tampon</p>
</li>
<li><p>Fond</p>
</li>
<li><p>Ombre</p>
</li>
<li><p>Emplacement</p>
</li>
<li><p>Rendu</p>
</li>
</ul>
<p>Voyons ce que l&#x2019;on peut faire avec les nouveaux onglets pour chaque type de couche.</p>
<p><strong>&#xC9;tiqueter une couche de points</strong></p>
<p>Lancez KADAS et chargez une couche vectorielle de points. S&#xE9;lectionnez la couche dans la l&#xE9;gende et cliquez sur le bouton <a href="../../images/mActionLabeling.png" class="reference internal"><img src="../../images/mActionLabeling.png" alt="mActionLabeling"></a> <sup>Param&#xE8;tres\ d&#x2019;&#xE9;tiquetage\ de\ la\ couche</sup> de la barre d&#x2019;outils KADAS.</p>
<p>La premi&#xE8;re &#xE9;tape consiste &#xE0; cocher la case <a href="../../images/checkbox.png" class="reference internal"><img src="../../images/checkbox.png" alt="checkbox"></a> <em>&#xC9;tiqueter cette couche avec</em> et &#xE0; s&#xE9;lectionner un champ attributaire &#xE0; utiliser pour l&#x2019;&#xE9;tiquette. Cliquez sur <a href="../../images/mIconExpressionEditorOpen.png" class="reference internal"><img src="../../images/mIconExpressionEditorOpen.png" alt="mActionmIconExpressionEditorOpen"></a> si vous souhaitez d&#xE9;finir les &#xE9;tiquettes en vous basant sur des expressions. Voir <a href="#labeling-with-expressions" class="reference internal">labeling_with_expressions</a>.</p>
<p>Les &#xE9;tapes pr&#xE9;sent&#xE9;es ci-dessous d&#xE9;crivent un &#xE9;tiquetage simple, sans utilisation des fonctions de <em>Valeurs d&#xE9;finies par les donn&#xE9;es</em>, situ&#xE9;es &#xE0; droite des param&#xE8;tres &#xE0; d&#xE9;finir.</p>
<p>Vous pouvez d&#xE9;finir le style du texte dans le menu <em>Texte</em> (voir <a href="#figure-labels-1" class="reference internal">Figure_labels_1</a> ). Utilisez l&#x2019;option <em>Casse</em> pour influencer le rendu du texte. Vous avez la possibilit&#xE9; d&#x2019;afficher le texte &#x2018;Tout en majuscules&#x2019;, &#x2018;Tout en minuscules&#x2019; ou &#x2018;Premi&#xE8;res lettres en majuscules&#x2019;. Utilisez le mode de fusion pour cr&#xE9;er des effets bien connus des logiciels de graphisme (voir <a href="#blend-modes" class="reference internal">blend_modes</a>).</p>
<p>Dans le menu <em>Formatage</em>, vous pouvez d&#xE9;finir un caract&#xE8;re de retour &#xE0; la ligne afin de d&#xE9;couper l&#x2019;&#xE9;tiquette sur de multiples lignes. Utilisez l&#x2019;option <a href="../../images/checkbox.png" class="reference internal"><img src="../../images/checkbox.png" alt="checkbox"></a> <em>Nombres format&#xE9;s</em> pour formater les valeurs num&#xE9;riques de la table attributaire. Les chiffres apr&#xE8;s la virgule sont ins&#xE9;r&#xE9;s. L&#x2019;activation de cette option ajoute par d&#xE9;faut trois chiffres apr&#xE8;s la virgule.</p>
<p>Pour cr&#xE9;er un tampon, cochez simplement la case <a href="../../images/checkbox.png" class="reference internal"><img src="../../images/checkbox.png" alt="checkbox"></a> <em>Afficher un tampon</em> depuis le menu <em>Tampon</em>. La couleur du tampon est personnalisable. Vous pouvez &#xE9;galement appliquer un mode de fusion (voir <a href="#blend-modes" class="reference internal">blend_modes</a>).</p>
<p>Si la case &#xE0; cocher <em>Colorier le remplissage du tampon</em> est activ&#xE9;, il va interagir avec le texte partiellement transparent et donner des r&#xE9;sultats mitig&#xE9;s en mati&#xE8;re de transparence de la couleur. La d&#xE9;sactivation du remplissage du tampon corrige ce probl&#xE8;me (sauf l&#xE0; o&#xF9; l&#x2019;aspect int&#xE9;rieur du contour du tampon intersecte avec le texte de remplissage) et permet &#xE9;galement de faire du texte encadr&#xE9;.</p>
<p>Dans le menu <em>Fond</em>, vous pouvez d&#xE9;finir la forme de votre arri&#xE8;re-plan avec <em>Taille X</em> et <em>Taille Y</em>. Utilisez <em>Taille selon</em> pour ajouter une zone de &#x2018;Tampon&#x2019; &#xE0; votre arri&#xE8;re-plan. La taille du tampon est d&#xE9;finie par d&#xE9;faut ici. Le fond est alors constitu&#xE9; de la zone tampon et du fond d&#xE9;fini par les valeurs <em>Taille X</em> et <em>Taille Y</em>. Vous pouvez aussi d&#xE9;finir une <em>Rotation</em> correspondant &#xE0; &#x2018;Angle de l&#x2019;&#xE9;tiquette&#x2019;, &#x2018;Angle par rapport &#xE0; l&#x2019;&#xE9;tiquette&#x2019; ou encore &#x2018;Valeurs fixes&#x2019;. D&#xE9;finissez un <em>D&#xE9;calage X,Y</em> avec les valeurs X et Y et le fond sera d&#xE9;plac&#xE9;. En appliquant <em>Angles arrondis X,Y</em>, l&#x2019;arri&#xE8;re-plan s&#x2019;arrondit aux angles. Il est &#xE9;galement possible de fusionner le fond avec les couches sous-jacentes dans la fen&#xEA;tre de carte en utilisant le <em>Mode de fusion</em> (voir <a href="#blend-modes" class="reference internal">blend_modes</a>).</p>
<p>Utilisez le menu <em>Ombre</em> pour une <em>Ombre port&#xE9;e</em> d&#xE9;finie par l&#x2019;utilisateur. Le dessin de l&#x2019;arri&#xE8;re-plan est tr&#xE8;s variable. Choisissez entre &#x2018;l&#x2019;objet le plus bas de l&#x2019;&#xE9;tiquette&#x2019;, &#x2018;Texte&#x2019;, &#x2018;Tampon&#x2019; et &#x2018;Fond&#x2019;. L&#x2019;angle du <em>D&#xE9;calage</em> d&#xE9;pend de l&#x2019;orientation de l&#x2019;&#xE9;tiquette. Si vous cochez la case <em>Utilise une ombre globale</em>, alors le point z&#xE9;ro de l&#x2019;angle est toujours orient&#xE9; vers le nord et ne d&#xE9;pend pas de l&#x2019;orientation de l&#x2019;&#xE9;tiquette. Vous pouvez influencer l&#x2019;apparence de l&#x2019;ombre avec le <em>Rayon d&#x2019;estompage</em>. Plus le nombre sera faible et plus les ombres seront douces. L&#x2019;apparence de l&#x2019;ombre port&#xE9;e peut &#xE9;galement &#xEA;tre modifi&#xE9;e en choisissant un mode de fusion (voir <a href="#blend-modes" class="reference internal">blend_modes</a>).</p>
<p>S&#xE9;lectionnez le menu <em>Emplacement</em> pour d&#xE9;finir la position de l&#x2019;&#xE9;tiquette et les priorit&#xE9;s d&#x2019;&#xE9;tiquetage. L&#x2019;option <img src="../../images/radiobuttonon.png" alt="radiobuttonon"> <em>D&#xE9;calage par rapport au point</em> offre maintenant la possibilit&#xE9; d&#x2019;utiliser les <em>Quadrants</em> pour placer l&#x2019;&#xE9;tiquette. En outre, vous pouvez modifier l&#x2019;orientation de l&#x2019;&#xE9;tiquette avec l&#x2019;option <em>Rotation</em>. Ainsi, un emplacement dans un quadrant donn&#xE9; avec une rotation donn&#xE9;e est d&#xE9;sormais possible. Dans la section <em>Priorit&#xE9;</em> vous pouvez d&#xE9;finir la priorit&#xE9; d&#x2019;emplacement de l&#x2019;&#xE9;tiquette. Elle interagit avec les &#xE9;tiquettes des autres couches vectorielles du canevas de cartes. S&#x2019;il y a des &#xE9;tiquettes de couches diff&#xE9;rentes au m&#xEA;me emplacement alors l&#x2019;&#xE9;tiquette ayant la plus haute priorit&#xE9; sera affich&#xE9;e et les autres ne le seront pas.</p>
<p>Dans le menu <em>Rendu</em>, vous pouvez d&#xE9;finir des options d&#x2019;&#xE9;tiquettes et d&#x2019;entit&#xE9;s. Sous <em>Options des &#xE9;tiquettes</em>, vous trouverez maintenant le param&#xE8;tre de visibilit&#xE9; selon l&#x2019;&#xE9;chelle. Vous pouvez emp&#xEA;cher KADAS de n&#x2019;afficher qu&#x2019;un certain nombre d&#x2019;&#xE9;tiquettes &#xE0; l&#x2019;aide de l&#x2019;option <a href="../../images/checkbox.png" class="reference internal"><img src="../../images/checkbox.png" alt="checkbox"></a> <em>Afficher toutes les &#xE9;tiquettes pour cette couche (m&#xEA;me celles en conflit)</em>. Sous <em>Options des entit&#xE9;s</em>, vous pouvez d&#xE9;finir si chaque partie d&#x2019;une entit&#xE9; multi-parties doit avoir son &#xE9;tiquette. Il est possible de d&#xE9;finir un nombre limite d&#x2019;entit&#xE9;s &#xE0; &#xE9;tiqueter et d&#x2019; <a href="../../images/checkbox.png" class="reference internal"><img src="../../images/checkbox.png" alt="checkbox"></a> <em>&#xC9;viter que l&#x2019;&#xE9;tiquette ne recouvre des objets</em>.</p>
<p><strong>Figure Labels 1:</strong></p>
<p><img src="../../images/label_points.png" alt="">
&#xC9;tiquetage d&#x2019;une couche vectorielle de points </p>
<p><strong>&#xC9;tiqueter une couche de lignes</strong></p>
<p>La premi&#xE8;re &#xE9;tape consiste &#xE0; cocher la case <a href="../../images/checkbox.png" class="reference internal"><img src="../../images/checkbox.png" alt="checkbox"></a> <em>Etiqueter cette couche avec</em> dans l&#x2019;onglet <em>&#xC9;tiquettes</em> et &#xE0; s&#xE9;lectionner un champ attributaire &#xE0; utiliser pour l&#x2019;&#xE9;tiquette. Cliquez sur <a href="../../images/mIconExpressionEditorOpen.png" class="reference internal"><img src="../../images/mIconExpressionEditorOpen.png" alt="mActionmIconExpressionEditorOpen"></a> si vous souhaitez d&#xE9;finir les &#xE9;tiquettes en vous basant sur des expressions. Voir <a href="#labeling-with-expressions" class="reference internal">labeling_with_expressions</a>.</p>
<p>Ensuite, vous pouvez d&#xE9;finir le style de texte dans le menu <em>Texte</em>. Ici, les options sont identiques &#xE0; celles propos&#xE9;es pour les couches de points.</p>
<p>De m&#xEA;me, dans le menu <em>Formatage</em>, les param&#xE8;tres sont identiques &#xE0; ceux des couches de points.</p>
<p>Le menu <em>Tampon</em> offre les m&#xEA;mes fonctions que celles d&#xE9;finies dans la section <a href="#labeling-point-layers" class="reference internal">labeling_point_layers</a>.</p>
<p>Le menu <em>Fond</em> offre les m&#xEA;mes entr&#xE9;es que celles d&#xE9;finies dans la section <a href="#labeling-point-layers" class="reference internal">labeling_point_layers</a>.</p>
<p>Le menu <em>Ombre</em> offre les m&#xEA;mes entr&#xE9;es que celles d&#xE9;finies dans la section <a href="#labeling-point-layers" class="reference internal">labeling_point_layers</a>.</p>
<p>Dans le menu <em>Emplacement</em>, vous trouverez des options sp&#xE9;cifiques aux couches de lignes. L&#x2019;&#xE9;tiquette peut avoir un alignement <img src="../../images/radiobuttonon.png" alt="radiobuttonon"> <em>Parall&#xE8;le</em>, <img src="../../images/radiobuttonoff.png" alt="radiobuttonoff"> <em>Courb&#xE9;</em> ou <img src="../../images/radiobuttonoff.png" alt="radiobuttonoff"> <em>Horizontal</em>. Avec les options <img src="../../images/radiobuttonon.png" alt="radiobuttonon"> <em>Parall&#xE8;le</em> et <img src="../../images/radiobuttonoff.png" alt="radiobuttonoff"> <em>Courb&#xE9;</em>, vous pouvez d&#xE9;finir une position <a href="../../images/checkbox.png" class="reference internal"><img src="../../images/checkbox.png" alt="checkbox"></a> <em>Au-dessus de la ligne</em>, <a href="../../images/checkbox.png" class="reference internal"><img src="../../images/checkbox.png" alt="checkbox"></a> <em>Sur la ligne</em> ou <a href="../../images/checkbox.png" class="reference internal"><img src="../../images/checkbox.png" alt="checkbox"></a> <em>En-dessous de la ligne</em>. Il est possible de s&#xE9;lectionner plusieurs options &#xE0; la fois. Dans ce cas, KADAS recherchera la position optimale pour l&#x2019;&#xE9;tiquette. Sachez que vous pouvez aussi utiliser l&#x2019;orientation de la ligne pour positionner l&#x2019;&#xE9;tiquette. En outre, vous pouvez d&#xE9;finir un <em>Angle maximal des lettres (&#xE9;tiquettes courbes)</em> lorsque vous optez pour un emplacement <img src="../../images/radiobuttonoff.png" alt="radiobuttonoff"> <em>Courb&#xE9;</em> (voir <a href="#figure-labels-2" class="reference internal">Figure_labels_2</a> ).</p>
<p>Vous pouvez d&#xE9;finir une distance minimale pour r&#xE9;p&#xE9;ter les &#xE9;tiquettes. Cette distance peut &#xEA;tre en mm ou en unit&#xE9;s de la carte.</p>
<p>Certaines configurations de placement proposeront plus d&#x2019;options, par exemple, les Emplacements <em>Courb&#xE9;</em> et <em>Parall&#xE8;le</em> permettent de d&#xE9;finir la position de l&#x2019;&#xE9;tiquette (au-dessus, en-dessous ou sur la ligne), la <em>Distance</em> &#xE0; la ligne et, pour <em>Courb&#xE9;</em>, l&#x2019;utilisateur peut aussi d&#xE9;finir l&#x2019;angle maximal interne/externe entre les &#xE9;tiquettes courb&#xE9;es. De la m&#xEA;me fa&#xE7;on que pour les couches de points vous avez la possibilit&#xE9; de d&#xE9;finir une <em>Priorit&#xE9;</em> pour les &#xE9;tiquettes.</p>
<p>Le menu <em>Rendu</em> offre presque les m&#xEA;mes fonctions que celles d&#xE9;finies pour les couches de points. Dans les <em>Options des entit&#xE9;s</em>, vous pouvez maintenant <em>Ne pas afficher d&#x2019;&#xE9;tiquettes pour les entit&#xE9;s plus petites que</em>.</p>
<p><strong>Figure Labels 2:</strong></p>
<p><img src="../../images/label_line.png" alt="">
&#xC9;tiquetage d&#x2019;une couche vectorielle de lignes </p>
<p><strong>&#xC9;tiqueter une couche de polygones</strong></p>
<p>La premi&#xE8;re &#xE9;tape consiste &#xE0; cocher la case <a href="../../images/checkbox.png" class="reference internal"><img src="../../images/checkbox.png" alt="checkbox"></a> <em>Etiqueter cette couche avec</em> et &#xE0; s&#xE9;lectionner un champ attributaire &#xE0; utiliser pour l&#x2019;&#xE9;tiquette. Cliquez sur <a href="../../images/mIconExpressionEditorOpen.png" class="reference internal"><img src="../../images/mIconExpressionEditorOpen.png" alt="mActionmIconExpressionEditorOpen"></a> si vous souhaitez d&#xE9;finir les &#xE9;tiquettes en vous basant sur des expressions. Voir <a href="#labeling-with-expressions" class="reference internal">labeling_with_expressions</a>.</p>
<p>Le menu <em>Texte</em> d&#xE9;finit le style de texte. Les options propos&#xE9;es sont identiques &#xE0; celles des couches de points et de lignes.</p>
<p>Le menu <em>Formatage</em> permet de formater l&#x2019;&#xE9;tiquette sur des lignes multiples comme pour les couches de points ou de lignes.</p>
<p>Comme pour les points et les lignes, vous pouvez d&#xE9;finir une zone tampon autour du texte dans le menu <em>Tampon</em>.</p>
<p>Utilisez le menu <em>Fond</em> pour cr&#xE9;er des arri&#xE8;re-plans personnalis&#xE9;s pour les &#xE9;tiquettes de polygones. Ce menu est identique &#xE0; celui des couches de points ou de lignes.</p>
<p>Les entr&#xE9;es du menu <em>Ombre</em> sont identiques &#xE0; celles des couches de points ou de lignes.</p>
<p>Le menu <em>Emplacement</em> propose des options sp&#xE9;cifiques aux couches de polygones (voir <a href="#figure-labels-3" class="reference internal">Figure_labels_3</a>). Il s&#x2019;agit notamment de <img src="../../images/radiobuttonon.png" alt="radiobuttonon"> <em>D&#xE9;calage par rapport au centro&#xEF;de</em>, <img src="../../images/radiobuttonoff.png" alt="radiobuttonoff"> <em>Horizontal (lent)</em>, <img src="../../images/radiobuttonoff.png" alt="radiobuttonoff"> <em>Autour du centro&#xEF;de</em>, <img src="../../images/radiobuttonoff.png" alt="radiobuttonoff"> <em>Libre (lent)</em> et <img src="../../images/radiobuttonoff.png" alt="radiobuttonoff"> <em>Selon le p&#xE9;rim&#xE8;tre</em>.</p>
<p>Avec l&#x2019;option <img src="../../images/radiobuttonon.png" alt="radiobuttonon"> <em>D&#xE9;calage par rapport au centro&#xEF;de</em>, vous pouvez d&#xE9;finir si le centro&#xEF;de est celui du <img src="../../images/radiobuttonon.png" alt="radiobuttonon"> <em>polygone visible</em> ou du <img src="../../images/radiobuttonoff.png" alt="radiobuttonoff"> <em>polygone complet</em>. Cela signifie que soit le centro&#xEF;de utilis&#xE9; correspond &#xE0; celui de la portion de polygone qui appara&#xEE;t dans votre carte, soit il est d&#xE9;fini par rapport au polygone en entier, que vous l&#x2019;ayez enti&#xE8;rement affich&#xE9; dans votre carte ou pas. Vous pouvez placer l&#x2019;&#xE9;tiquette selon les quadrants et d&#xE9;finir un d&#xE9;calage et une rotation. L&#x2019;option <img src="../../images/radiobuttonoff.png" alt="radiobuttonoff"> <em>Autour du centro&#xEF;de</em> permet de placer l&#x2019;&#xE9;tiquette autour du centro&#xEF;de, &#xE0; une certaine distance. L&#xE0; encore, il y a la possibilit&#xE9; de d&#xE9;finir si le centro&#xEF;de est <img src="../../images/radiobuttonon.png" alt="radiobuttonon"> <em>polygone visible</em> ou <img src="../../images/radiobuttonoff.png" alt="radiobuttonoff"> <em>polygone complet</em>. Avec l&#x2019;option <img src="../../images/radiobuttonoff.png" alt="radiobuttonoff"> <em>Selon le p&#xE9;rim&#xE8;tre</em>, vous pouvez d&#xE9;finir une position et une distance de placement pour l&#x2019;&#xE9;tiquette. Les positions possibles sont <a href="../../images/checkbox.png" class="reference internal"><img src="../../images/checkbox.png" alt="checkbox"></a> <em>Au-dessus de la ligne</em>, <a href="../../images/checkbox.png" class="reference internal"><img src="../../images/checkbox.png" alt="checkbox"></a> <em>Sur la ligne</em>, <a href="../../images/checkbox.png" class="reference internal"><img src="../../images/checkbox.png" alt="checkbox"></a> <em>En-dessous de la ligne</em> et <a href="../../images/checkbox.png" class="reference internal"><img src="../../images/checkbox.png" alt="checkbox"></a> <em>Orientation de la ligne suivant la position</em>.</p>
<p>En fonction du choix de la position des &#xE9;tiquettes, plusieurs options sont affich&#xE9;es. Vous pouvez ici choisir la distance au contour des polygones et l&#x2019;intervalle de r&#xE9;p&#xE9;tition des &#xE9;tiquettes sur le contour des polygones.</p>
<p>De la m&#xEA;me fa&#xE7;on que pour les couches vectorielles de points et de lignes vous avez le possibilit&#xE9; de d&#xE9;finir une <em>Priorit&#xE9;</em> pour les couches vectorielles de polygones.</p>
<p>Le sous-menu <em>Rendu</em> propose les m&#xEA;mes fonctions que celles d&#xE9;finies pour les couches de lignes. Dans les <em>Options des entit&#xE9;s</em>, vous pouvez choisir de <em>Ne pas afficher d&#x2019;&#xE9;tiquettes pour les entit&#xE9;s plus petites que</em>.</p>
<p><strong>Figure Labels 3:</strong></p>
<p><img src="../../images/label_area.png" alt="">
&#xC9;tiquetage d&#x2019;une couche vectorielle de polygones </p>
<p><strong>D&#xE9;fini des &#xE9;tiquettes bas&#xE9;es sur des expressions</strong></p>
<p>QGIS permet d&#x2019;utiliser des expressions pour &#xE9;tiqueter les entit&#xE9;s. Cliquez sur l&#x2019;ic&#xF4;ne <a href="../../images/mIconExpressionEditorOpen.png" class="reference internal"><img src="../../images/mIconExpressionEditorOpen.png" alt="mActionmIconExpressionEditorOpen"></a> dans le menu <sup>&#xC9;tiquettes</sup> <a href="../../images/mActionLabeling.png" class="reference internal"><img src="../../images/mActionLabeling.png" alt="mActionLabeling"></a> de la bo&#xEE;te de dialogue Propri&#xE9;t&#xE9;s. Sur <a href="#figure-labels-4" class="reference internal">figure_labels_4</a> vous pouvez voir un exemple d&#x2019;expression pour &#xE9;tiqueter les r&#xE9;gions de l&#x2019;Alaska avec leur nom et leur superficie, en se basant sur le champ &#x2018;NAME_2&#x2019;, un texte de description et la fonction &#x2018;$area()&#x2019; en combinaison avec &#x2018;format_number()&#x2019; pour am&#xE9;liorer l&#x2019;affichage num&#xE9;rique.</p>
<p><strong>Figure Labels 4:</strong></p>
<p><a href="../../images/label_expression.png" class="reference internal image-reference"><img src="../../images/label_expression.png" alt="../../images/label_expression.png"></a>
Utiliser des expressions pour l&#x2019;&#xE9;tiquetage </p>
<p>L&#x2019;&#xE9;tiquetage bas&#xE9; sur des expressions est simple &#xE0; utiliser. Tout ce dont vous avez &#xE0; vous pr&#xE9;occuper est de combiner tous les &#xE9;l&#xE9;ments (cha&#xEE;nes de caract&#xE8;res, champs et fonctions) avec l&#x2019;op&#xE9;rateur de concat&#xE9;nation || et que les champs soient entour&#xE9;s par des &#x201C;apostrophes doubles &#x201D; et les cha&#xEE;nes par des &#x2018;apostrophes simples&#x2019;. Voici quelques exemples :</p>
<pre><code> # label based on two fields &apos;name&apos; and &apos;place&apos; with a comma as separater
 &quot;name&quot; || &apos;, &apos; || &quot;place&quot;

 -&gt; John Smith, Paris

 # label based on two fields &apos;name&apos; and &apos;place&apos; separated by comma
 &apos;My name is &apos; || &quot;name&quot; || &apos;and I live in &apos; || &quot;place&quot;

 -&gt; My name is John Smith and I live in Paris

 # label based on two fields &apos;name&apos; and &apos;place&apos; with a descriptive text
 # and a line break (\n)
 &apos;My name is &apos; || &quot;name&quot; || &apos;\nI live in &apos; || &quot;place&quot;

 -&gt; My name is John Smith
    I live in Paris

 # create a multi-line label based on a field and the $area function
 # to show the place name and its area size based on unit meter.
 &apos;The area of &apos; || &quot;place&quot; || &apos;has a size of &apos; || $area || &apos;m&#xB2;&apos;

 -&gt; The area of Paris has a size of 105000000 m&#xB2;

 # create a CASE ELSE condition. If the population value in field
 # population is &lt;= 50000 it is a town, otherwise a city.
 &apos;This place is a &apos; || CASE WHEN &quot;population &lt;= 50000&quot; THEN &apos;town&apos; ELSE &apos;city&apos; END

-&gt; This place is a town
</code></pre><p>Comme vous pouvez le constater dans le constructeur d&#x2019;expressions, vous avez &#xE0; votre disposition une centaine de fonctions pour cr&#xE9;er des expressions simples ou tr&#xE8;s complexes afin d&#x2019;&#xE9;tiqueter vos donn&#xE9;es avec KADAS. Voir <a href="expression.html#vector-expressions" class="reference internal"><em>Expressions</em></a> pour plus d&#x2019;informations et des exemples d&#x2019;expressions.</p>
<p><strong>Utiliser des valeurs de param&#xE8;tres d&#xE9;finies par les donn&#xE9;es pour l&#x2019;&#xE9;tiquetage</strong></p>
<p>Avec les fonctions de remplacement d&#xE9;fini par les donn&#xE9;es, les param&#xE8;tres de l&#x2019;&#xE9;tiquetage sont remplac&#xE9;es par les entr&#xE9;es de la table d&#x2019;attributs. Vous pouvez activer et d&#xE9;sactiver cette fonction avec le bouton droit de la souris. Survolez le symbole et vous verrez les informations sur le remplacement des donn&#xE9;es d&#xE9;finies, y compris le domaine de la d&#xE9;finition actuelle. Nous d&#xE9;crivons maintenant un exemple d&#x2019;utilisation de la fonction de correction de donn&#xE9;es d&#xE9;fini pour la fonction <a href="../../images/mActionMoveLabel.png" class="reference internal"><img src="../../images/mActionMoveLabel.png" alt="mActionMoveLabel"></a>:sup: d&#xE9;placement d&#x2019;&#xE9;tiquette (voir <a href="#figure-labels-5" class="reference internal">figure_labels_5</a>).</p>
<ol>
<li><p>Importez la couche <code>lakes.shp</code> depuis le jeu de donn&#xE9;es test de KADAS.</p>
</li>
<li><p>Double-cliquez la couche pour ouvrir la fen&#xEA;tre des Propri&#xE9;t&#xE9;s. S&#xE9;lectionnez <em>Etiquettes</em> puis <em>Emplacement</em> et enfin <img src="../../images/radiobuttonon.png" alt="radiobuttonon"> <em>D&#xE9;calage par rapport au centro&#xEF;de</em>.</p>
</li>
<li><p>Dans le cadre <em>D&#xE9;fini par les donn&#xE9;es</em>, cliquez sur l&#x2019;ic&#xF4;ne <a href="../../images/mIconDataDefine.png" class="reference internal"><img src="../../images/mIconDataDefine.png" alt="mIconDataDefine"></a> pour d&#xE9;finir le champ correspondant &#xE0; la <em>coordonn&#xE9;e</em>. Choisissez &#x2018;xlabel&#x2019; pour X et &#x2018;ylabel&#x2019; pour Y. Les ic&#xF4;nes rev&#xEA;tent maintenant une surbrillance jaune.</p>
</li>
<li><p>Zoomez sur un lac.</p>
</li>
<li><p>S&#xE9;lectionnez l&#x2019;outil <a href="../../images/mActionMoveLabel.png" class="reference internal"><img src="../../images/mActionMoveLabel.png" alt="mActionMoveLabel"></a> de la barre d&#x2019;outils &#xC9;tiquettes. Vous pouvez maintenant d&#xE9;placer l&#x2019;&#xE9;tiquette manuellement vers une autre position (voir <a href="#figure-labels-6" class="reference internal">figure_labels_6</a>). La nouvelle position est sauvegard&#xE9;e dans les colonnes &#x2018;xlabel&#x2019; et &#x2018;ylabel&#x2019; de votre table attributaire.</p>
</li>
</ol>
<p><strong>Figure Labels 5:</strong></p>
<p><img src="../../images/label_data_defined.png" alt="">
&#xC9;tiquetage d&#x2019;une couche vectorielle de polygones avec l&#x2019;option &#x2018;D&#xE9;fini par les donn&#xE9;es&#x2019; </p>
<p><strong>Figure Labels 6:</strong></p>
<p><img src="../../images/move_label.png" alt="">
D&#xE9;placer des &#xE9;tiquettes </p>
<h2 id="fields-menu">Onglet Champs </h2>
<p><a href="../../images/attributes.png" class="reference internal"><img src="../../images/attributes.png" alt="attributes"></a> Le menu <em>Champs</em> permet de manipuler les champs attributaires du jeu de donn&#xE9;es s&#xE9;lectionn&#xE9;. Les boutons <a href="../../images/mActionNewAttribute.png" class="reference internal"><img src="../../images/mActionNewAttribute.png" alt="mActionNewAttribute"></a> : sup:Nouvelle colonne et <a href="../../images/mActionDeleteAttribute.png" class="reference internal"><img src="../../images/mActionDeleteAttribute.png" alt="mActionDeleteAttribute"></a> : sup:Effacer une colonne peuvent &#xEA;tre utilis&#xE9;s lorsque la couche est en <a href="../../images/mActionToggleEditing.png" class="reference internal"><img src="../../images/mActionToggleEditing.png" alt="mActionToggleEditing"></a> <sup>Mode\ &#xE9;dition</sup>.</p>
<p><strong>Outils d&#x2019;&#xE9;dition</strong></p>
<p><strong>Figure Fields 1:</strong></p>
<p><img src="../../images/editwidgetsdialog.png" alt="">
Fen&#xEA;tre d&#x2019;&#xE9;dition d&#x2019;une colonne attributaire </p>
<p>Dans le menu <em>Champs</em> se trouve &#xE9;galement une colonne <strong>Outil d&#x2019;&#xE9;dition</strong>. Cette colonne peut &#xEA;tre utilis&#xE9;e pour d&#xE9;finir des valeurs ou des plages de valeurs &#xE0; utiliser pour ce champ pr&#xE9;cis de la table attributaire. Si vous cliquez sur <strong>[Outil d&#x2019;&#xE9;dition]</strong>, il s&#x2019;ouvre une fen&#xEA;tre de dialogue dans laquelle vous pouvez d&#xE9;finir diff&#xE9;rentes modalit&#xE9;s. Celles-ci sont :</p>
<ul>
<li><p><strong>Bo&#xEE;te &#xE0; cocher</strong> : Affiche une case &#xE0; cocher et vous pouvez d&#xE9;finir quelle valeur stocker quand la case est coch&#xE9;e ou pas.</p>
</li>
<li><p><strong>Classification</strong> : Affiche une liste d&#xE9;roulante avec les valeurs utilis&#xE9;es pour la classification, si vous avez choisi le style &#x2018;Cat&#xE9;goris&#xE9;&#x2019; dans l&#x2019;onglet <em>Style</em> de la fen&#xEA;tre de propri&#xE9;t&#xE9;s.</p>
</li>
<li><p><strong>Couleur</strong> : Affiche un bouton de couleur permettant de choisir une couleur via la fen&#xEA;tre S&#xE9;lectionner une couleur.</p>
</li>
<li><p><strong>Date/Heure</strong> : Affiche un champ de type date/heure qui peut ouvrir un calendrier permettant de choisir une date, une heure ou les deux. Le champ doit &#xEA;tre de type texte. Vous pouvez choisir un format personnalis&#xE9;, l&#x2019;affichage d&#x2019;un calendrier, etc.</p>
</li>
<li><p><strong>&#xC9;num&#xE9;ration</strong> : Ouvre une liste d&#xE9;roulante avec les valeurs qui peuvent &#xEA;tre utilis&#xE9;es selon la d&#xE9;finition du type de champ. Ce mode d&#x2019;&#xE9;dition n&#x2019;est actuellement disponible que pour les couches PostgreSQL.</p>
</li>
<li><p><strong>Nom de fichier</strong> : Simplifie la s&#xE9;lection d&#x2019;un fichier par l&#x2019;ouverture d&#x2019;un explorateur de fichiers.</p>
</li>
<li><p><strong>Cach&#xE9;e</strong> : Un attribut cach&#xE9; sera invisible. L&#x2019;utilisateur ne pourra pas visualiser son contenu.</p>
</li>
<li><p><strong>Photo</strong> : Champ contenant le nom d&#x2019;un fichier de photo. La largeur et la hauteur peuvent &#xEA;tre pr&#xE9;cis&#xE9;es.</p>
</li>
<li><p><strong>Plage</strong> : Vous permet de sp&#xE9;cifier une plage de valeurs num&#xE9;riques disponibles. Il peut s&#x2019;agir d&#x2019;une barre coulissante ou d&#x2019;une zone de texte &#xE9;ditable.</p>
</li>
<li><p><strong>R&#xE9;f&#xE9;rence de la relation</strong>: Ce widget vous permet d&#x2019;incorporer le formulaire d&#x2019;entit&#xE9;s de la couche r&#xE9;f&#xE9;renc&#xE9;e dans le formulaire de la couche courante. <em>vector_relations</em>.</p>
</li>
<li><p><strong>&#xC9;dition de texte</strong> (par d&#xE9;fait) : Ceci permet l&#x2019;&#xE9;dition d&#x2019;un texte simple ou multi-ligne. Si vous choisissez Multi-ligne, vous pouvez sp&#xE9;cifier s&#x2019;il s&#x2019;agit d&#x2019;un contenu en HTML.</p>
</li>
<li><p><strong>Valeurs uniques</strong> : Vous pouvez s&#xE9;lectionner l&#x2019;une des valeurs d&#xE9;j&#xE0; utilis&#xE9;es dans cette colonne. Une ligne est affich&#xE9;e avec le support de l&#x2019;auto-compl&#xE9;tion si la case &#x2018;&#xC9;ditable&#x2019; est coch&#xE9;e, une bo&#xEE;te de saisie est utilis&#xE9;e sinon.</p>
</li>
<li><p><strong>G&#xE9;n&#xE9;rateur d&#x2019;UUID</strong> : Champ en lecture seule qui g&#xE9;n&#xE8;re un UUID (Identifiant Unique Universel) lorsqu&#x2019;il est vide.</p>
</li>
<li><p><strong>Liste de valeurs</strong> : Une liste d&#xE9;roulante avec des valeurs pr&#xE9;d&#xE9;finies. La valeur est stock&#xE9;e dans l&#x2019;attribut, la description est affich&#xE9;e dans la liste. Vous pouvez d&#xE9;finir des valeurs manuellement ou les charger depuis la couche ou depuis un fichier CSV.</p>
</li>
<li><p><strong>Valeur relationnelle</strong> : Propose les valeurs stock&#xE9;es dans un champ d&#x2019;une autre table. Vous choisissez la table, le champ cl&#xE9; et le champ de valeur.</p>
</li>
<li><p><strong>Vue web</strong> : Champ contenant une URL. La largeur et la hauteur sont variables.</p>
</li>
</ul>
<p>Note</p>
<p>KADAS has an advanced &#x2018;hidden&#x2019; option to define your own field widget using python and add it to this impressive list of widgets. It is tricky but it is very well explained in following excellent blog that explains how to create a real time validation widget that can be used like described widgets. See <a href="http://blog.vitu.ch/10142013-1847/write-your-own-qgis-form-elements" class="uri" target="_blank">http://blog.vitu.ch/10142013-1847/write-your-own-qgis-form-elements</a></p>
<p>Avec <strong>l&#x2019;&#xC9;diteur de mise en page des attributs</strong> vous pouvez maintenant d&#xE9;finir des formulaires int&#xE9;gr&#xE9;s (voir <a href="#figure-fields-2" class="reference internal">figure_fields_2</a>). C&#x2019;est utile pour les travaux de saisie de donn&#xE9;es ou pour identifier des objets en utilisant l&#x2019;option d&#x2019;ouverture automatique du formulaire lorsqu&#x2019;il y a des objets ayant beaucoup d&#x2019;attributs. Vous pouvez cr&#xE9;er un &#xE9;diteur ayant plusieurs onglets et groupes nomm&#xE9;s pour pr&#xE9;senter les champs d&#x2019;attributs.</p>
<p>Choose &#x2018;Drag and drop designer&#x2019; and an attribute column. Use the <a href="../../images/mActionSignPlus.png" class="reference internal"><img src="../../images/mActionSignPlus.png" alt="mActionSignPlus"></a> icon to create a category to insert a tab or a named group (see <a href="#figure-fields-3" class="reference internal">figure_fields_3</a>). When creating a new category, KADAS will insert a new tab or named group for the category in the built-in form. The next step will be to assign the relevant fields to a selected category with the <a href="../../images/mActionArrowRight.png" class="reference internal"><img src="../../images/mActionArrowRight.png" alt="mActionArrowRight"></a> icon. You can create more categories and use the same fields again.</p>
<p>Other options in the dialog are &#x2018;Autogenerate&#x2019; and &#x2018;Provide ui-file&#x2019;.</p>
<ul>
<li>&#x2018;Autogenerate&#x2019; just creates editors for all fields and tabulates them.</li>
<li>The &#x2018;Provide ui-file&#x2019; option allows you to use complex dialogs made with the Qt-Designer. Using a UI-file allows a great deal of freedom in creating a dialog. For detailed information, see <a href="http://nathanw.net/2011/09/05/qgis-tips-custom-feature-forms-with-python-logic/" class="uri" target="_blank">http://nathanw.net/2011/09/05/qgis-tips-custom-feature-forms-with-python-logic/</a>.</li>
</ul>
<p>Les fen&#xEA;tres de KADAS peuvent &#xEA;tre associ&#xE9;es &#xE0; une fonction Python qui peut &#xEA;tre appel&#xE9;e &#xE0; l&#x2019;ouverture de la fen&#xEA;tre. Utilisez cette fonction pour ajouter des &#xE9;l&#xE9;ments suppl&#xE9;mentaires &#xE0; vos fen&#xEA;tres. Un exemple est (dans le module MyForms.py):</p>
<pre><code>def open(dialog,layer,feature):
geom = feature.geometry()
control = dialog.findChild(QWidged,&quot;My line edit&quot;)
</code></pre><p>R&#xE9;f&#xE9;rence &#xE0; la Fonction Python Init comme ceci : MyForms.open</p>
<p>Le fichier MyForms.py doit &#xEA;tre pr&#xE9;sent dans le PYTHONPATH, dans le dossier .qgis2/python ou dans le dossier du projet.</p>
<p><strong>Figure Fields 2:</strong></p>
<p><img src="../../images/attribute_editor_layout.png" alt="">
Fen&#xEA;tre de cr&#xE9;ation de cat&#xE9;gories avec la <strong>Mise en page de l&#x2019;&#xE9;diteur d&#x2019;attribut</strong></p>
<p><strong>Figure Fields 3:</strong></p>
<p><img src="../../images/resulting_feature_form.png" alt="">
Formulaire int&#xE9;gr&#xE9; obtenu avec onglets et groupes nomm&#xE9;s</p>
<h2 id="general-menu">Onglet G&#xE9;n&#xE9;ral </h2>
<p><a href="../../images/general.png" class="reference internal"><img src="../../images/general.png" alt="general"></a> Utilisez cet onglet pour d&#xE9;finir les param&#xE8;tres g&#xE9;n&#xE9;raux de la couche vecteur. Plusieurs options sont disponibles :</p>
<p>Informations sur la couche</p>
<ul>
<li><p>Changez le nom affich&#xE9; de la couche dans <em>Nom de la couche</em></p>
</li>
<li><p>D&#xE9;finissez le fichier <em>Source de la couche</em> vectorielle</p>
</li>
<li><p>D&#xE9;finissez l&#x2019;<em>Encodage de la source des donn&#xE9;es</em> pour sp&#xE9;cifier le type d&#x2019;encodage utilis&#xE9; dans les donn&#xE9;es source et pour pouvoir les lire correctement</p>
</li>
</ul>
<p>Syst&#xE8;me de Coordonn&#xE9;es de R&#xE9;f&#xE9;rence</p>
<ul>
<li><p><em>S&#xE9;lectionner le SCR</em>, syst&#xE8;me de coordonn&#xE9;es de r&#xE9;f&#xE9;rence. Ici vous pouvez visualiser ou modifier le SCR de la couche.</p>
</li>
<li><p><em>Cr&#xE9;er un index spatial</em> (uniquement pour les formats g&#xE9;r&#xE9;s par OGR),</p>
</li>
<li><p><em>Mettre &#xE0; jour l&#x2019;emprise</em> dans les informations de la couche,</p>
</li>
<li><p>Voir ou modifier la projection de la couche vecteur en cliquant sur <em>S&#xE9;lectionner le SCR</em></p>
</li>
</ul>
<p><a href="../../images/checkbox.png" class="reference internal"><img src="../../images/checkbox.png" alt="checkbox"></a> <em>Visibilit&#xE9; d&#xE9;pendante de l&#x2019;&#xE9;chelle</em></p>
<ul>
<li>Vous pouvez d&#xE9;finir les &#xE9;chelles <em>Maximum (inclusif)</em> et <em>Minimum (exclusif)</em> de visualisation de la couche. Les &#xE9;chelles peuvent &#xEA;tre d&#xE9;finies via les boutons <strong>[Un outil pour d&#xE9;finir l&#x2019;&#xE9;chelle de visibilit&#xE9;]</strong>.</li>
</ul>
<p>Sous-ensemble de la couche</p>
<ul>
<li>Le bouton <strong>[Constructeur de requ&#xEA;te]</strong> permet de d&#xE9;finir un sous-ensemble de la couche qui sera visualis&#xE9; en lieu et place de la couche compl&#xE8;te (r&#xE9;f&#xE9;rez-vous &#xE9;galement &#xE0; la section <em>vector_query_builder</em>).</li>
</ul>
<p><strong>Figure General 1:</strong></p>
<p><img src="../../images/vector_general_menu.png" alt="">
Onglet G&#xE9;n&#xE9;ral de la fen&#xEA;tre de Propri&#xE9;t&#xE9;s d&#x2019;une couche vecteur </p>
<h2 id="rendering-menu">Onglet Rendu </h2>
<p>KADAS supports for on-the-fly feature generalisation. This can improve rendering times when drawing many complex features at small scales. This feature can be enabled or disabled in the layer settings using the <a href="../../images/checkbox.png" class="reference internal"><img src="../../images/checkbox.png" alt="checkbox"></a> <em>Simplify geometry</em> option. There is also a new global setting that enables generalisation by default for newly added layers (see section <a href="../introduction/qgis_configuration.html#gui-options" class="reference internal"><em>Options</em></a>). <strong>Note</strong>: Feature generalisation may introduce artefacts into your rendered output in some cases. These may include slivers between polygons and inaccurate rendering when using offset-based symbol layers.</p>
<h2 id="display-menu">Onglet Infobulles </h2>
<p><a href="../../images/mActionMapTips.png" class="reference internal"><img src="../../images/mActionMapTips.png" alt="mActionMapTips"></a> Cet onglet est sp&#xE9;cialement cr&#xE9;&#xE9; pour les infobulles. Il inclut une nouvelle fonctionnalit&#xE9; : les infobulles qui affichent du texte en HTML. Alors que vous pouvez toujours choisir un <img src="../../images/radiobuttonoff.png" alt="radiobuttonoff"> <em>Champ</em> &#xE0; afficher lors du survol d&#x2019;une entit&#xE9; sur la carte, il est maintenant possible d&#x2019;ins&#xE9;rer du code HTML qui cr&#xE9;e un affichage complexe. Pour activer les infobulles, s&#xE9;lectionnez l&#x2019;option de menu <em>Vue&#x2023; Infobulles</em>. La figure 1 montre un exemple de code HTML.</p>
<p><strong>Figure Display 1:</strong></p>
<p><img src="../../images/display_html.png" alt="">
Code HTML pour les infobulles </p>
<p><strong>Figure Display 2:</strong></p>
<p><img src="../../images/map_tip.png" alt="">
Infobulles bas&#xE9;es sur du code HTML </p>
<h2 id="actions-menu">Onglet Actions </h2>
<p><a href="../../images/action.png" class="reference internal"><img src="../../images/action.png" alt="action"></a> KADAS est capable d&#x2019;effectuer des actions bas&#xE9;es sur les attributs d&#x2019;une entit&#xE9;. Il peut s&#x2019;agir de nombreuses actions, par exemple ex&#xE9;cuter un programme avec des arguments construits &#xE0; partir des attributs d&#x2019;une entit&#xE9;, ou encore, passer des param&#xE8;tres &#xE0; un outil de publication de rapports sur internet.</p>
<p><strong>Figure Actions 1:</strong></p>
<p><img src="../../images/action_dialog.png" alt="">
Vue d&#x2019;ensemble de la fen&#xEA;tre Actions avec quelques exemples d&#x2019;actions </p>
<p>Les actions sont utiles si vous voulez ex&#xE9;cuter fr&#xE9;quemment une application externe ou charger une page web bas&#xE9;e sur une ou plusieurs valeurs de votre couche vecteur. Il en existe six types qui peuvent &#xEA;tre utilis&#xE9;s de la sorte :</p>
<ul>
<li><p>Les actions de type G&#xE9;n&#xE9;rique, Mac, Windows et Unix lancent un processus externe.</p>
</li>
<li><p>Les actions Python lancent un code Python.</p>
</li>
<li><p>Les actions de type G&#xE9;n&#xE9;rique et Python sont disponibles quel que soit le syst&#xE8;me d&#x2019;exploitation.</p>
</li>
<li><p>Les actions Mac, Windows et Unix sont disponibles uniquement depuis les syst&#xE8;mes d&#x2019;exploitation correspondants (c&#x2019;est &#xE0; dire que vous pouvez d&#xE9;finir trois actions &#x2018;&#xC9;diter&#x2019; qui ouvrent un &#xE9;diteur et les utilisateurs ne verront que l&#x2019;action correspondant &#xE0; leur syst&#xE8;me d&#x2019;exploitation).</p>
</li>
</ul>
<p>Quelques exemples d&#x2019;actions sont fournis. Vous pouvez les charger en cliquant sur <strong>[Ajouter les actions par d&#xE9;faut]</strong>. Un des exemples effectue une recherche bas&#xE9;e sur la valeur d&#x2019;un attribut. C&#x2019;est ce qui est d&#xE9;velopp&#xE9; par la suite.</p>
<p><strong>D&#xE9;finir des actions</strong></p>
<p>Les actions sur les attributs sont d&#xE9;finies depuis la fen&#xEA;tre <em>Propri&#xE9;t&#xE9;s de la couche</em> vecteur. Pour <span id="index-22" class="target">&lt;/span&gt;d&#xE9;finir une action, ouvrez la fen&#xEA;tre <em>Propri&#xE9;t&#xE9;s de la couche</em> vecteur et cliquez sur le menu <em>Actions</em>. Allez &#xE0; <em>Propri&#xE9;t&#xE9;s de l&#x2019;action</em>. S&#xE9;lectionnez le type &#x2018;G&#xE9;n&#xE9;rique&#x2019; et fournissez un nom d&#x2019;identification &#xE0; l&#x2019;action. Le texte de l&#x2019;action doit lui-m&#xEA;me contenir le nom de l&#x2019;application qui sera ex&#xE9;cut&#xE9;e lorsque l&#x2019;action est invoqu&#xE9;e. Vous pouvez ajouter un ou plusieurs champs en arguments pour l&#x2019;application. Lorsque l&#x2019;action est invoqu&#xE9;e, tout jeu de caract&#xE8;res commen&#xE7;ant par <code>%</code> suivi d&#x2019;un champ sera remplac&#xE9; par la valeur de ce champ. Les caract&#xE8;res sp&#xE9;ciaux <span id="index-23" class="target"></span>%% sont remplac&#xE9;s par la valeur du champ s&#xE9;lectionn&#xE9; dans la fen&#xEA;tre <em>Identifier les r&#xE9;sultats</em> ou dans la <em>Table attributaire</em> ( voir <a href="#using-actions" class="reference internal">using_actions</a> ci-apr&#xE8;s). Les guillemets double peuvent &#xEA;tre utilis&#xE9;s pour regrouper le texte dans un argument unique pour l&#x2019;application, le script ou le programme. Ils sont ignor&#xE9;s lorsque pr&#xE9;c&#xE9;d&#xE9;s d&#x2019;un antislash.</span></p>
<p>If you have field names that are substrings of other field names (e.g., <code>col1</code> and <code>col10</code>), you should indicate that by surrounding the field name (and the % character) with square brackets (e.g., <code>[%col10]</code>). This will prevent the <code>%col10</code> field name from being mistaken for the <code>%col1</code> field name with a <code>0</code> on the end. The brackets will be removed by KADAS when it substitutes in the value of the field. If you want the substituted field to be surrounded by square brackets, use a second set like this: <code>[[%col10]]</code>.</p>
<p>En utilisant l&#x2019;outil <em>Identifier les entit&#xE9;s</em>, vous ouvrez la fen&#xEA;tre <em>Identifier les r&#xE9;sultats</em>. Elle inclut une entr&#xE9;e <em>(D&#xE9;riv&#xE9;)</em> qui contient des informations pertinentes selon le type de couche. Les valeurs de cette entr&#xE9;e sont accessibles de la m&#xEA;me mani&#xE8;re que les autres champs en ajoutant <code>(Derived).</code> avant le nom du champ. Par exemple, une couche de points a un champ <code>X</code> et <code>Y</code> et leurs valeurs peuvent &#xEA;tre utilis&#xE9;es dans l&#x2019;action avec <code>%(Derived).X</code> et <code>%(Derived).Y</code>. Les attributs d&#xE9;riv&#xE9;s sont disponibles uniquement depuis la fen&#xEA;tre <em>Identifier les r&#xE9;sultats</em> mais pas par la <em>Table d&#x2019;attributs</em>.</p>
<p>Deux <span id="index-24" class="target"></span>exemples d&#x2019;action sont propos&#xE9;s ci-dessous :</p>
<ul>
<li><code>konqueror http://www.google.com/search?q=%nam</code></li>
<li><code>konqueror http://www.google.com/search?q=%%</code></li>
</ul>
<p>Dans le premier exemple, le navigateur internet konqueror est lanc&#xE9; avec une URL. L&#x2019;URL effectue une recherche Google sur la valeur du champ <code>nam</code> de la couche vecteur. Notez que l&#x2019;application ou le script appel&#xE9; par l&#x2019;action doit &#xEA;tre dans le path sinon vous devez fournir le chemin complet vers l&#x2019;application. Pour &#xEA;tre certain, nous pouvons r&#xE9;&#xE9;crire le premier exemple de cette mani&#xE8;re : <code>/opt/kde3/bin/konqueror http://www.google.com/search?q=%nam</code>. Ceci assurera que l&#x2019;application konqueror sera ex&#xE9;cut&#xE9;e quand l&#x2019;action sera invoqu&#xE9;e.</p>
<p>The second example uses the %% notation, which does not rely on a particular field for its value. When the action is invoked, the %% will be replaced by the value of the selected field in the identify results or attribute table.</p>
<p><strong>Utiliser les actions</strong></p>
<p>Les actions se lancent depuis la fen&#xEA;tre <em>Identifier les r&#xE9;sultats</em>, depuis la <em>Table d&#x2019;attributs</em> ou depuis <em>Ex&#xE9;cuter l&#x2019;action de l&#x2019;entit&#xE9;</em> (rappelez-vous que ces fen&#xEA;tres s&#x2019;ouvrent en cliquant sur <a href="../../images/mActionIdentify.png" class="reference internal"><img src="../../images/mActionIdentify.png" alt="mActionIdentify"></a> <sup>Identifier\ les\ entit&#xE9;s</sup>, <a href="../../images/mActionOpenTable.png" class="reference internal"><img src="../../images/mActionOpenTable.png" alt="mActionOpenTable"></a> <sup>Ouvrir\ la\ table\ d&#x2019;attributs</sup> ou <a href="../../images/mAction.png" class="reference internal"><img src="../../images/mAction.png" alt="mAction"></a> <sup>Ex&#xE9;cuter\ l&#x2019;action\ de\ l&#x2019;entit&#xE9;</sup>). Pour lancer une action, faites un clic droit sur un enregistrement et choisissez l&#x2019;action depuis le menu qui appara&#xEE;t. Les actions sont list&#xE9;es dans le menu par le nom que vous leur avez donn&#xE9; en les d&#xE9;finissant. Cliquez ensuite sur l&#x2019;action que vous souhaitez lancer.</p>
<p>Si vous faites appel &#xE0; une action qui utilise la notation <code>%%</code>, faites un clic droit sur la valeur du champ que vous souhaitez passer &#xE0; l&#x2019;application ou au script, dans la fen&#xEA;tre <em>Identifier les r&#xE9;sultats</em> ou dans la <em>Table attributaire</em>.</p>
<p>Voici un autre exemple qui r&#xE9;cup&#xE8;re des donn&#xE9;es d&#x2019;une couche vecteur et qui les ins&#xE8;re dans un fichier utilisant bash et la commande <code>echo</code> (cela ne marchera que sur  et peut-&#xEA;tre <a href="../../images/osx.png" class="reference internal"><img src="../../images/osx.png" alt="osx"></a>). La couche en question a des champs pour le nom d&#x2019;esp&#xE8;ce <code>taxon_name</code>, la latitude <code>lat</code> et la longitude <code>long</code>. Nous souhaiterions faire une s&#xE9;lection spatiale de localisations et exporter les valeurs des enregistrements s&#xE9;lectionn&#xE9;s dans un fichier texte (ils apparaissent en jaune sur la carte dans QGIS). Voici l&#x2019;action qui permettra de le faire :</p>
<pre><code>bash -c &quot;echo \&quot;%taxon_name %lat %long\&quot; &gt;&gt; /tmp/species_localities.txt&quot;
</code></pre><p>Apr&#xE8;s avoir s&#xE9;lectionn&#xE9; quelques localit&#xE9;s et lanc&#xE9; l&#x2019;action sur chacune d&#x2019;entre elles, le fichier de destination ressemblera &#xE0; ceci :</p>
<pre><code>Acacia mearnsii -34.0800000000 150.0800000000
Acacia mearnsii -34.9000000000 150.1200000000
Acacia mearnsii -35.2200000000 149.9300000000
Acacia mearnsii -32.2700000000 150.4100000000
</code></pre><p>Comme exercice, nous allons cr&#xE9;er une action qui r&#xE9;alise une recherche Google sur la couche <code>lakes</code>. Tout d&#x2019;abord, nous avons besoin de d&#xE9;terminer l&#x2019;URL n&#xE9;cessaire pour effectuer une recherche sur un mot cl&#xE9;. Il suffit simplement d&#x2019;aller sur Google et faire une recherche simple puis r&#xE9;cup&#xE9;rer l&#x2019;URL dans la barre d&#x2019;adresse de votre navigateur. De cela, nous en d&#xE9;duisons la formulation : <a href="http://google.com/search?q=qgis" class="uri" target="_blank">http://google.com/search?q=qgis</a>, o&#xF9; <code>qgis</code> est le terme recherch&#xE9;. &#xC0; partir de tout cela, nous pouvons poursuivre :</p>
<ol>
<li><p>Assurez-vous que la couche <code>lakes</code> est charg&#xE9;e.</p>
</li>
<li><p>Ouvrez la fen&#xEA;tre <em>Propri&#xE9;t&#xE9;s de la couche</em> en double cliquant sur la couche dans la l&#xE9;gende ou en faisant un clic droit et en choisissant <em>Propri&#xE9;t&#xE9;s</em> dans le menu qui appara&#xEE;t.</p>
</li>
<li><p>Cliquez sur l&#x2019;onglet <em>Actions</em></p>
</li>
<li><p>Entrez un nom pour l&#x2019;action, par exemple <code>Recherche Google</code>.</p>
</li>
<li><p>Pour l&#x2019;action, nous devons fournir le nom du programme externe &#xE0; lancer. Dans ce cas, nous allons utiliser Firefox. Si le programme n&#x2019;est pas dans votre path, vous devez fournir le chemin complet.</p>
</li>
<li><p>A la suite du nom de l&#x2019;application externe, ajoutez l&#x2019;URL utilis&#xE9;e pour faire la recherche Google, jusqu&#x2019;au terme de recherche, mais sans l&#x2019;ajouter : <code>http://google.com/search?q=</code></p>
</li>
<li><p>Le texte dans le champ <em>Action</em> devrait ressembler &#xE0; ceci : <code>firefox http://google.com/search?q=</code></p>
</li>
<li><p>Cliquez sur le menu d&#xE9;roulant contenant les noms des champs pour la couche <code>lakes</code>. Il est situ&#xE9; juste &#xE0; gauche du bouton <strong>[Ins&#xE9;rer un champ]</strong>.</p>
</li>
<li><p>S&#xE9;lectionnez le champ &#x2018;NAMES&#x2019; du menu d&#xE9;roulant et cliquez sur <strong>[Ins&#xE9;rer un champ]</strong>.</p>
</li>
<li><p>Votre texte Action ressemble maintenant &#xE0; :</p>
<p><code>firefox http://google.com/search?q=%NAMES</code></p>
</li>
<li><p>Pour finaliser l&#x2019;action, cliquez sur le bouton <strong>[Ajouter l&#x2019;action &#xE0; la liste]</strong>.</p>
</li>
</ol>
<p>L&#x2019;action est donc enti&#xE8;rement d&#xE9;finie et pr&#xEA;te &#xE0; &#xEA;tre utilis&#xE9;e. Le texte final de l&#x2019;action devrait correspondre &#xE0; &#xE7;a :</p>
<pre><code>firefox http://google.com/search?q=%NAMES
</code></pre><p>Nous pouvons maintenant utiliser l&#x2019;action. Fermez la fen&#xEA;tre <em>Propri&#xE9;t&#xE9;s de la couche</em> et zoomez sur une zone d&#x2019;int&#xE9;r&#xEA;t. Assurez-vous que la couche <code>lakes</code> est active puis identifiez un lac. Dans la fen&#xEA;tre de r&#xE9;sultats, vous constatez que notre action est maintenant visible :</p>
<p><strong>Figure Actions 2:</strong></p>
<p><img src="../../images/action_identifyaction.png" alt="">
S&#xE9;lection de l&#x2019;entit&#xE9; et choix de l&#x2019;action </p>
<p>Quand vous cliquez sur l&#x2019;action, cela ouvre Firefox et charge l&#x2019;URL <a href="http://www.google.com/search?q=Tustumena" class="uri" target="_blank">http://www.google.com/search?q=Tustumena</a>. Il est &#xE9;galement possible d&#x2019;ajouter d&#x2019;autres champs attributs &#xE0; l&#x2019;action. Pour faire cela, vous pouvez ajouter un <code>+</code> &#xE0; la fin du texte de l&#x2019;action, s&#xE9;lectionnez un autre champ et cliquez sur <strong>[Ins&#xE9;rer un champ]</strong>. Dans cet exemple, la recherche sur un autre champ n&#x2019;aurait pas de sens.</p>
<p>Vous pouvez d&#xE9;finir de multiples actions pour une couche et chacune apparaitra dans la fen&#xEA;tre <em>Identifier les r&#xE9;sultats</em>.</p>
<p>Vous pouvez imaginer toutes sortes d&#x2019;utilisations pour ces actions. Par exemple, si vous avez une couche de points contenant la localisation d&#x2019;images ou de photos ainsi qu&#x2019;un nom de fichier, vous pouvez cr&#xE9;er une action qui lancera un visualiseur pour afficher les images. Vous pouvez &#xE9;galement utiliser les actions pour lancer des rapports sur internet pour un champ attributaire ou une combinaison de champs, en les sp&#xE9;cifiant de la m&#xEA;me mani&#xE8;re que dans l&#x2019;exemple d&#x2019;une recherche Google.</p>
<p>Nous pouvons &#xE9;galement fournir des exemples plus complexes, notamment sur la mani&#xE8;re d&#x2019;utiliser des actions <strong>Python</strong>.</p>
<p>D&#x2019;ordinaire, lorsque l&#x2019;on cr&#xE9;e une action pour ouvrir un fichier avec une application externe, on peut utiliser un chemin absolu ou relatif. Dans ce dernier cas, le chemin d&#xE9;pend donc de l&#x2019;emplacement du fichier d&#x2019;ex&#xE9;cution du programme externe. Mais si nous souhaitons utiliser des chemins relatifs &#xE0; la couche s&#xE9;lectionn&#xE9;e (stock&#xE9;e sous forme de fichier comme un shapefile ou une base SpatiaLite) ? Le code suivant permet de le faire :</p>
<pre><code>command = &quot;firefox&quot;;
imagerelpath = &quot;images_test/test_image.jpg&quot;;
layer = qgis.utils.iface.activeLayer();
import os.path;
layerpath = layer.source() if layer.providerType() == &apos;ogr&apos;
  else (qgis.core.QgsDataSourceURI(layer.source()).database()
  if layer.providerType() == &apos;spatialite&apos; else None);
path = os.path.dirname(str(layerpath));
image = os.path.join(path,imagerelpath);
import subprocess;
subprocess.Popen( [command, image ] );
</code></pre><p>Il faut simplement se rappeler qu&#x2019;il s&#x2019;agit d&#x2019;une action <em>Python</em> et qu&#x2019;il faut modifier les variables <em>command</em> et <em>imagerelpath</em> selon vos besoins.</p>
<p>Et si le chemin relatif doit d&#xE9;pendre du fichier de projet (sauvegard&#xE9;) ? Le code de l&#x2019;action Python deviendra :</p>
<pre><code>command=&quot;firefox&quot;;
imagerelpath=&quot;images/test_image.jpg&quot;;
projectpath=qgis.core.QgsProject.instance().fileName();
import os.path; path=os.path.dirname(str(projectpath)) if projectpath != &apos;&apos; else None;
image=os.path.join(path, imagerelpath);
import subprocess;
subprocess.Popen( [command, image ] );
</code></pre><p>Un autre exemple d&#x2019;action Python consiste &#xE0; ajouter de nouvelles couche au projet. L&#x2019;exemple qui suit montre comment ajouter une couche vecteur et un raster. Les noms des fichiers &#xE0; ajouter au projet et les noms &#xE0; donner aux couches d&#xE9;pendent de donn&#xE9;es attributaires (<em>filename</em> et <em>layername</em> sont deux champs de la table attributaire de la couche sur laquelle l&#x2019;action est cr&#xE9;&#xE9;e) :</p>
<pre><code>qgis.utils.iface.addVectorLayer(&apos;/yourpath/[% &quot;filename&quot; %].shp&apos;,&apos;[% &quot;layername&quot; %]&apos;,
  &apos;ogr&apos;)
</code></pre><p>Pour ajouter un raster (ici une image TIF), cela devient :</p>
<pre><code>qgis.utils.iface.addRasterLayer(&apos;/yourpath/[% &quot;filename&quot; %].tif&apos;,&apos;[% &quot;layername&quot; %]
&apos;)
</code></pre><h2 id="joins-menu">Onglet Jointures </h2>
<p><a href="../../images/join.png" class="reference internal"><img src="../../images/join.png" alt="join"></a> L&#x2019;onglet <em>Jointures</em> permet de <span id="index-25" class="target">&lt;/span&gt;joindre une table attributaire charg&#xE9;e &#xE0; une couche vecteur charg&#xE9;e. Apr&#xE8;s avoir cliqu&#xE9; sur le bouton <a href="../../images/mActionSignPlus.png" class="reference internal"><img src="../../images/mActionSignPlus.png" alt="mActionSignPlus"></a>, la fen&#xEA;tre <em>Ajouter une jointure vectorielle</em> appara&#xEE;t. Vous devez d&#xE9;finir une <span id="index-26" class="target"></span>couche de jointure &#xE0; connecter &#xE0; la couche cible. Ensuite, vous devez d&#xE9;finir un champ de jointure qui sera commun &#xE0; la table &#xE0; joindre et &#xE0; la table attributaire de la couche cible. Vous pouvez enfin sp&#xE9;cifier la liste des champs &#xE0; joindre en cochant la case <a href="../../images/checkbox.png" class="reference internal"><img src="../../images/checkbox.png" alt="checkbox"></a> <em>Choisir les champs &#xE0; joindre</em>. Il en r&#xE9;sulte que toutes les informations de la table &#xE0; joindre seront affich&#xE9;s en plus des champs de la table cible. Si vous avez sp&#xE9;cifi&#xE9; une liste de champs &#xE0; joindre, seuls ceux-ci appara&#xEE;tront dans la table attributaire de la couche cible.</span></p>
<p>Actuellement, KADAS g&#xE8;re les jointures de tables non spatiales aux formats pris en charge par OGR (par exemple CSV, DBF, Excel), au format texte d&#xE9;limit&#xE9; et issues de PostgreSQL (voir <a href="#figure-joins-1" class="reference internal">figure_joins_1</a>).</p>
<p><strong>Figure Joins 1:</strong></p>
<p><img src="../../images/join_attributes.png" alt="">
Joindre une table attributaire &#xE0; une couche vectorielle existante </p>
<p>De plus, la fen&#xEA;tre de jointure vous permet de :</p>
<ul>
<li><p><a href="../../images/checkbox.png" class="reference internal"><img src="../../images/checkbox.png" alt="checkbox"></a> <em>Mettre la couche jointe en cache dans la m&#xE9;moire virtuelle</em></p>
</li>
<li><p><a href="../../images/checkbox.png" class="reference internal"><img src="../../images/checkbox.png" alt="checkbox"></a> <em>Cr&#xE9;er un index des attributs joins</em></p>
</li>
<li><p><a href="../../images/checkbox.png" class="reference internal"><img src="../../images/checkbox.png" alt="checkbox"></a> <em>Choisir les champs &#xE0; joindre</em></p>
</li>
<li><p><a href="../../images/checkbox.png" class="reference internal"><img src="../../images/checkbox.png" alt="checkbox"></a> <em>Personnaliser le pr&#xE9;fixe du champ</em></p>
</li>
</ul>
<h2 id="diagrams-menu">Onglet Diagrammes </h2>
<p><a href="../../images/diagram.png" class="reference internal"><img src="../../images/diagram.png" alt="diagram"></a> L&#x2019;onglet <em>Diagrammes</em> permet d&#x2019;ajouter une couche de graphiques sur une couche vecteur (voir <a href="#figure-diagrams-1" class="reference internal">figure_diagrams_1</a>).</p>
<p>Cet onglet permet de g&#xE9;n&#xE9;rer des diagrammes circulaires, textes et des histogrammes.</p>
<p>L&#x2019;onglet est subdivis&#xE9; en quatre sous-onglets : <em>Apparence</em>, <em>Taille</em>, <em>Postion</em> et <em>Options</em>.</p>
<p>Dans les cas de diagramme texte ou en camembert, les valeurs texte des diff&#xE9;rentes colonnes de donn&#xE9;es sont affich&#xE9;es les unes en-dessous des autres &#xE0; l&#x2019;int&#xE9;rieur d&#x2019;un cercle ou dans une bo&#xEE;te avec des diviseurs. Dans l&#x2019;onglet <em>Taille</em>, la taille du diagramme est bas&#xE9;e sur une taille fixe ou sur la mise &#xE0; l&#x2019;&#xE9;chelle lin&#xE9;aire selon un attribut de classification. Le placement des diagrammes, qui se fait dans l&#x2019;onglet <em>Position</em>, est en interaction avec l&#x2019;&#xE9;tiquetage, donc des conflits de position entre les diagrammes et les &#xE9;tiquettes sont d&#xE9;tect&#xE9;s et r&#xE9;solus. En outre, les positions de diagramme peuvent &#xEA;tre fix&#xE9;es manuellement.</p>
<p><strong>Figure Diagrams 1:</strong></p>
<p><img src="../../images/diagram_tab.png" alt="">
Onglet Diagrammes de la fen&#xEA;tre de Propri&#xE9;t&#xE9;s d&#x2019;une couche vecteur </p>
<p>Nous allons vous montrer un exemple en superposant aux fronti&#xE8;res de l&#x2019;Alaska des donn&#xE9;es concernant la temp&#xE9;rature issues d&#x2019;une couche vecteur portant sur le climat. Toutes ces couches sont disponibles dans l&#x2019;&#xE9;chantillon de donn&#xE9;es QGIS (voir section <a href="../introduction/getting_started.html#label-sampledata" class="reference internal"><em>&#xC9;chantillon de donn&#xE9;es</em></a>).</p>
<ol>
<li><p>Tout d&#x2019;abord, cliquez sur le bouton <a href="../../images/mActionAddOgrLayer.png" class="reference internal"><img src="../../images/mActionAddOgrLayer.png" alt="mActionAddOgrLayer"></a> <sup>Ajouter\ une\ couche\ vecteur</sup>, naviguez jusqu&#x2019;au jeu de donn&#xE9;es exemples de KADAS et ajoutez les deux couches <code>alaska.shp</code> et <code>climate.shp</code>.</p>
</li>
<li><p>Double-cliquez sur la couche <code>climate</code> dans la l&#xE9;gende pour ouvrir la fen&#xEA;tre de <em>Propri&#xE9;t&#xE9;s de la Couche</em>.</p>
</li>
<li><p>Cliquez sur l&#x2019;onglet <em>Diagrammes</em>, activez la case <a href="../../images/checkbox.png" class="reference internal"><img src="../../images/checkbox.png" alt="checkbox"></a> <em>Afficher les diagrammes</em> et choisissez &#x2018;Diagramme texte dans la liste d&#xE9;roulante <a href="#id1"><span id="id2" class="problematic">|</span></a>selectstring|`Type de diagramme`.</p>
</li>
<li><p>Dans l&#x2019;onglet <em>Apparence</em>, nous choisissons le bleu clair comme couleur de fond et d&#xE9;finissons une taille fixe de 18 mm dans l&#x2019;onglet <em>Taille</em>.</p>
</li>
<li><p>Dans l&#x2019;onglet <em>Position</em>, l&#x2019;emplacement d&#xE9;fini est Autour du point.</p>
</li>
<li><p>Sur le diagramme, nous souhaiterions afficher les valeurs de trois colonnes T_F_JAN`, <code>T_F_JUL</code> et <code>T_F_MEAN</code>. D&#x2019;abord, s&#xE9;lectionnez <code>T_F_JAN</code> de la colonne <em>Attributs</em> et cliquez sur le bouton <a href="../../images/mActionSignPlus.png" class="reference internal"><img src="../../images/mActionSignPlus.png" alt="mActionSignPlus"></a> puis <code>T_F_JUL</code> et enfin <code>T_F_MEAN</code>.</p>
</li>
<li><p>Cliquez maintenant sur <strong>[Appliquer]</strong> pour afficher les diagrammes sur la carte.</p>
</li>
<li><p>Vous pouvez adapter la taille du graphique dans l&#x2019;onglet <em>Taille</em>. D&#xE9;cochez <a href="../../images/checkbox.png" class="reference internal"><img src="../../images/checkbox.png" alt="checkbox"></a> <em>Taille Fixe</em> et d&#xE9;finissez la taille des diagrammes en fonction d&#x2019;un attribut avec le bouton <strong>[Trouver la valeur maximale]</strong> et la liste d&#xE9;roulante <em>Taille</em>. Si les diagrammes apparaissent trop petits &#xE0; l&#x2019;&#xE9;cran, vous pouvez cocher la case <a href="../../images/checkbox.png" class="reference internal"><img src="../../images/checkbox.png" alt="checkbox"></a> <em>Augmenter la taille des petits diagrammes</em> et d&#xE9;finir la Taille minimale des diagrammes.</p>
</li>
<li><p>Changez les couleurs des attributs en double-cliquant sur les rectangles color&#xE9;es dans le champ <em>Attributs utilis&#xE9;s</em>. <a href="#figure-diagrams-2" class="reference internal">Figure_diagrams_2</a> donne un aper&#xE7;u.</p>
</li>
<li><p>Cliquez enfin sur <strong>[OK]</strong>.</p>
</li>
</ol>
<p><strong>Figure Diagrams 2:</strong></p>
<p><a href="../../images/climate_diagram.png" class="reference internal image-reference"><img src="../../images/climate_diagram.png" alt="../../images/climate_diagram.png"></a>
Diagrammes issus de donn&#xE9;es de temp&#xE9;ratures sur une carte </p>
<p>N&#x2019;oubliez pas que, dans l&#x2019;onglet <em>Position</em>, en cochant la case <a href="../../images/checkbox.png" class="reference internal"><img src="../../images/checkbox.png" alt="checkbox"></a> <em>Source de d&#xE9;finition de la position</em>, vous pouvez utiliser des valeurs d&#x2019;attributs pour choisir l&#x2019;emplacement des diagrammes. Par ailleurs, dans l&#x2019;onglet <em>Apparence</em>, vous pouvez d&#xE9;finir la visibilit&#xE9; en fonction de l&#x2019;&#xE9;chelle.</p>
<p>La taille et les attributs peuvent aussi &#xEA;tre une expression. Utilisez le bouton <a href="../../images/mIconExpressionEditorOpen.png" class="reference internal"><img src="../../images/mIconExpressionEditorOpen.png" alt="mActionmIconExpressionEditorOpen"></a> pour ajouter une expression. Voir <a href="expression.html#vector-expressions" class="reference internal"><em>Expressions</em></a> pour plus d&#x2019;informations et des exemples.</p>
<h2 id="metadata-menu">Onglet M&#xE9;tadonn&#xE9;es </h2>
<p><a href="../../images/metadata.png" class="reference internal"><img src="../../images/metadata.png" alt="metadata"></a> Le menu <em>M&#xE9;tadonn&#xE9;es</em> comprend les sections <em>Description</em>, <em>Attribution</em>, <em>URL M&#xE9;tadonn&#xE9;es</em>, <em>LegendURL</em> et <em>Propri&#xE9;t&#xE9;s</em>.</p>
<p>Dans la section <em>Propri&#xE9;t&#xE9;s</em>, vous disposez des informations g&#xE9;n&#xE9;rales sur la couche, y compris celles sp&#xE9;cifiques &#xE0; son type, sa localisation, le nombre d&#x2019;entit&#xE9;s, le type d&#x2019;entit&#xE9;s et les possibilit&#xE9;s d&#x2019;&#xE9;dition. La table <em>Emprise</em> vous fournit les informations sur l&#x2019;emprise de la couche et le <em>Syst&#xE8;me de R&#xE9;f&#xE9;rence Spatiale de la Couche</em> qui est une information sur le SCR de la couche. Voici un moyen rapide d&#x2019;obtenir des informations sur la couche.</p>
<p>En compl&#xE9;ment, vous pouvez ajouter ou &#xE9;diter un titre ainsi qu&#x2019;un r&#xE9;sum&#xE9; pour la couche dans la section <em>Description</em>. Il est aussi possible de d&#xE9;finir ici une <em>Liste de mots-cl&#xE9;s</em>. Ces listes de mots-cl&#xE9;s peuvent &#xEA;tre utilis&#xE9;es dans un catalogue de m&#xE9;tadonn&#xE9;es. Si vous souhaitez utiliser un titre depuis un fichier XML de m&#xE9;tadonn&#xE9;es, vous devez renseigner un lien dans le champ <em>DataUrl</em>. Utilisez <em>Attribution</em> pour r&#xE9;cup&#xE9;rer les donn&#xE9;es d&#x2019;attributs depuis un catalogue de m&#xE9;tadonn&#xE9;es XML. Dans le champ <em>URL M&#xE9;tadonn&#xE9;es</em>, vous pouvez d&#xE9;finir le chemin g&#xE9;n&#xE9;ral d&#x2019;acc&#xE8;s au catalogue de m&#xE9;tadonn&#xE9;es XML. Cette information sera stock&#xE9;e dans le fichier de projet KADAS pour les sessions suivantes et sera utilis&#xE9;e par KADAS server.</p>
<p><strong>Figure Metadata 1:</strong></p>
<p><img src="../../images/vector_metadata_tab.png" alt="">
Onglet M&#xE9;tadonn&#xE9;es de la fen&#xEA;tre de Propri&#xE9;t&#xE9;s d&#x2019;une couche vecteur </p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="supported_data.html" class="navigation navigation-prev " aria-label="Previous page: Les données vectorielles">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="expression.html" class="navigation navigation-next " aria-label="Next page: Expressions">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Fenêtre Propriétés d’une couche vecteur","level":"1.10.4","depth":2,"next":{"title":"Expressions","level":"1.10.5","depth":2,"path":"working_with_vector/expression.md","ref":"working_with_vector/expression.md","articles":[]},"previous":{"title":"Les données vectorielles","level":"1.10.3","depth":2,"path":"working_with_vector/supported_data.md","ref":"working_with_vector/supported_data.md","articles":[]},"dir":"ltr"},"config":{"plugins":["hide-element","offline"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"offline":{},"livereload":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"hide-element":{"elements":[".gitbook-link"]},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"fr","gitbook":"*"},"file":{"path":"working_with_vector/vector_properties.md","mtime":"2017-11-14T15:37:16.060Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2017-11-14T18:15:20.331Z"},"basePath":"..","book":{"language":"fr"}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-hide-element/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-offline/service-worker-registration.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

